window.SpinePlugin=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=63)}([function(t,e){function i(t,e,i){var n=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&n.value&&"object"==typeof n.value&&(n=n.value),!(!n||!
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(n))&&(void 0===n.enumerable&&(n.enumerable=!0),void 0===n.configurable&&(n.configurable=!0),n)}function n(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function s(t,e,s,r){for(var o in e)if(e.hasOwnProperty(o)){var h=i(e,o,s);if(!1!==h){if(n((r||t).prototype,o)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,o,h)}else t.prototype[o]=e[o]}}function r(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)s(t,e[i].prototype||e[i])}}function a(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var n=t.Extends;e=function(){n.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var a=null;return t.Mixins&&(a=t.Mixins,delete t.Mixins),r(e,a),s(e,t,!0,i),e}a.extend=s,a.mixin=r,a.ignoreFinals=!1,t.exports=a},function(t,e){t.exports=function(){}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(31),r=new n({initialize:function(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new r(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,e){return s(this.x,t.x,e)&&s(this.y,t.y,e)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},normalizeLeftHand:function(){var t=this.x;return this.x=this.y,this.y=-1*t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this},transformMat3:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},transformMat4:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[4]*i+n[12],this.y=n[1]*e+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(t){var e=this.length();return e&&e>t&&this.scale(t/e),this},reflect:function(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};t.exports=i},function(t,e){t.exports=function(t,e,i,n){var s=t.length;if(e<0||e>s||e>=i||i>s||e+i>s){if(n)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(t,e){t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},function(t,e){t.exports=function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),s=t,r=i,a=0;a<n.length;a++){if(!s.hasOwnProperty(n[a])){r=i;break}r=s[n[a]],s=s[n[a]]}return r}return i}return i}},function(t,e){t.exports=function(t,e,i){var n=typeof t;return t&&"number"!==n&&"string"!==n&&t.hasOwnProperty(e)&&void 0!==t[e]?t[e]:i}},function(t,e){t.exports=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,n=t[e],s=e;s<i;s++)t[s]=t[s+1];return t.length=i,n}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(25),r=new n({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=s.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=r},function(t,e){t.exports=function(t,e,i){var n=i-e;return e+((t-e)%n+n)%n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clone:function(){return new n(this.x,this.y,this.z)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},crossVectors:function(t,e){var i=t.x,n=t.y,s=t.z,r=e.x,a=e.y,o=e.z;return this.x=n*o-s*a,this.y=s*r-i*o,this.z=i*a-n*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},setFromMatrixPosition:function(t){return this.fromArray(t.val,12)},setFromMatrixColumn:function(t,e){return this.fromArray(t.val,4*e)},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addScale:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return Math.sqrt(e*e+i*i+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return e*e+i*i+n*n},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,n=t*t+e*e+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,a=t.z;return this.x=i*a-n*r,this.y=n*s-e*a,this.z=e*r-i*s,this},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,s=this.z;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=s+e*(t.z-s),this},applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,s=t.val;return this.x=s[0]*e+s[3]*i+s[6]*n,this.y=s[1]*e+s[4]*i+s[7]*n,this.z=s[2]*e+s[5]*i+s[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,s=t.val,r=1/(s[3]*e+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*n+s[12])*r,this.y=(s[1]*e+s[5]*i+s[9]*n+s[13])*r,this.z=(s[2]*e+s[6]*i+s[10]*n+s[14])*r,this},transformMat3:function(t){var e=this.x,i=this.y,n=this.z,s=t.val;return this.x=e*s[0]+i*s[3]+n*s[6],this.y=e*s[1]+i*s[4]+n*s[7],this.z=e*s[2]+i*s[5]+n*s[8],this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*n+s[12],this.y=s[1]*e+s[5]*i+s[9]*n+s[13],this.z=s[2]*e+s[6]*i+s[10]*n+s[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,n=this.z,s=t.val,r=e*s[0]+i*s[4]+n*s[8]+s[12],a=e*s[1]+i*s[5]+n*s[9]+s[13],o=e*s[2]+i*s[6]+n*s[10]+s[14],h=e*s[3]+i*s[7]+n*s[11]+s[15];return this.x=r/h,this.y=a/h,this.z=o/h,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,a=t.z,o=t.w,h=o*e+r*n-a*i,l=o*i+a*e-s*n,u=o*n+s*i-r*e,c=-s*e-r*i-a*n;return this.x=h*o+c*-s+l*-a-u*-r,this.y=l*o+c*-r+u*-s-h*-a,this.z=u*o+c*-a+h*-r-l*-s,this},project:function(t){var e=this.x,i=this.y,n=this.z,s=t.val,r=s[0],a=s[1],o=s[2],h=s[3],l=s[4],u=s[5],c=s[6],f=s[7],d=s[8],p=s[9],m=s[10],g=s[11],x=s[12],y=s[13],v=s[14],w=1/(e*h+i*f+n*g+s[15]);return this.x=(e*r+i*l+n*d+x)*w,this.y=(e*a+i*u+n*p+y)*w,this.z=(e*o+i*c+n*m+v)*w,this},projectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unprojectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unproject:function(t,e){var i=t.x,n=t.y,s=t.z,r=t.w,a=this.x-i,o=r-this.y-1-n,h=this.z;return this.x=2*a/s-1,this.y=2*o/r-1,this.z=2*h-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});n.ZERO=new n,n.RIGHT=new n(1,0,0),n.LEFT=new n(-1,0,0),n.UP=new n(0,-1,0),n.DOWN=new n(0,1,0),n.FORWARD=new n(0,0,1),n.BACK=new n(0,0,-1),n.ONE=new n(1,1,1),t.exports=n},function(t,e){t.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(23),s=i(57);t.exports=function(t,e){if(void 0===e&&(e=90),!n(t))return null;if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)(t=s(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=s(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3);t.exports=function(t){return t>Math.PI&&(t-=n.PI2),Math.abs(((t+n.TAU)%n.PI2-n.PI2)%n.PI2)}},function(t,e){t.exports=function(t,e){return Math.random()*(e-t)+t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3);t.exports=function(t){return t*n.DEG_TO_RAD}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(12),r=new n({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},setValues:function(t,e,i,n,s,r,a,o,h,l,u,c,f,d,p,m){var g=this.val;return g[0]=t,g[1]=e,g[2]=i,g[3]=n,g[4]=s,g[5]=r,g[6]=a,g[7]=o,g[8]=h,g[9]=l,g[10]=u,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,this},copy:function(t){var e=t.val;return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromArray:function(t){return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(t,e,i){var n=a.fromQuat(i).val,s=e.x,r=e.y,o=e.z;return this.setValues(n[0]*s,n[1]*s,n[2]*s,0,n[4]*r,n[5]*r,n[6]*r,0,n[8]*o,n[9]*o,n[10]*o,0,t.x,t.y,t.z,1)},xyz:function(t,e,i){this.identity();var n=this.val;return n[12]=t,n[13]=e,n[14]=i,this},scaling:function(t,e,i){this.zero();var n=this.val;return n[0]=t,n[5]=e,n[10]=i,n[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[3],s=t[6],r=t[7],a=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=s,t[11]=t[14],t[12]=n,t[13]=r,t[14]=a,this},getInverse:function(t){return this.copy(t),this.invert()},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15],x=e*a-i*r,y=e*o-n*r,v=e*h-s*r,w=i*o-n*a,b=i*h-s*a,M=n*h-s*o,A=l*p-u*d,S=l*m-c*d,k=l*g-f*d,T=u*m-c*p,I=u*g-f*p,E=c*g-f*m,R=x*E-y*I+v*T+w*k-b*S+M*A;return R?(R=1/R,this.setValues((a*E-o*I+h*T)*R,(n*I-i*E-s*T)*R,(p*M-m*b+g*w)*R,(c*b-u*M-f*w)*R,(o*k-r*E-h*S)*R,(e*E-n*k+s*S)*R,(m*v-d*M-g*y)*R,(l*M-c*v+f*y)*R,(r*I-a*k+h*A)*R,(i*k-e*I-s*A)*R,(d*b-p*v+g*x)*R,(u*v-l*b-f*x)*R,(a*S-r*T-o*A)*R,(e*T-i*S+n*A)*R,(p*y-d*w-m*x)*R,(l*w-u*y+c*x)*R)):this},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return this.setValues(a*(c*g-f*m)-u*(o*g-h*m)+p*(o*f-h*c),-(i*(c*g-f*m)-u*(n*g-s*m)+p*(n*f-s*c)),i*(o*g-h*m)-a*(n*g-s*m)+p*(n*h-s*o),-(i*(o*f-h*c)-a*(n*f-s*c)+u*(n*h-s*o)),-(r*(c*g-f*m)-l*(o*g-h*m)+d*(o*f-h*c)),e*(c*g-f*m)-l*(n*g-s*m)+d*(n*f-s*c),-(e*(o*g-h*m)-r*(n*g-s*m)+d*(n*h-s*o)),e*(o*f-h*c)-r*(n*f-s*c)+l*(n*h-s*o),r*(u*g-f*p)-l*(a*g-h*p)+d*(a*f-h*u),-(e*(u*g-f*p)-l*(i*g-s*p)+d*(i*f-s*u)),e*(a*g-h*p)-r*(i*g-s*p)+d*(i*h-s*a),-(e*(a*f-h*u)-r*(i*f-s*u)+l*(i*h-s*a)),-(r*(u*m-c*p)-l*(a*m-o*p)+d*(a*c-o*u)),e*(u*m-c*p)-l*(i*m-n*p)+d*(i*c-n*u),-(e*(a*m-o*p)-r*(i*m-n*p)+d*(i*o-n*a)),e*(a*c-o*u)-r*(i*c-n*u)+l*(i*o-n*a))},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*a-i*r)*(c*g-f*m)-(e*o-n*r)*(u*g-f*p)+(e*h-s*r)*(u*m-c*p)+(i*o-n*a)*(l*g-f*d)-(i*h-s*a)*(l*m-c*d)+(n*h-s*o)*(l*p-u*d)},multiply:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],x=e[15],y=t.val,v=y[0],w=y[1],b=y[2],M=y[3];return e[0]=v*i+w*a+b*u+M*p,e[1]=v*n+w*o+b*c+M*m,e[2]=v*s+w*h+b*f+M*g,e[3]=v*r+w*l+b*d+M*x,v=y[4],w=y[5],b=y[6],M=y[7],e[4]=v*i+w*a+b*u+M*p,e[5]=v*n+w*o+b*c+M*m,e[6]=v*s+w*h+b*f+M*g,e[7]=v*r+w*l+b*d+M*x,v=y[8],w=y[9],b=y[10],M=y[11],e[8]=v*i+w*a+b*u+M*p,e[9]=v*n+w*o+b*c+M*m,e[10]=v*s+w*h+b*f+M*g,e[11]=v*r+w*l+b*d+M*x,v=y[12],w=y[13],b=y[14],M=y[15],e[12]=v*i+w*a+b*u+M*p,e[13]=v*n+w*o+b*c+M*m,e[14]=v*s+w*h+b*f+M*g,e[15]=v*r+w*l+b*d+M*x,this},multiplyLocal:function(t){var e=this.val,i=t.val;return this.setValues(e[0]*i[0]+e[1]*i[4]+e[2]*i[8]+e[3]*i[12],e[0]*i[1]+e[1]*i[5]+e[2]*i[9]+e[3]*i[13],e[0]*i[2]+e[1]*i[6]+e[2]*i[10]+e[3]*i[14],e[0]*i[3]+e[1]*i[7]+e[2]*i[11]+e[3]*i[15],e[4]*i[0]+e[5]*i[4]+e[6]*i[8]+e[7]*i[12],e[4]*i[1]+e[5]*i[5]+e[6]*i[9]+e[7]*i[13],e[4]*i[2]+e[5]*i[6]+e[6]*i[10]+e[7]*i[14],e[4]*i[3]+e[5]*i[7]+e[6]*i[11]+e[7]*i[15],e[8]*i[0]+e[9]*i[4]+e[10]*i[8]+e[11]*i[12],e[8]*i[1]+e[9]*i[5]+e[10]*i[9]+e[11]*i[13],e[8]*i[2]+e[9]*i[6]+e[10]*i[10]+e[11]*i[14],e[8]*i[3]+e[9]*i[7]+e[10]*i[11]+e[11]*i[15],e[12]*i[0]+e[13]*i[4]+e[14]*i[8]+e[15]*i[12],e[12]*i[1]+e[13]*i[5]+e[14]*i[9]+e[15]*i[13],e[12]*i[2]+e[13]*i[6]+e[14]*i[10]+e[15]*i[14],e[12]*i[3]+e[13]*i[7]+e[14]*i[11]+e[15]*i[15])},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.val,n=e.val,s=i[0],r=i[4],a=i[8],o=i[12],h=i[1],l=i[5],u=i[9],c=i[13],f=i[2],d=i[6],p=i[10],m=i[14],g=i[3],x=i[7],y=i[11],v=i[15],w=n[0],b=n[4],M=n[8],A=n[12],S=n[1],k=n[5],T=n[9],I=n[13],E=n[2],R=n[6],C=n[10],F=n[14],P=n[3],Y=n[7],X=n[11],D=n[15];return this.setValues(s*w+r*S+a*E+o*P,h*w+l*S+u*E+c*P,f*w+d*S+p*E+m*P,g*w+x*S+y*E+v*P,s*b+r*k+a*R+o*Y,h*b+l*k+u*R+c*Y,f*b+d*k+p*R+m*Y,g*b+x*k+y*R+v*Y,s*M+r*T+a*C+o*X,h*M+l*T+u*C+c*X,f*M+d*T+p*C+m*X,g*M+x*T+y*C+v*X,s*A+r*I+a*F+o*D,h*A+l*I+u*F+c*D,f*A+d*I+p*F+m*D,g*A+x*I+y*F+v*D)},translate:function(t){return this.translateXYZ(t.x,t.y,t.z)},translateXYZ:function(t,e,i){var n=this.val;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this},scale:function(t){return this.scaleXYZ(t.x,t.y,t.z)},scaleXYZ:function(t,e,i){var n=this.val;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),s=1-i,r=t.x,a=t.y,o=t.z,h=s*r,l=s*a;return this.setValues(h*r+i,h*a-n*o,h*o+n*a,0,h*a+n*o,l*a+i,l*o-n*r,0,h*o-n*a,l*o+n*r,s*o*o+i,0,0,0,0,1)},rotate:function(t,e){var i=this.val,n=e.x,s=e.y,r=e.z,a=Math.sqrt(n*n+s*s+r*r);if(Math.abs(a)<1e-6)return this;n*=a=1/a,s*=a,r*=a;var o=Math.sin(t),h=Math.cos(t),l=1-h,u=i[0],c=i[1],f=i[2],d=i[3],p=i[4],m=i[5],g=i[6],x=i[7],y=i[8],v=i[9],w=i[10],b=i[11],M=i[12],A=i[13],S=i[14],k=i[15],T=n*n*l+h,I=s*n*l+r*o,E=r*n*l-s*o,R=n*s*l-r*o,C=s*s*l+h,F=r*s*l+n*o,P=n*r*l+s*o,Y=s*r*l-n*o,X=r*r*l+h;return this.setValues(u*T+p*I+y*E,c*T+m*I+v*E,f*T+g*I+w*E,d*T+x*I+b*E,u*R+p*C+y*F,c*R+m*C+v*F,f*R+g*C+w*F,d*R+x*C+b*F,u*P+p*Y+y*X,c*P+m*Y+v*X,f*P+g*Y+w*X,d*P+x*Y+b*X,M,A,S,k)},rotateX:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[4],r=e[5],a=e[6],o=e[7],h=e[8],l=e[9],u=e[10],c=e[11];return e[4]=s*n+h*i,e[5]=r*n+l*i,e[6]=a*n+u*i,e[7]=o*n+c*i,e[8]=h*n-s*i,e[9]=l*n-r*i,e[10]=u*n-a*i,e[11]=c*n-o*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],a=e[2],o=e[3],h=e[8],l=e[9],u=e[10],c=e[11];return e[0]=s*n-h*i,e[1]=r*n-l*i,e[2]=a*n-u*i,e[3]=o*n-c*i,e[8]=s*i+h*n,e[9]=r*i+l*n,e[10]=a*i+u*n,e[11]=o*i+c*n,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),s=e[0],r=e[1],a=e[2],o=e[3],h=e[4],l=e[5],u=e[6],c=e[7];return e[0]=s*n+h*i,e[1]=r*n+l*i,e[2]=a*n+u*i,e[3]=o*n+c*i,e[4]=h*n-s*i,e[5]=l*n-r*i,e[6]=u*n-a*i,e[7]=c*n-o*i,this},fromRotationTranslation:function(t,e){var i=t.x,n=t.y,s=t.z,r=t.w,a=i+i,o=n+n,h=s+s,l=i*a,u=i*o,c=i*h,f=n*o,d=n*h,p=s*h,m=r*a,g=r*o,x=r*h;return this.setValues(1-(f+p),u+x,c-g,0,u-x,1-(l+p),d+m,0,c+g,d-m,1-(l+f),0,e.x,e.y,e.z,1)},fromQuat:function(t){var e=t.x,i=t.y,n=t.z,s=t.w,r=e+e,a=i+i,o=n+n,h=e*r,l=e*a,u=e*o,c=i*a,f=i*o,d=n*o,p=s*r,m=s*a,g=s*o;return this.setValues(1-(c+d),l+g,u-m,0,l-g,1-(h+d),f+p,0,u+m,f-p,1-(h+c),0,0,0,0,1)},frustum:function(t,e,i,n,s,r){var a=1/(e-t),o=1/(n-i),h=1/(s-r);return this.setValues(2*s*a,0,0,0,0,2*s*o,0,0,(e+t)*a,(n+i)*o,(r+s)*h,-1,0,0,r*s*2*h,0)},perspective:function(t,e,i,n){var s=1/Math.tan(t/2),r=1/(i-n);return this.setValues(s/e,0,0,0,0,s,0,0,0,0,(n+i)*r,-1,0,0,2*n*i*r,0)},perspectiveLH:function(t,e,i,n){return this.setValues(2*i/t,0,0,0,0,2*i/e,0,0,0,0,-n/(i-n),1,0,0,i*n/(i-n),0)},ortho:function(t,e,i,n,s,r){var a=t-e,o=i-n,h=s-r;return a=0===a?a:1/a,o=0===o?o:1/o,h=0===h?h:1/h,this.setValues(-2*a,0,0,0,0,-2*o,0,0,0,0,2*h,0,(t+e)*a,(n+i)*o,(r+s)*h,1)},lookAtRH:function(t,e,i){var n=this.val;return u.subVectors(t,e),0===u.getLengthSquared()&&(u.z=1),u.normalize(),h.crossVectors(i,u),0===h.getLengthSquared()&&(1===Math.abs(i.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),h.crossVectors(i,u)),h.normalize(),l.crossVectors(u,h),n[0]=h.x,n[1]=h.y,n[2]=h.z,n[4]=l.x,n[5]=l.y,n[6]=l.z,n[8]=u.x,n[9]=u.y,n[10]=u.z,this},lookAt:function(t,e,i){var n=t.x,s=t.y,r=t.z,a=i.x,o=i.y,h=i.z,l=e.x,u=e.y,c=e.z;if(Math.abs(n-l)<1e-6&&Math.abs(s-u)<1e-6&&Math.abs(r-c)<1e-6)return this.identity();var f=n-l,d=s-u,p=r-c,m=1/Math.sqrt(f*f+d*d+p*p),g=o*(p*=m)-h*(d*=m),x=h*(f*=m)-a*p,y=a*d-o*f;(m=Math.sqrt(g*g+x*x+y*y))?(g*=m=1/m,x*=m,y*=m):(g=0,x=0,y=0);var v=d*y-p*x,w=p*g-f*y,b=f*x-d*g;return(m=Math.sqrt(v*v+w*w+b*b))?(v*=m=1/m,w*=m,b*=m):(v=0,w=0,b=0),this.setValues(g,v,f,0,x,w,d,0,y,b,p,0,-(g*n+x*s+y*r),-(v*n+w*s+b*r),-(f*n+d*s+p*r),1)},yawPitchRoll:function(t,e,i){this.zero(),a.zero(),o.zero();var n=this.val,s=a.val,r=o.val,h=Math.sin(i),l=Math.cos(i);return n[10]=1,n[15]=1,n[0]=l,n[1]=h,n[4]=-h,n[5]=l,h=Math.sin(e),l=Math.cos(e),s[0]=1,s[15]=1,s[5]=l,s[10]=l,s[9]=-h,s[6]=h,h=Math.sin(t),l=Math.cos(t),r[5]=1,r[15]=1,r[0]=l,r[2]=-h,r[8]=h,r[10]=l,this.multiplyLocal(a),this.multiplyLocal(o),this},setWorldMatrix:function(t,e,i,n,s){return this.yawPitchRoll(t.y,t.x,t.z),a.scaling(i.x,i.y,i.z),o.xyz(e.x,e.y,e.z),this.multiplyLocal(a),this.multiplyLocal(o),n&&this.multiplyLocal(n),s&&this.multiplyLocal(s),this},multiplyToMat4:function(t,e){var i=this.val,n=t.val,s=i[0],r=i[1],a=i[2],o=i[3],h=i[4],l=i[5],u=i[6],c=i[7],f=i[8],d=i[9],p=i[10],m=i[11],g=i[12],x=i[13],y=i[14],v=i[15],w=n[0],b=n[1],M=n[2],A=n[3],S=n[4],k=n[5],T=n[6],I=n[7],E=n[8],R=n[9],C=n[10],F=n[11],P=n[12],Y=n[13],X=n[14],D=n[15];return e.setValues(w*s+b*h+M*f+A*g,b*r+b*l+M*d+A*x,M*a+b*u+M*p+A*y,A*o+b*c+M*m+A*v,S*s+k*h+T*f+I*g,S*r+k*l+T*d+I*x,S*a+k*u+T*p+I*y,S*o+k*c+T*m+I*v,E*s+R*h+C*f+F*g,E*r+R*l+C*d+F*x,E*a+R*u+C*p+F*y,E*o+R*c+C*m+F*v,P*s+Y*h+X*f+D*g,P*r+Y*l+X*d+D*x,P*a+Y*u+X*p+D*y,P*o+Y*c+X*m+D*v)},fromRotationXYTranslation:function(t,e,i){var n=e.x,s=e.y,r=e.z,a=Math.sin(t.x),o=Math.cos(t.x),h=Math.sin(t.y),l=Math.cos(t.y),u=n,c=s,f=r,d=-a,p=0-d*h,m=0-o*h,g=d*l,x=o*l;return i||(u=l*n+h*r,c=p*n+o*s+g*r,f=m*n+a*s+x*r),this.setValues(l,p,m,0,0,o,a,0,h,g,x,0,u,c,f,1)},getMaxScaleOnAxis:function(){var t=this.val,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}}),a=new r,o=new r,h=new s,l=new s,u=new s;t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3);t.exports=function(t){return t*n.RAD_TO_DEG}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(13),r=i(204),a=i(8),o=i(215),h=i(45),l=i(216),u=i(46),c=new n({initialize:function(t,e){this.loader=t,this.cache=a(e,"cache",!1),this.type=a(e,"type",!1),this.key=a(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var n=a(e,"url");void 0===n?n=t.path+i+"."+a(e,"extension",""):"string"!=typeof n||n.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)||(n=t.path+n),this.url=n,this.src="",this.xhrSettings=u(a(e,"responseType",void 0)),a(e,"xhrSettings",!1)&&(this.xhrSettings=h(this.xhrSettings,a(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?s.FILE_POPULATED:s.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(e,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===s.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=s.FILE_LOADING,this.src=o(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=l(this,this.loader.xhr))},onLoad:function(t,e){var i=t.responseURL&&(0===t.responseURL.indexOf("file://")||0===t.responseURL.indexOf("capacitor://"))&&0===e.target.status,n=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(n=!1),this.state=s.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,n)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=s.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=s.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=s.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit(r.FILE_COMPLETE,e,i,t),this.loader.emit(r.FILE_KEY_COMPLETE+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var n=new FileReader;n.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+n.result.split(",")[1]},n.onerror=t.onerror,n.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={},n={install:function(t){for(var e in i)t[e]=i[e]},register:function(t,e){i[t]=e},destroy:function(){i={}}};t.exports=n},function(t,e){t.exports=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(298),r=i(61),a=i(299),o=i(25),h=i(300),l=i(305),u=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=o.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return s(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return a(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new h),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new h),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new h),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new h),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},function(t,e){t.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(6),s=function(){var t,e,i,r,a,o,h=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof h&&(c=h,h=arguments[1]||{},l=2),u===l&&(h=this,--l);l<u;l++)if(null!=(t=arguments[l]))for(e in t)i=h[e],h!==(r=t[e])&&(c&&r&&(n(r)||(a=Array.isArray(r)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n(i)?i:{},h[e]=s(c,o,r)):void 0!==r&&(h[e]=r));return h};t.exports=s},function(t,e){t.exports=function(t,e,i,n){return Math.atan2(n-e,i-t)}},function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(11);t.exports=function(t){return n(t,-Math.PI,Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(11);t.exports=function(t){return n(t,-180,180)}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(33);t.exports=function(t,e){return n(t)/n(e)/n(t-e)}},function(t,e){t.exports=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e}},function(t,e){t.exports=function(t,e,i,n,s){var r=.5*(n-e),a=.5*(s-i),o=t*t;return(2*i-2*n+r+a)*(t*o)+(-3*i+3*n-2*r-a)*o+r*t+i}},function(t,e){t.exports=function(t,e,i){return(e-t)*i+t}},function(t,e){t.exports=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)}},function(t,e){t.exports=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)}},function(t,e){t.exports=function(t,e,i,n){var s=Math.cos(n),r=Math.sin(n),a=t.x-e,o=t.y-i;return t.x=a*s-o*r+e,t.y=a*r+o*s+i,t}},function(t,e){t.exports=function(t){return t>0?Math.ceil(t):Math.floor(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(2);t.exports=function(t,e,i,s,r,a,o,h){void 0===h&&(h=new n);var l=Math.sin(r),u=Math.cos(r),c=u*a,f=l*a,d=-l*o,p=u*o,m=1/(c*p+d*-f);return h.x=p*m*t+-d*m*e+(s*d-i*p)*m,h.y=c*m*e+-f*m*t+(-s*c+i*f)*m,h}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new n(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=n,this},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=l*r-a*h,c=-l*s+a*o,f=h*s-r*o,d=e*u+i*c+n*f;return d?(d=1/d,t[0]=u*d,t[1]=(-l*i+n*h)*d,t[2]=(a*i-n*r)*d,t[3]=c*d,t[4]=(l*e-n*o)*d,t[5]=(-a*e+n*s)*d,t[6]=f*d,t[7]=(-h*e+i*o)*d,t[8]=(r*e-i*s)*d,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return t[0]=r*l-a*h,t[1]=n*h-i*l,t[2]=i*a-n*r,t[3]=a*o-s*l,t[4]=e*l-n*o,t[5]=n*s-e*a,t[6]=s*h-r*o,t[7]=i*o-e*h,t[8]=e*r-i*s,this},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return e*(l*r-a*h)+i*(-l*s+a*o)+n*(h*s-r*o)},multiply:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],c=t.val,f=c[0],d=c[1],p=c[2],m=c[3],g=c[4],x=c[5],y=c[6],v=c[7],w=c[8];return e[0]=f*i+d*r+p*h,e[1]=f*n+d*a+p*l,e[2]=f*s+d*o+p*u,e[3]=m*i+g*r+x*h,e[4]=m*n+g*a+x*l,e[5]=m*s+g*o+x*u,e[6]=y*i+v*r+w*h,e[7]=y*n+v*a+w*l,e[8]=y*s+v*o+w*u,this},translate:function(t){var e=this.val,i=t.x,n=t.y;return e[6]=i*e[0]+n*e[3]+e[6],e[7]=i*e[1]+n*e[4]+e[7],e[8]=i*e[2]+n*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],n=e[1],s=e[2],r=e[3],a=e[4],o=e[5],h=Math.sin(t),l=Math.cos(t);return e[0]=l*i+h*r,e[1]=l*n+h*a,e[2]=l*s+h*o,e[3]=l*r-h*i,e[4]=l*a-h*n,e[5]=l*o-h*s,this},scale:function(t){var e=this.val,i=t.x,n=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=n*e[3],e[4]=n*e[4],e[5]=n*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,n=t.z,s=t.w,r=e+e,a=i+i,o=n+n,h=e*r,l=e*a,u=e*o,c=i*a,f=i*o,d=n*o,p=s*r,m=s*a,g=s*o,x=this.val;return x[0]=1-(c+d),x[3]=l+g,x[6]=u-m,x[1]=l-g,x[4]=1-(h+d),x[7]=f+p,x[2]=u+m,x[5]=f-p,x[8]=1-(h+c),this},normalFromMat4:function(t){var e=t.val,i=this.val,n=e[0],s=e[1],r=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],x=e[14],y=e[15],v=n*h-s*o,w=n*l-r*o,b=n*u-a*o,M=s*l-r*h,A=s*u-a*h,S=r*u-a*l,k=c*g-f*m,T=c*x-d*m,I=c*y-p*m,E=f*x-d*g,R=f*y-p*g,C=d*y-p*x,F=v*C-w*R+b*E+M*I-A*T+S*k;return F?(F=1/F,i[0]=(h*C-l*R+u*E)*F,i[1]=(l*I-o*C-u*T)*F,i[2]=(o*R-h*I+u*k)*F,i[3]=(r*R-s*C-a*E)*F,i[4]=(n*C-r*I+a*T)*F,i[5]=(s*I-n*R-a*k)*F,i[6]=(g*S-x*A+y*M)*F,i[7]=(x*b-m*S-y*w)*F,i[8]=(m*A-g*b+y*v)*F,this):null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(41),r=i(1),a=i(12),o=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),l=new a(1,0,0),u=new a(0,1,0),c=new a,f=new s,d=new n({initialize:function(t,e,i,n){this.onChangeCallback=r,this.set(t,e,i,n)},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback(this)}},copy:function(t){return this.set(t)},set:function(t,e,i,n,s){return void 0===s&&(s=!0),"object"==typeof t?(this._x=t.x||0,this._y=t.y||0,this._z=t.z||0,this._w=t.w||0):(this._x=t||0,this._y=e||0,this._z=i||0,this._w=n||0),s&&this.onChangeCallback(this),this},add:function(t){return this._x+=t.x,this._y+=t.y,this._z+=t.z,this._w+=t.w,this.onChangeCallback(this),this},subtract:function(t){return this._x-=t.x,this._y-=t.y,this._z-=t.z,this._w-=t.w,this.onChangeCallback(this),this},scale:function(t){return this._x*=t,this._y*=t,this._z*=t,this._w*=t,this.onChangeCallback(this),this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),this._x=t*s,this._y=e*s,this._z=i*s,this._w=n*s),this.onChangeCallback(this),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,s=this.z,r=this.w;return this.set(i+e*(t.x-i),n+e*(t.y-n),s+e*(t.z-s),r+e*(t.w-r))},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(c.copy(l).cross(t).length()<1e-6&&c.copy(u).cross(t),c.normalize(),this.setAxisAngle(c,Math.PI)):i>.999999?this.set(0,0,0,1):(c.copy(t).cross(e),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+i,this.normalize())},setAxes:function(t,e,i){var n=f.val;return n[0]=e.x,n[3]=e.y,n[6]=e.z,n[1]=i.x,n[4]=i.y,n[7]=i.z,n[2]=-t.x,n[5]=-t.y,n[8]=-t.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.set(i*t.x,i*t.y,i*t.z,Math.cos(e))},multiply:function(t){var e=this.x,i=this.y,n=this.z,s=this.w,r=t.x,a=t.y,o=t.z,h=t.w;return this.set(e*h+s*r+i*o-n*a,i*h+s*a+n*r-e*o,n*h+s*o+e*a-i*r,s*h-e*r-i*a-n*o)},slerp:function(t,e){var i=this.x,n=this.y,s=this.z,r=this.w,a=t.x,o=t.y,h=t.z,l=t.w,u=i*a+n*o+s*h+r*l;u<0&&(u=-u,a=-a,o=-o,h=-h,l=-l);var c=1-e,f=e;if(1-u>1e-6){var d=Math.acos(u),p=Math.sin(d);c=Math.sin((1-e)*d)/p,f=Math.sin(e*d)/p}return this.set(c*i+f*a,c*n+f*o,c*s+f*h,c*r+f*l)},invert:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n,r=s?1/s:0;return this.set(-t*r,-e*r,-i*r,n*r)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),a=Math.cos(t);return this.set(e*a+s*r,i*a+n*r,n*a-i*r,s*a-e*r)},rotateY:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),a=Math.cos(t);return this.set(e*a-n*r,i*a+s*r,n*a+e*r,s*a-i*r)},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,s=this.w,r=Math.sin(t),a=Math.cos(t);return this.set(e*a+i*r,i*a-e*r,n*a+s*r,s*a-n*r)},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},setFromEuler:function(t,e){var i=t.x/2,n=t.y/2,s=t.z/2,r=Math.cos(i),a=Math.cos(n),o=Math.cos(s),h=Math.sin(i),l=Math.sin(n),u=Math.sin(s);switch(t.order){case"XYZ":this.set(h*a*o+r*l*u,r*l*o-h*a*u,r*a*u+h*l*o,r*a*o-h*l*u,e);break;case"YXZ":this.set(h*a*o+r*l*u,r*l*o-h*a*u,r*a*u-h*l*o,r*a*o+h*l*u,e);break;case"ZXY":this.set(h*a*o-r*l*u,r*l*o+h*a*u,r*a*u+h*l*o,r*a*o-h*l*u,e);break;case"ZYX":this.set(h*a*o-r*l*u,r*l*o+h*a*u,r*a*u-h*l*o,r*a*o+h*l*u,e);break;case"YZX":this.set(h*a*o+r*l*u,r*l*o+h*a*u,r*a*u-h*l*o,r*a*o-h*l*u,e);break;case"XZY":this.set(h*a*o-r*l*u,r*l*o-h*a*u,r*a*u+h*l*o,r*a*o+h*l*u,e)}return this},setFromRotationMatrix:function(t){var e,i=t.val,n=i[0],s=i[4],r=i[8],a=i[1],o=i[5],h=i[9],l=i[2],u=i[6],c=i[10],f=n+o+c;return f>0?(e=.5/Math.sqrt(f+1),this.set((u-h)*e,(r-l)*e,(a-s)*e,.25/e)):n>o&&n>c?(e=2*Math.sqrt(1+n-o-c),this.set(.25*e,(s+a)/e,(r+l)/e,(u-h)/e)):o>c?(e=2*Math.sqrt(1+o-n-c),this.set((s+a)/e,.25*e,(h+u)/e,(r-l)/e)):(e=2*Math.sqrt(1+c-n-o),this.set((r+l)/e,(h+u)/e,.25*e,(a-s)/e)),this},fromMat3:function(t){var e,i=t.val,n=i[0]+i[4]+i[8];if(n>0)e=Math.sqrt(n+1),this.w=.5*e,e=.5/e,this._x=(i[7]-i[5])*e,this._y=(i[2]-i[6])*e,this._z=(i[3]-i[1])*e;else{var s=0;i[4]>i[0]&&(s=1),i[8]>i[3*s+s]&&(s=2);var r=o[s],a=o[r];e=Math.sqrt(i[3*s+s]-i[3*r+r]-i[3*a+a]+1),h[s]=.5*e,e=.5/e,h[r]=(i[3*r+s]+i[3*s+r])*e,h[a]=(i[3*a+s]+i[3*s+a])*e,this._x=h[0],this._y=h[1],this._z=h[2],this._w=(i[3*a+r]-i[3*r+a])*e}return this.onChangeCallback(this),this}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADDED_TO_SCENE:i(180),BOOT:i(181),CREATE:i(182),DESTROY:i(183),PAUSE:i(184),POST_UPDATE:i(185),PRE_RENDER:i(186),PRE_UPDATE:i(187),READY:i(188),REMOVED_FROM_SCENE:i(189),RENDER:i(190),RESUME:i(191),SHUTDOWN:i(192),SLEEP:i(193),START:i(194),TRANSITION_COMPLETE:i(195),TRANSITION_INIT:i(196),TRANSITION_OUT:i(197),TRANSITION_START:i(198),TRANSITION_WAKE:i(199),UPDATE:i(200),WAKE:i(201)}},function(t,e){(function(){"use strict";var e=(()=>{var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s={};((e,i)=>{for(var n in i)t(e,n,{get:i[n],enumerable:!0})})(s,{AlphaTimeline:()=>dt,Animation:()=>E,AnimationState:()=>Ct,AnimationStateAdapter:()=>Xt,AnimationStateData:()=>Vt,AssetManager:()=>bi,AssetManagerBase:()=>ue,AtlasAttachmentLoader:()=>re,Attachment:()=>b,AttachmentTimeline:()=>gt,BinaryInput:()=>Ye,BlendMode:()=>Ce,Bone:()=>he,BoneData:()=>ae,BoundingBoxAttachment:()=>Ut,CURRENT:()=>Nt,CanvasTexture:()=>wi,ClippingAttachment:()=>qt,Color:()=>h,ConstraintData:()=>le,CurveTimeline:()=>Q,CurveTimeline1:()=>J,CurveTimeline2:()=>tt,DebugUtils:()=>g,DeformTimeline:()=>xt,Downloader:()=>ce,DrawOrderTimeline:()=>bt,Event:()=>fe,EventData:()=>de,EventQueue:()=>Pt,EventTimeline:()=>vt,EventType:()=>Yt,FIRST:()=>Ot,FakeTexture:()=>Kt,HOLD_FIRST:()=>_t,HOLD_MIX:()=>zt,HOLD_SUBSEQUENT:()=>Lt,IkConstraint:()=>pe,IkConstraintData:()=>me,IkConstraintTimeline:()=>Mt,IntSet:()=>r,Interpolation:()=>c,MathUtils:()=>u,MeshAttachment:()=>te,MixBlend:()=>R,MixDirection:()=>C,PathAttachment:()=>ee,PathConstraint:()=>be,PathConstraintData:()=>ge,PathConstraintMixTimeline:()=>Tt,PathConstraintPositionTimeline:()=>St,PathConstraintSpacingTimeline:()=>kt,PointAttachment:()=>ie,Pool:()=>x,PositionMode:()=>xe,Pow:()=>f,PowOut:()=>d,RGB2Timeline:()=>mt,RGBA2Timeline:()=>pt,RGBATimeline:()=>ct,RGBTimeline:()=>ft,RegionAttachment:()=>se,RotateMode:()=>ve,RotateTimeline:()=>et,SETUP:()=>Bt,SUBSEQUENT:()=>Dt,ScaleTimeline:()=>rt,ScaleXTimeline:()=>at,ScaleYTimeline:()=>ot,SequenceTimeline:()=>Et,ShearTimeline:()=>ht,ShearXTimeline:()=>lt,ShearYTimeline:()=>ut,Skeleton:()=>ke,SkeletonBinary:()=>Pe,SkeletonBounds:()=>ui,SkeletonClipping:()=>fi,SkeletonData:()=>Te,SkeletonJson:()=>di,SkeletonRenderer:()=>Si,Skin:()=>Ee,SkinEntry:()=>Ie,Slot:()=>Me,SlotData:()=>Re,SpacingMode:()=>ye,StringSet:()=>a,Texture:()=>Wt,TextureAtlas:()=>$t,TextureAtlasPage:()=>Qt,TextureAtlasRegion:()=>Jt,TextureFilter:()=>Gt,TextureRegion:()=>jt,TextureWrap:()=>Ht,TimeKeeper:()=>v,Timeline:()=>Z,TrackEntry:()=>Ft,TransformConstraint:()=>Ae,TransformConstraintData:()=>Fe,TransformConstraintTimeline:()=>At,TransformMode:()=>oe,TranslateTimeline:()=>it,TranslateXTimeline:()=>nt,TranslateYTimeline:()=>st,Triangulator:()=>ci,Utils:()=>m,Vector2:()=>y,VertexAttachment:()=>A,WindowedMean:()=>w});var r=class{constructor(){this.array=new Array}add(t){let e=this.contains(t);return this.array[0|t]=0|t,!e}contains(t){return null!=this.array[0|t]}remove(t){this.array[0|t]=void 0}clear(){this.array.length=0}},a=class{constructor(){this.entries={},this.size=0}add(t){let e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){let e=this.size;for(var i=0,n=t.length;i<n;i++)this.add(t[i]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}},o=class{constructor(t=0,e=0,i=0,n=0){this.r=t,this.g=e,this.b=i,this.a=n}set(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}static fromString(t){return(new o).setFromString(t)}},h=o;h.WHITE=new o(1,1,1,1),h.RED=new o(1,0,0,1),h.GREEN=new o(0,1,0,1),h.BLUE=new o(0,0,1,1),h.MAGENTA=new o(1,0,1,1);var l=class{static clamp(t,e,i){return t<e?e:t>i?i:t}static cosDeg(t){return Math.cos(t*l.degRad)}static sinDeg(t){return Math.sin(t*l.degRad)}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return l.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,i){let n=Math.random(),s=e-t;return n<=(i-t)/s?t+Math.sqrt(n*s*(i-t)):e-Math.sqrt((1-n)*s*(e-i))}static isPowerOfTwo(t){return t&&0==(t&t-1)}},u=l;u.PI=3.1415927,u.PI2=2*l.PI,u.radiansToDegrees=180/l.PI,u.radDeg=l.radiansToDegrees,u.degreesToRadians=l.PI/180,u.degRad=l.degreesToRadians;var c=class{apply(t,e,i){return t+(e-t)*this.applyInternal(i)}},f=class extends c{constructor(t){super(),this.power=2,this.power=t}applyInternal(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}},d=class extends f{constructor(t){super(t)}applyInternal(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}},p=class{static arrayCopy(t,e,i,n,s){for(let r=e,a=n;r<e+s;r++,a++)i[a]=t[r]}static arrayFill(t,e,i,n){for(let s=e;s<i;s++)t[s]=n}static setArraySize(t,e,i=0){let n=t.length;if(n==e)return t;if(t.length=e,n<e)for(let s=n;s<e;s++)t[s]=i;return t}static ensureArrayCapacity(t,e,i=0){return t.length>=e?t:p.setArraySize(t,e,i)}static newArray(t,e){let i=new Array(t);for(let n=0;n<t;n++)i[n]=e;return i}static newFloatArray(t){if(p.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(p.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return p.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return p.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,i=!0){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}},m=p;m.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;var g=class{static logBones(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e];console.log(i.data.name+", "+i.a+", "+i.b+", "+i.c+", "+i.d+", "+i.worldX+", "+i.worldY)}}},x=class{constructor(t){this.items=new Array,this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}},y=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}},v=class{constructor(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}update(){let t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}},w=class{constructor(t=32){this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}hasEnoughData(){return this.addedValues>=this.values.length}addValue(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}getMean(){if(this.hasEnoughData()){if(this.dirty){let t=0;for(let e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}},b=class{constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}},M=class extends b{constructor(t){super(t),this.id=M.nextID++,this.bones=null,this.vertices=[],this.worldVerticesLength=0,this.timelineAttachment=this}computeWorldVertices(t,e,i,n,s,r){i=s+(i>>1)*r;let a=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(!l){o.length>0&&(h=o);let a=t.bone,l=a.worldX,u=a.worldY,c=a.a,f=a.b,d=a.c,p=a.d;for(let t=e,a=s;a<i;t+=2,a+=r){let e=h[t],i=h[t+1];n[a]=e*c+i*f+l,n[a+1]=e*d+i*p+u}return}let u=0,c=0;for(let t=0;t<e;t+=2){let t=l[u];u+=t+1,c+=t}let f=a.bones;if(0==o.length)for(let t=s,e=3*c;t<i;t+=r){let i=0,s=0,r=l[u++];for(r+=u;u<r;u++,e+=3){let t=f[l[u]],n=h[e],r=h[e+1],a=h[e+2];i+=(n*t.a+r*t.b+t.worldX)*a,s+=(n*t.c+r*t.d+t.worldY)*a}n[t]=i,n[t+1]=s}else{let t=o;for(let e=s,a=3*c,o=c<<1;e<i;e+=r){let i=0,s=0,r=l[u++];for(r+=u;u<r;u++,a+=3,o+=2){let e=f[l[u]],n=h[a]+t[o],r=h[a+1]+t[o+1],c=h[a+2];i+=(n*e.a+r*e.b+e.worldX)*c,s+=(n*e.c+r*e.d+e.worldY)*c}n[e]=i,n[e+1]=s}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),m.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=m.newFloatArray(this.vertices.length),m.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}},A=M;A.nextID=0;var S=class{constructor(t){this.id=S.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}copy(){let t=new S(this.regions.length);return m.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}apply(t,e){let i=t.sequenceIndex;-1==i&&(i=this.setupIndex),i>=this.regions.length&&(i=this.regions.length-1);let n=this.regions[i];e.region!=n&&(e.region=n,e.updateRegion())}getPath(t,e){let i=t,n=(this.start+e).toString();for(let t=this.digits-n.length;t>0;t--)i+="0";return i+=n,i}static nextID(){return S._nextID++}},k=S;k._nextID=0;var T=(t=>(t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse",t))(T||{}),I=[0,1,2,3,4,5,6],E=class{constructor(t,e,i){if(this.timelines=[],this.timelineIds=new a,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=i}setTimelines(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,i,n,s,r,a,o){if(!t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));let h=this.timelines;for(let n=0,l=h.length;n<l;n++)h[n].apply(t,e,i,s,r,a,o)}},R=(t=>(t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",t))(R||{}),C=(t=>(t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut",t))(C||{}),F=0,P=1,Y=2,X=3,D=4,O=5,L=6,_=7,z=8,B=9,N=10,V=11,U=12,q=13,W=14,G=15,H=16,j=17,K=18,$=19,Z=class{constructor(t,e){this.propertyIds=e,this.frames=m.newFloatArray(t*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){let i=t.length;for(let n=1;n<i;n++)if(t[n]>e)return n-1;return i-1}static search(t,e,i){let n=t.length;for(let s=i;s<n;s+=i)if(t[s]>e)return s-i;return n-i}},Q=class extends Z{constructor(t,e,i){super(t,i),this.curves=m.newFloatArray(t+18*e),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let e=this.getFrameCount()+18*t;if(this.curves.length>e){let t=m.newFloatArray(e);m.arrayCopy(this.curves,0,t,0,e),this.curves=t}}setBezier(t,e,i,n,s,r,a,o,h,l,u){let c=this.curves,f=this.getFrameCount()+18*t;0==i&&(c[e]=2+f);let d=.03*(n-2*r+o),p=.03*(s-2*a+h),m=.006*(3*(r-o)-n+l),g=.006*(3*(a-h)-s+u),x=2*d+m,y=2*p+g,v=.3*(r-n)+d+.16666667*m,w=.3*(a-s)+p+.16666667*g,b=n+v,M=s+w;for(let t=f+18;f<t;f+=2)c[f]=b,c[f+1]=M,v+=x,w+=y,x+=m,y+=g,b+=v,M+=w}getBezierValue(t,e,i,n){let s=this.curves;if(s[n]>t){let r=this.frames[e],a=this.frames[e+i];return a+(t-r)/(s[n]-r)*(s[n+1]-a)}let r=n+18;for(n+=2;n<r;n+=2)if(s[n]>=t){let e=s[n-2],i=s[n-1];return i+(t-e)/(s[n]-e)*(s[n+1]-i)}e+=this.getFrameEntries();let a=s[r-2],o=s[r-1];return o+(t-a)/(this.frames[e]-a)*(this.frames[e+i]-o)}},J=class extends Q{constructor(t,e,i){super(t,e,[i])}getFrameEntries(){return 2}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+1]=i}getCurveValue(t){let e=this.frames,i=e.length-2;for(let n=2;n<=i;n+=2)if(e[n]>t){i=n-2;break}let n=this.curves[i>>1];switch(n){case 0:let n=e[i],s=e[i+1];return s+(t-n)/(e[i+2]-n)*(e[i+2+1]-s);case 1:return e[i+1]}return this.getBezierValue(t,i,1,n-2)}},tt=class extends Q{constructor(t,e,i,n){super(t,e,[i,n])}getFrameEntries(){return 3}setFrame(t,e,i,n){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n}},et=class extends J{constructor(t,e,i){super(t,e,F+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.rotation=o.data.rotation);case 1:o.rotation+=(o.data.rotation-o.rotation)*s}return}let h=this.getCurveValue(i);switch(r){case 0:o.rotation=o.data.rotation+h*s;break;case 1:case 2:h+=o.data.rotation-o.rotation;case 3:o.rotation+=h*s}}},it=class extends tt{constructor(t,e,i){super(t,e,P+"|"+i,Y+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(r){case 0:return o.x=o.data.x,void(o.y=o.data.y);case 1:o.x+=(o.data.x-o.x)*s,o.y+=(o.data.y-o.y)*s}return}let l=0,u=0,c=Z.search(h,i,3),f=this.curves[c/3];switch(f){case 0:let t=h[c];l=h[c+1],u=h[c+2];let e=(i-t)/(h[c+3]-t);l+=(h[c+3+1]-l)*e,u+=(h[c+3+2]-u)*e;break;case 1:l=h[c+1],u=h[c+2];break;default:l=this.getBezierValue(i,c,1,f-2),u=this.getBezierValue(i,c,2,f+18-2)}switch(r){case 0:o.x=o.data.x+l*s,o.y=o.data.y+u*s;break;case 1:case 2:o.x+=(o.data.x+l-o.x)*s,o.y+=(o.data.y+u-o.y)*s;break;case 3:o.x+=l*s,o.y+=u*s}}},nt=class extends J{constructor(t,e,i){super(t,e,P+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.x=o.data.x);case 1:o.x+=(o.data.x-o.x)*s}return}let h=this.getCurveValue(i);switch(r){case 0:o.x=o.data.x+h*s;break;case 1:case 2:o.x+=(o.data.x+h-o.x)*s;break;case 3:o.x+=h*s}}},st=class extends J{constructor(t,e,i){super(t,e,Y+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.y=o.data.y);case 1:o.y+=(o.data.y-o.y)*s}return}let h=this.getCurveValue(i);switch(r){case 0:o.y=o.data.y+h*s;break;case 1:case 2:o.y+=(o.data.y+h-o.y)*s;break;case 3:o.y+=h*s}}},rt=class extends tt{constructor(t,e,i){super(t,e,X+"|"+i,D+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let h,l,c=this.frames;if(i<c[0]){switch(r){case 0:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case 1:o.scaleX+=(o.data.scaleX-o.scaleX)*s,o.scaleY+=(o.data.scaleY-o.scaleY)*s}return}let f=Z.search(c,i,3),d=this.curves[f/3];switch(d){case 0:let t=c[f];h=c[f+1],l=c[f+2];let e=(i-t)/(c[f+3]-t);h+=(c[f+3+1]-h)*e,l+=(c[f+3+2]-l)*e;break;case 1:h=c[f+1],l=c[f+2];break;default:h=this.getBezierValue(i,f,1,d-2),l=this.getBezierValue(i,f,2,d+18-2)}if(h*=o.data.scaleX,l*=o.data.scaleY,1==s)3==r?(o.scaleX+=h-o.data.scaleX,o.scaleY+=l-o.data.scaleY):(o.scaleX=h,o.scaleY=l);else{let t=0,e=0;if(1==a)switch(r){case 0:t=o.data.scaleX,e=o.data.scaleY,o.scaleX=t+(Math.abs(h)*u.signum(t)-t)*s,o.scaleY=e+(Math.abs(l)*u.signum(e)-e)*s;break;case 1:case 2:t=o.scaleX,e=o.scaleY,o.scaleX=t+(Math.abs(h)*u.signum(t)-t)*s,o.scaleY=e+(Math.abs(l)*u.signum(e)-e)*s;break;case 3:o.scaleX+=(h-o.data.scaleX)*s,o.scaleY+=(l-o.data.scaleY)*s}else switch(r){case 0:t=Math.abs(o.data.scaleX)*u.signum(h),e=Math.abs(o.data.scaleY)*u.signum(l),o.scaleX=t+(h-t)*s,o.scaleY=e+(l-e)*s;break;case 1:case 2:t=Math.abs(o.scaleX)*u.signum(h),e=Math.abs(o.scaleY)*u.signum(l),o.scaleX=t+(h-t)*s,o.scaleY=e+(l-e)*s;break;case 3:o.scaleX+=(h-o.data.scaleX)*s,o.scaleY+=(l-o.data.scaleY)*s}}}},at=class extends J{constructor(t,e,i){super(t,e,X+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.scaleX=o.data.scaleX);case 1:o.scaleX+=(o.data.scaleX-o.scaleX)*s}return}let h=this.getCurveValue(i)*o.data.scaleX;if(1==s)3==r?o.scaleX+=h-o.data.scaleX:o.scaleX=h;else{let t=0;if(1==a)switch(r){case 0:t=o.data.scaleX,o.scaleX=t+(Math.abs(h)*u.signum(t)-t)*s;break;case 1:case 2:t=o.scaleX,o.scaleX=t+(Math.abs(h)*u.signum(t)-t)*s;break;case 3:o.scaleX+=(h-o.data.scaleX)*s}else switch(r){case 0:t=Math.abs(o.data.scaleX)*u.signum(h),o.scaleX=t+(h-t)*s;break;case 1:case 2:t=Math.abs(o.scaleX)*u.signum(h),o.scaleX=t+(h-t)*s;break;case 3:o.scaleX+=(h-o.data.scaleX)*s}}}},ot=class extends J{constructor(t,e,i){super(t,e,D+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.scaleY=o.data.scaleY);case 1:o.scaleY+=(o.data.scaleY-o.scaleY)*s}return}let h=this.getCurveValue(i)*o.data.scaleY;if(1==s)3==r?o.scaleY+=h-o.data.scaleY:o.scaleY=h;else{let t=0;if(1==a)switch(r){case 0:t=o.data.scaleY,o.scaleY=t+(Math.abs(h)*u.signum(t)-t)*s;break;case 1:case 2:t=o.scaleY,o.scaleY=t+(Math.abs(h)*u.signum(t)-t)*s;break;case 3:o.scaleY+=(h-o.data.scaleY)*s}else switch(r){case 0:t=Math.abs(o.data.scaleY)*u.signum(h),o.scaleY=t+(h-t)*s;break;case 1:case 2:t=Math.abs(o.scaleY)*u.signum(h),o.scaleY=t+(h-t)*s;break;case 3:o.scaleY+=(h-o.data.scaleY)*s}}}},ht=class extends tt{constructor(t,e,i){super(t,e,O+"|"+i,L+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(r){case 0:return o.shearX=o.data.shearX,void(o.shearY=o.data.shearY);case 1:o.shearX+=(o.data.shearX-o.shearX)*s,o.shearY+=(o.data.shearY-o.shearY)*s}return}let l=0,u=0,c=Z.search(h,i,3),f=this.curves[c/3];switch(f){case 0:let t=h[c];l=h[c+1],u=h[c+2];let e=(i-t)/(h[c+3]-t);l+=(h[c+3+1]-l)*e,u+=(h[c+3+2]-u)*e;break;case 1:l=h[c+1],u=h[c+2];break;default:l=this.getBezierValue(i,c,1,f-2),u=this.getBezierValue(i,c,2,f+18-2)}switch(r){case 0:o.shearX=o.data.shearX+l*s,o.shearY=o.data.shearY+u*s;break;case 1:case 2:o.shearX+=(o.data.shearX+l-o.shearX)*s,o.shearY+=(o.data.shearY+u-o.shearY)*s;break;case 3:o.shearX+=l*s,o.shearY+=u*s}}},lt=class extends J{constructor(t,e,i){super(t,e,O+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.shearX=o.data.shearX);case 1:o.shearX+=(o.data.shearX-o.shearX)*s}return}let h=this.getCurveValue(i);switch(r){case 0:o.shearX=o.data.shearX+h*s;break;case 1:case 2:o.shearX+=(o.data.shearX+h-o.shearX)*s;break;case 3:o.shearX+=h*s}}},ut=class extends J{constructor(t,e,i){super(t,e,L+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,e,i,n,s,r,a){let o=t.bones[this.boneIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.shearY=o.data.shearY);case 1:o.shearY+=(o.data.shearY-o.shearY)*s}return}let h=this.getCurveValue(i);switch(r){case 0:o.shearY=o.data.shearY+h*s;break;case 1:case 2:o.shearY+=(o.data.shearY+h-o.shearY)*s;break;case 3:o.shearY+=h*s}}},ct=class extends Q{constructor(t,e,i){super(t,e,[_+"|"+i,z+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,e,i,n,s,r){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,l=o.color;if(i<h[0]){let t=o.data.color;switch(r){case 0:return void l.setFromColor(t);case 1:l.add((t.r-l.r)*s,(t.g-l.g)*s,(t.b-l.b)*s,(t.a-l.a)*s)}return}let u=0,c=0,f=0,d=0,p=Z.search(h,i,5),m=this.curves[p/5];switch(m){case 0:let t=h[p];u=h[p+1],c=h[p+2],f=h[p+3],d=h[p+4];let e=(i-t)/(h[p+5]-t);u+=(h[p+5+1]-u)*e,c+=(h[p+5+2]-c)*e,f+=(h[p+5+3]-f)*e,d+=(h[p+5+4]-d)*e;break;case 1:u=h[p+1],c=h[p+2],f=h[p+3],d=h[p+4];break;default:u=this.getBezierValue(i,p,1,m-2),c=this.getBezierValue(i,p,2,m+18-2),f=this.getBezierValue(i,p,3,m+36-2),d=this.getBezierValue(i,p,4,m+54-2)}1==s?l.set(u,c,f,d):(0==r&&l.setFromColor(o.data.color),l.add((u-l.r)*s,(c-l.g)*s,(f-l.b)*s,(d-l.a)*s))}},ft=class extends Q{constructor(t,e,i){super(t,e,[_+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,n,s){t<<=2,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,l=o.color;if(i<h[0]){let t=o.data.color;switch(r){case 0:return l.r=t.r,l.g=t.g,void(l.b=t.b);case 1:l.r+=(t.r-l.r)*s,l.g+=(t.g-l.g)*s,l.b+=(t.b-l.b)*s}return}let u=0,c=0,f=0,d=Z.search(h,i,4),p=this.curves[d>>2];switch(p){case 0:let t=h[d];u=h[d+1],c=h[d+2],f=h[d+3];let e=(i-t)/(h[d+4]-t);u+=(h[d+4+1]-u)*e,c+=(h[d+4+2]-c)*e,f+=(h[d+4+3]-f)*e;break;case 1:u=h[d+1],c=h[d+2],f=h[d+3];break;default:u=this.getBezierValue(i,d,1,p-2),c=this.getBezierValue(i,d,2,p+18-2),f=this.getBezierValue(i,d,3,p+36-2)}if(1==s)l.r=u,l.g=c,l.b=f;else{if(0==r){let t=o.data.color;l.r=t.r,l.g=t.g,l.b=t.b}l.r+=(u-l.r)*s,l.g+=(c-l.g)*s,l.b+=(f-l.b)*s}}},dt=class extends J{constructor(t,e,i){super(t,e,z+"|"+i),this.slotIndex=0,this.slotIndex=i}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.color;if(i<this.frames[0]){let t=o.data.color;switch(r){case 0:return void(h.a=t.a);case 1:h.a+=(t.a-h.a)*s}return}let l=this.getCurveValue(i);1==s?h.a=l:(0==r&&(h.a=o.data.color.a),h.a+=(l-h.a)*s)}},pt=class extends Q{constructor(t,e,i){super(t,e,[_+"|"+i,z+"|"+i,B+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,e,i,n,s,r,a,o,h){t<<=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o,this.frames[t+7]=h}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,l=o.color,u=o.darkColor;if(i<h[0]){let t=o.data.color,e=o.data.darkColor;switch(r){case 0:return l.setFromColor(t),u.r=e.r,u.g=e.g,void(u.b=e.b);case 1:l.add((t.r-l.r)*s,(t.g-l.g)*s,(t.b-l.b)*s,(t.a-l.a)*s),u.r+=(e.r-u.r)*s,u.g+=(e.g-u.g)*s,u.b+=(e.b-u.b)*s}return}let c=0,f=0,d=0,p=0,m=0,g=0,x=0,y=Z.search(h,i,8),v=this.curves[y>>3];switch(v){case 0:let t=h[y];c=h[y+1],f=h[y+2],d=h[y+3],p=h[y+4],m=h[y+5],g=h[y+6],x=h[y+7];let e=(i-t)/(h[y+8]-t);c+=(h[y+8+1]-c)*e,f+=(h[y+8+2]-f)*e,d+=(h[y+8+3]-d)*e,p+=(h[y+8+4]-p)*e,m+=(h[y+8+5]-m)*e,g+=(h[y+8+6]-g)*e,x+=(h[y+8+7]-x)*e;break;case 1:c=h[y+1],f=h[y+2],d=h[y+3],p=h[y+4],m=h[y+5],g=h[y+6],x=h[y+7];break;default:c=this.getBezierValue(i,y,1,v-2),f=this.getBezierValue(i,y,2,v+18-2),d=this.getBezierValue(i,y,3,v+36-2),p=this.getBezierValue(i,y,4,v+54-2),m=this.getBezierValue(i,y,5,v+72-2),g=this.getBezierValue(i,y,6,v+90-2),x=this.getBezierValue(i,y,7,v+108-2)}if(1==s)l.set(c,f,d,p),u.r=m,u.g=g,u.b=x;else{if(0==r){l.setFromColor(o.data.color);let t=o.data.darkColor;u.r=t.r,u.g=t.g,u.b=t.b}l.add((c-l.r)*s,(f-l.g)*s,(d-l.b)*s,(p-l.a)*s),u.r+=(m-u.r)*s,u.g+=(g-u.g)*s,u.b+=(x-u.b)*s}}},mt=class extends Q{constructor(t,e,i){super(t,e,[_+"|"+i,B+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,n,s,r,a,o){t*=7,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r,this.frames[t+5]=a,this.frames[t+6]=o}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,l=o.color,u=o.darkColor;if(i<h[0]){let t=o.data.color,e=o.data.darkColor;switch(r){case 0:return l.r=t.r,l.g=t.g,l.b=t.b,u.r=e.r,u.g=e.g,void(u.b=e.b);case 1:l.r+=(t.r-l.r)*s,l.g+=(t.g-l.g)*s,l.b+=(t.b-l.b)*s,u.r+=(e.r-u.r)*s,u.g+=(e.g-u.g)*s,u.b+=(e.b-u.b)*s}return}let c=0,f=0,d=0,p=0,m=0,g=0,x=Z.search(h,i,7),y=this.curves[x/7];switch(y){case 0:let t=h[x];c=h[x+1],f=h[x+2],d=h[x+3],p=h[x+4],m=h[x+5],g=h[x+6];let e=(i-t)/(h[x+7]-t);c+=(h[x+7+1]-c)*e,f+=(h[x+7+2]-f)*e,d+=(h[x+7+3]-d)*e,p+=(h[x+7+4]-p)*e,m+=(h[x+7+5]-m)*e,g+=(h[x+7+6]-g)*e;break;case 1:c=h[x+1],f=h[x+2],d=h[x+3],p=h[x+4],m=h[x+5],g=h[x+6];break;default:c=this.getBezierValue(i,x,1,y-2),f=this.getBezierValue(i,x,2,y+18-2),d=this.getBezierValue(i,x,3,y+36-2),p=this.getBezierValue(i,x,4,y+54-2),m=this.getBezierValue(i,x,5,y+72-2),g=this.getBezierValue(i,x,6,y+90-2)}if(1==s)l.r=c,l.g=f,l.b=d,u.r=p,u.g=m,u.b=g;else{if(0==r){let t=o.data.color,e=o.data.darkColor;l.r=t.r,l.g=t.g,l.b=t.b,u.r=e.r,u.g=e.g,u.b=e.b}l.r+=(c-l.r)*s,l.g+=(f-l.g)*s,l.b+=(d-l.b)*s,u.r+=(p-u.r)*s,u.g+=(m-u.g)*s,u.b+=(g-u.b)*s}}},gt=class extends Z{constructor(t,e){super(t,[N+"|"+e]),this.slotIndex=0,this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];o.bone.active&&(1!=a?i<this.frames[0]?0!=r&&1!=r||this.setAttachment(t,o,o.data.attachmentName):this.setAttachment(t,o,this.attachmentNames[Z.search1(this.frames,i)]):0==r&&this.setAttachment(t,o,o.data.attachmentName))}setAttachment(t,e,i){e.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}},xt=class extends Q{constructor(t,e,i,n){super(t,e,[V+"|"+i+"|"+n.id]),this.slotIndex=0,this.slotIndex=i,this.attachment=n,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.vertices[t]=i}setBezier(t,e,i,n,s,r,a,o,h,l,u){let c=this.curves,f=this.getFrameCount()+18*t;0==i&&(c[e]=2+f);let d=.03*(n-2*r+o),p=.03*h-.06*a,m=.006*(3*(r-o)-n+l),g=.018*(a-h+.33333333),x=2*d+m,y=2*p+g,v=.3*(r-n)+d+.16666667*m,w=.3*a+p+.16666667*g,b=n+v,M=w;for(let t=f+18;f<t;f+=2)c[f]=b,c[f+1]=M,v+=x,w+=y,x+=m,y+=g,b+=v,M+=w}getCurvePercent(t,e){let i=this.curves,n=i[e];switch(n){case 0:let i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(n-=2,i[n]>t){let s=this.frames[e];return i[n+1]*(t-s)/(i[n]-s)}let s=n+18;for(n+=2;n<s;n+=2)if(i[n]>=t){let e=i[n-2],s=i[n-1];return s+(t-e)/(i[n]-e)*(i[n+1]-s)}let r=i[s-2],a=i[s-1];return a+(1-a)*(t-r)/(this.frames[e+this.getFrameEntries()]-r)}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.getAttachment();if(!h)return;if(!(h instanceof A)||h.timelineAttachment!=this.attachment)return;let l=o.deform;0==l.length&&(r=0);let u=this.vertices,c=u[0].length,f=this.frames;if(i<f[0]){switch(r){case 0:return void(l.length=0);case 1:if(1==s)return void(l.length=0);l.length=c;let t=h;if(t.bones){s=1-s;for(d=0;d<c;d++)l[d]*=s}else{let e=t.vertices;for(var d=0;d<c;d++)l[d]+=(e[d]-l[d])*s}}return}if(l.length=c,i>=f[f.length-1]){let t=u[f.length-1];if(1==s)if(3==r){let e=h;if(e.bones)for(let e=0;e<c;e++)l[e]+=t[e];else{let i=e.vertices;for(let e=0;e<c;e++)l[e]+=t[e]-i[e]}}else m.arrayCopy(t,0,l,0,c);else switch(r){case 0:{let e=h;if(e.bones)for(let e=0;e<c;e++)l[e]=t[e]*s;else{let i=e.vertices;for(let e=0;e<c;e++){let n=i[e];l[e]=n+(t[e]-n)*s}}break}case 1:case 2:for(let e=0;e<c;e++)l[e]+=(t[e]-l[e])*s;break;case 3:let e=h;if(e.bones)for(let e=0;e<c;e++)l[e]+=t[e]*s;else{let i=e.vertices;for(let e=0;e<c;e++)l[e]+=(t[e]-i[e])*s}}return}let p=Z.search1(f,i),g=this.getCurvePercent(i,p),x=u[p],y=u[p+1];if(1==s)if(3==r){let t=h;if(t.bones)for(let t=0;t<c;t++){let e=x[t];l[t]+=e+(y[t]-e)*g}else{let e=t.vertices;for(let t=0;t<c;t++){let i=x[t];l[t]+=i+(y[t]-i)*g-e[t]}}}else for(let t=0;t<c;t++){let e=x[t];l[t]=e+(y[t]-e)*g}else switch(r){case 0:{let t=h;if(t.bones)for(let t=0;t<c;t++){let e=x[t];l[t]=(e+(y[t]-e)*g)*s}else{let e=t.vertices;for(let t=0;t<c;t++){let i=x[t],n=e[t];l[t]=n+(i+(y[t]-i)*g-n)*s}}break}case 1:case 2:for(let t=0;t<c;t++){let e=x[t];l[t]+=(e+(y[t]-e)*g-l[t])*s}break;case 3:let t=h;if(t.bones)for(let t=0;t<c;t++){let e=x[t];l[t]+=(e+(y[t]-e)*g)*s}else{let e=t.vertices;for(let t=0;t<c;t++){let i=x[t];l[t]+=(i+(y[t]-i)*g-e[t])*s}}}}},yt=class extends Z{constructor(t){super(t,yt.propertyIds),this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,n,s,r,a){if(!n)return;let o=this.frames,h=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,n,s,r,a),e=-1;else if(e>=o[h-1])return;if(i<o[0])return;let l=0;if(e<o[0])l=0;else{l=Z.search1(o,e)+1;let t=o[l];for(;l>0&&o[l-1]==t;)l--}for(;l<h&&i>=o[l];l++)n.push(this.events[l])}},vt=yt;vt.propertyIds=[""+U];var wt=class extends Z{constructor(t){super(t,wt.propertyIds),this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(t,e,i,n,s,r,a){if(1==a)return void(0==r&&m.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));if(i<this.frames[0])return void(0!=r&&1!=r||m.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let o=Z.search1(this.frames,i),h=this.drawOrders[o];if(h){let e=t.drawOrder,i=t.slots;for(let t=0,n=h.length;t<n;t++)e[t]=i[h[t]]}else m.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}},bt=wt;bt.propertyIds=[""+q];var Mt=class extends Q{constructor(t,e,i){super(t,e,[W+"|"+i]),this.ikConstraintIndex=0,this.ikConstraintIndex=i}getFrameEntries(){return 6}setFrame(t,e,i,n,s,r,a){t*=6,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=n,this.frames[t+3]=s,this.frames[t+4]=r?1:0,this.frames[t+5]=a?1:0}apply(t,e,i,n,s,r,a){let o=t.ikConstraints[this.ikConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(r){case 0:return o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,void(o.stretch=o.data.stretch);case 1:o.mix+=(o.data.mix-o.mix)*s,o.softness+=(o.data.softness-o.softness)*s,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}let l=0,u=0,c=Z.search(h,i,6),f=this.curves[c/6];switch(f){case 0:let t=h[c];l=h[c+1],u=h[c+2];let e=(i-t)/(h[c+6]-t);l+=(h[c+6+1]-l)*e,u+=(h[c+6+2]-u)*e;break;case 1:l=h[c+1],u=h[c+2];break;default:l=this.getBezierValue(i,c,1,f-2),u=this.getBezierValue(i,c,2,f+18-2)}0==r?(o.mix=o.data.mix+(l-o.data.mix)*s,o.softness=o.data.softness+(u-o.data.softness)*s,1==a?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=h[c+3],o.compress=0!=h[c+4],o.stretch=0!=h[c+5])):(o.mix+=(l-o.mix)*s,o.softness+=(u-o.softness)*s,0==a&&(o.bendDirection=h[c+3],o.compress=0!=h[c+4],o.stretch=0!=h[c+5]))}},At=class extends Q{constructor(t,e,i){super(t,e,[G+"|"+i]),this.transformConstraintIndex=0,this.transformConstraintIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,n,s,r,a,o){let h=this.frames;h[t*=7]=e,h[t+1]=i,h[t+2]=n,h[t+3]=s,h[t+4]=r,h[t+5]=a,h[t+6]=o}apply(t,e,i,n,s,r,a){let o=t.transformConstraints[this.transformConstraintIndex];if(!o.active)return;let h,l,u,c,f,d,p=this.frames;if(i<p[0]){let t=o.data;switch(r){case 0:return o.mixRotate=t.mixRotate,o.mixX=t.mixX,o.mixY=t.mixY,o.mixScaleX=t.mixScaleX,o.mixScaleY=t.mixScaleY,void(o.mixShearY=t.mixShearY);case 1:o.mixRotate+=(t.mixRotate-o.mixRotate)*s,o.mixX+=(t.mixX-o.mixX)*s,o.mixY+=(t.mixY-o.mixY)*s,o.mixScaleX+=(t.mixScaleX-o.mixScaleX)*s,o.mixScaleY+=(t.mixScaleY-o.mixScaleY)*s,o.mixShearY+=(t.mixShearY-o.mixShearY)*s}return}let m=Z.search(p,i,7),g=this.curves[m/7];switch(g){case 0:let t=p[m];h=p[m+1],l=p[m+2],u=p[m+3],c=p[m+4],f=p[m+5],d=p[m+6];let e=(i-t)/(p[m+7]-t);h+=(p[m+7+1]-h)*e,l+=(p[m+7+2]-l)*e,u+=(p[m+7+3]-u)*e,c+=(p[m+7+4]-c)*e,f+=(p[m+7+5]-f)*e,d+=(p[m+7+6]-d)*e;break;case 1:h=p[m+1],l=p[m+2],u=p[m+3],c=p[m+4],f=p[m+5],d=p[m+6];break;default:h=this.getBezierValue(i,m,1,g-2),l=this.getBezierValue(i,m,2,g+18-2),u=this.getBezierValue(i,m,3,g+36-2),c=this.getBezierValue(i,m,4,g+54-2),f=this.getBezierValue(i,m,5,g+72-2),d=this.getBezierValue(i,m,6,g+90-2)}if(0==r){let t=o.data;o.mixRotate=t.mixRotate+(h-t.mixRotate)*s,o.mixX=t.mixX+(l-t.mixX)*s,o.mixY=t.mixY+(u-t.mixY)*s,o.mixScaleX=t.mixScaleX+(c-t.mixScaleX)*s,o.mixScaleY=t.mixScaleY+(f-t.mixScaleY)*s,o.mixShearY=t.mixShearY+(d-t.mixShearY)*s}else o.mixRotate+=(h-o.mixRotate)*s,o.mixX+=(l-o.mixX)*s,o.mixY+=(u-o.mixY)*s,o.mixScaleX+=(c-o.mixScaleX)*s,o.mixScaleY+=(f-o.mixScaleY)*s,o.mixShearY+=(d-o.mixShearY)*s}},St=class extends J{constructor(t,e,i){super(t,e,H+"|"+i),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.position=o.data.position);case 1:o.position+=(o.data.position-o.position)*s}return}let h=this.getCurveValue(i);0==r?o.position=o.data.position+(h-o.data.position)*s:o.position+=(h-o.position)*s}},kt=class extends J{constructor(t,e,i){super(t,e,j+"|"+i),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(i<this.frames[0]){switch(r){case 0:return void(o.spacing=o.data.spacing);case 1:o.spacing+=(o.data.spacing-o.spacing)*s}return}let h=this.getCurveValue(i);0==r?o.spacing=o.data.spacing+(h-o.data.spacing)*s:o.spacing+=(h-o.spacing)*s}},Tt=class extends Q{constructor(t,e,i){super(t,e,[K+"|"+i]),this.pathConstraintIndex=0,this.pathConstraintIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,n,s){let r=this.frames;r[t<<=2]=e,r[t+1]=i,r[t+2]=n,r[t+3]=s}apply(t,e,i,n,s,r,a){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let h,l,u,c=this.frames;if(i<c[0]){switch(r){case 0:return o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,void(o.mixY=o.data.mixY);case 1:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*s,o.mixX+=(o.data.mixX-o.mixX)*s,o.mixY+=(o.data.mixY-o.mixY)*s}return}let f=Z.search(c,i,4),d=this.curves[f>>2];switch(d){case 0:let t=c[f];h=c[f+1],l=c[f+2],u=c[f+3];let e=(i-t)/(c[f+4]-t);h+=(c[f+4+1]-h)*e,l+=(c[f+4+2]-l)*e,u+=(c[f+4+3]-u)*e;break;case 1:h=c[f+1],l=c[f+2],u=c[f+3];break;default:h=this.getBezierValue(i,f,1,d-2),l=this.getBezierValue(i,f,2,d+18-2),u=this.getBezierValue(i,f,3,d+36-2)}if(0==r){let t=o.data;o.mixRotate=t.mixRotate+(h-t.mixRotate)*s,o.mixX=t.mixX+(l-t.mixX)*s,o.mixY=t.mixY+(u-t.mixY)*s}else o.mixRotate+=(h-o.mixRotate)*s,o.mixX+=(l-o.mixX)*s,o.mixY+=(u-o.mixY)*s}},It=class extends Z{constructor(t,e,i){super(t,[$+"|"+e+"|"+i.sequence.id]),this.slotIndex=e,this.attachment=i}getFrameEntries(){return It.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,e,i,n,s){let r=this.frames;r[t*=It.ENTRIES]=e,r[t+It.MODE]=i|n<<4,r[t+It.DELAY]=s}apply(t,e,i,n,s,r,a){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.attachment,l=this.attachment;if(!(h==l||h instanceof A&&h.timelineAttachment==l))return;let u=this.frames;if(i<u[0])return void(0!=r&&1!=r||(o.sequenceIndex=-1));let c=Z.search(u,i,It.ENTRIES),f=u[c],d=u[c+It.MODE],p=u[c+It.DELAY];if(!this.attachment.sequence)return;let m=d>>4,g=this.attachment.sequence.regions.length,x=I[15&d];if(0!=x)switch(m+=(i-f)/p+1e-5|0,x){case 1:m=Math.min(g-1,m);break;case 2:m%=g;break;case 3:{let t=(g<<1)-2;m=0==t?0:m%t,m>=g&&(m=t-m);break}case 4:m=Math.max(g-1-m,0);break;case 5:m=g-1-m%g;break;case 6:{let t=(g<<1)-2;m=0==t?0:(m+g-1)%t,m>=g&&(m=t-m)}}o.sequenceIndex=m}},Et=It;Et.ENTRIES=3,Et.MODE=1,Et.DELAY=2;var Rt=class{constructor(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Pt(this),this.propertyIDs=new a,this.animationsChanged=!1,this.trackEntryPool=new x(()=>new Ft),this.data=t}static emptyAnimation(){return Rt._emptyAnimation}update(t){t*=this.timeScale;let e=this.tracks;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(!n)continue;n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast;let s=t*n.timeScale;if(n.delay>0){if(n.delay-=s,n.delay>0)continue;s=-n.delay,n.delay=0}let r=n.next;if(r){let e=n.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime+=0==n.timeScale?0:(e/n.timeScale+t)*r.timeScale,n.trackTime+=s,this.setCurrent(i,r,!0);r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(n.trackLast>=n.trackEnd&&!n.mixingFrom){e[i]=null,this.queue.end(n),this.clearNext(n);continue}if(n.mixingFrom&&this.updateMixingFrom(n,t)){let t=n.mixingFrom;for(n.mixingFrom=null,t&&(t.mixingTo=null);t;)this.queue.end(t),t=t.mixingFrom}n.trackTime+=s}this.queue.drain()}updateMixingFrom(t,e){let i=t.mixingFrom;if(!i)return!0;let n=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),n):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,i=this.tracks,n=!1;for(let r=0,a=i.length;r<a;r++){let a=i[r];if(!a||a.delay>0)continue;n=!0;let o=0==r?1:a.mixBlend,h=a.alpha;a.mixingFrom?h*=this.applyMixingFrom(a,t,o):a.trackTime>=a.trackEnd&&!a.next&&(h=0);let l=a.animationLast,u=a.getAnimationTime(),c=u,f=e;a.reverse&&(c=a.animation.duration-c,f=null);let d=a.animation.timelines,p=d.length;if(0==r&&1==h||3==o)for(let e=0;e<p;e++){m.webkit602BugfixHelper(h,o);var s=d[e];s instanceof gt?this.applyAttachmentTimeline(s,t,c,o,!0):s.apply(t,l,c,f,h,o,0)}else{let e=a.timelineMode,i=a.shortestRotation,n=!i&&a.timelinesRotation.length!=p<<1;n&&(a.timelinesRotation.length=p<<1);for(let s=0;s<p;s++){let r=d[s],u=e[s]==Dt?o:0;!i&&r instanceof et?this.applyRotateTimeline(r,t,c,h,u,a.timelinesRotation,s<<1,n):r instanceof gt?this.applyAttachmentTimeline(r,t,c,o,!0):(m.webkit602BugfixHelper(h,o),r.apply(t,l,c,f,h,u,0))}}this.queueEvents(a,u),e.length=0,a.nextAnimationLast=u,a.nextTrackLast=a.trackTime}for(var r=this.unkeyedState+Bt,a=t.slots,o=0,h=t.slots.length;o<h;o++){var l=a[o];if(l.attachmentState==r){var u=l.data.attachmentName;l.setAttachment(u?t.getAttachment(l.data.index,u):null)}}return this.unkeyedState+=2,this.queue.drain(),n}applyMixingFrom(t,e,i){let n=t.mixingFrom;n.mixingFrom&&this.applyMixingFrom(n,e,i);let s=0;0==t.mixDuration?(s=1,1==i&&(i=0)):(s=t.mixTime/t.mixDuration,s>1&&(s=1),1!=i&&(i=n.mixBlend));let r=s<n.attachmentThreshold,a=s<n.drawOrderThreshold,o=n.animation.timelines,h=o.length,l=n.alpha*t.interruptAlpha,u=l*(1-s),c=n.animationLast,f=n.getAnimationTime(),d=f,p=null;if(n.reverse?d=n.animation.duration-d:s<n.eventThreshold&&(p=this.events),3==i)for(let t=0;t<h;t++)o[t].apply(e,c,d,p,u,i,1);else{let t=n.timelineMode,s=n.timelineHoldMix,f=n.shortestRotation,g=!f&&n.timelinesRotation.length!=h<<1;g&&(n.timelinesRotation.length=h<<1),n.totalAlpha=0;for(let x=0;x<h;x++){let h,y=o[x],v=1,w=0;switch(t[x]){case Dt:if(!a&&y instanceof bt)continue;h=i,w=u;break;case Ot:h=0,w=u;break;case Lt:h=i,w=l;break;case _t:h=0,w=l;break;default:h=0;let t=s[x];w=l*Math.max(0,1-t.mixTime/t.mixDuration)}n.totalAlpha+=w,!f&&y instanceof et?this.applyRotateTimeline(y,e,d,w,h,n.timelinesRotation,x<<1,g):y instanceof gt?this.applyAttachmentTimeline(y,e,d,h,r):(m.webkit602BugfixHelper(w,i),a&&y instanceof bt&&0==h&&(v=0),y.apply(e,c,d,p,w,h,v))}}return t.mixDuration>0&&this.queueEvents(n,f),this.events.length=0,n.nextAnimationLast=f,n.nextTrackLast=n.trackTime,s}applyAttachmentTimeline(t,e,i,n,s){var r=e.slots[t.slotIndex];r.bone.active&&(i<t.frames[0]?0!=n&&1!=n||this.setAttachment(e,r,r.data.attachmentName,s):this.setAttachment(e,r,t.attachmentNames[Z.search1(t.frames,i)],s),r.attachmentState<=this.unkeyedState&&(r.attachmentState=this.unkeyedState+Bt))}setAttachment(t,e,i,n){e.setAttachment(i?t.getAttachment(e.data.index,i):null),n&&(e.attachmentState=this.unkeyedState+Nt)}applyRotateTimeline(t,e,i,n,s,r,a,o){if(o&&(r[a]=0),1==n)return void t.apply(e,0,i,null,1,s,0);let h=e.bones[t.boneIndex];if(!h.active)return;let l=0,c=0;if(i<t.frames[0])switch(s){case 0:h.rotation=h.data.rotation;default:return;case 1:l=h.rotation,c=h.data.rotation}else l=0==s?h.data.rotation:h.rotation,c=h.data.rotation+t.getCurveValue(i);let f=0,d=c-l;if(d-=360*(16384-(16384.499999999996-d/360|0)),0==d)f=r[a];else{let t=0,e=0;o?(t=0,e=d):(t=r[a],e=r[a+1]);let i=d>0,n=t>=0;u.signum(e)!=u.signum(d)&&Math.abs(e)<=90&&(Math.abs(t)>180&&(t+=360*u.signum(t)),n=i),f=d+t-t%360,n!=i&&(f+=360*u.signum(t)),r[a]=f}r[a+1]=d,h.rotation=l+f*n}queueEvents(t,e){let i=t.animationStart,n=t.animationEnd,s=n-i,r=t.trackLast%s,a=this.events,o=0,h=a.length;for(;o<h;o++){let e=a[o];if(e.time<r)break;e.time>n||this.queue.event(t,e)}let l=!1;for(l=t.loop?0==s||r>t.trackTime%s:e>=n&&t.animationLast<n,l&&this.queue.complete(t);o<h;o++){let e=a[o];e.time<i||this.queue.event(t,e)}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let i=e;for(;;){let t=i.mixingFrom;if(!t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){let n=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i=!1){let n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)}setAnimationWith(t,e,i=!1){if(!e)throw new Error("animation cannot be null.");let n=!0,s=this.expandToIndex(t);s&&(-1==s.nextTrackLast?(this.tracks[t]=s.mixingFrom,this.queue.interrupt(s),this.queue.end(s),this.clearNext(s),s=s.mixingFrom,n=!1):this.clearNext(s));let r=this.trackEntry(t,e,i,s);return this.setCurrent(t,r,n),this.queue.drain(),r}addAnimation(t,e,i=!1,n=0){let s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,s,i,n)}addAnimationWith(t,e,i=!1,n=0){if(!e)throw new Error("animation cannot be null.");let s=this.expandToIndex(t);if(s)for(;s.next;)s=s.next;let r=this.trackEntry(t,e,i,s);return s?(s.next=r,r.previous=s,n<=0&&(n+=s.getTrackComplete()-r.mixDuration)):(this.setCurrent(t,r,!0),this.queue.drain()),r.delay=n,r}setEmptyAnimation(t,e=0){let i=this.setAnimationWith(t,Rt.emptyAnimation(),!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e=0,i=0){let n=this.addAnimationWith(t,Rt.emptyAnimation(),!1,i);return i<=0&&(n.delay+=n.mixDuration-e),n.mixDuration=e,n.trackEnd=e,n}setEmptyAnimations(t=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){let i=this.tracks[e];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(m.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,i,n){let s=this.trackEntryPool.obtain();return s.reset(),s.trackIndex=t,s.animation=e,s.loop=i,s.holdPrevious=!1,s.reverse=!1,s.shortestRotation=!1,s.eventThreshold=0,s.attachmentThreshold=0,s.drawOrderThreshold=0,s.animationStart=0,s.animationEnd=e.duration,s.animationLast=-1,s.nextAnimationLast=-1,s.delay=0,s.trackTime=0,s.trackLast=-1,s.nextTrackLast=-1,s.trackEnd=Number.MAX_VALUE,s.timeScale=1,s.alpha=1,s.mixTime=0,s.mixDuration=n?this.data.getMix(n.animation,e):0,s.interruptAlpha=1,s.totalAlpha=0,s.mixBlend=2,s}clearNext(t){let e=t.next;for(;e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let t=this.tracks;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&3==i.mixBlend||this.computeHold(i),i=i.mixingTo}while(i)}}}computeHold(t){let e=t.mixingTo,i=t.animation.timelines,n=t.animation.timelines.length,s=t.timelineMode;s.length=n;let r=t.timelineHoldMix;r.length=0;let a=this.propertyIDs;if(e&&e.holdPrevious)for(let t=0;t<n;t++)s[t]=a.addAll(i[t].getPropertyIds())?_t:Lt;else t:for(let o=0;o<n;o++){let n=i[o],h=n.getPropertyIds();if(a.addAll(h))if(!e||n instanceof gt||n instanceof bt||n instanceof vt||!e.animation.hasTimeline(h))s[o]=Ot;else{for(let i=e.mixingTo;i;i=i.mixingTo)if(!i.animation.hasTimeline(h)){if(t.mixDuration>0){s[o]=zt,r[o]=i;continue t}break}s[o]=_t}else s[o]=Dt}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}},Ct=Rt;Ct._emptyAnimation=new E("<empty>",[],0);var Ft=class{constructor(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=2,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}},Pt=class{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=t}start(t){this.objects.push(Yt.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(Yt.interrupt),this.objects.push(t)}end(t){this.objects.push(Yt.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(Yt.dispose),this.objects.push(t)}complete(t){this.objects.push(Yt.complete),this.objects.push(t)}event(t,e){this.objects.push(Yt.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,e=this.animState.listeners;for(let i=0;i<t.length;i+=2){let n=t[i],s=t[i+1];switch(n){case Yt.start:s.listener&&s.listener.start&&s.listener.start(s);for(let t=0;t<e.length;t++){let i=e[t];i.start&&i.start(s)}break;case Yt.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let t=0;t<e.length;t++){let i=e[t];i.interrupt&&i.interrupt(s)}break;case Yt.end:s.listener&&s.listener.end&&s.listener.end(s);for(let t=0;t<e.length;t++){let i=e[t];i.end&&i.end(s)}case Yt.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let t=0;t<e.length;t++){let i=e[t];i.dispose&&i.dispose(s)}this.animState.trackEntryPool.free(s);break;case Yt.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let t=0;t<e.length;t++){let i=e[t];i.complete&&i.complete(s)}break;case Yt.event:let n=t[2+i++];s.listener&&s.listener.event&&s.listener.event(s,n);for(let t=0;t<e.length;t++){let i=e[t];i.event&&i.event(s,n)}}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}},Yt=(t=>(t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t))(Yt||{}),Xt=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}},Dt=0,Ot=1,Lt=2,_t=3,zt=4,Bt=1,Nt=2,Vt=class{constructor(t){if(this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){let n=this.skeletonData.findAnimation(t);if(!n)throw new Error("Animation not found: "+t);let s=this.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);this.setMixWith(n,s,i)}setMixWith(t,e,i){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");let n=t.name+"."+e.name;this.animationToMixTime[n]=i}getMix(t,e){let i=t.name+"."+e.name,n=this.animationToMixTime[i];return void 0===n?this.defaultMix:n}},Ut=class extends A{constructor(t){super(t),this.color=new h(1,1,1,1)}copy(){let t=new Ut(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}},qt=class extends A{constructor(t){super(t),this.endSlot=null,this.color=new h(.2275,.2275,.8078,1)}copy(){let t=new qt(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}},Wt=class{constructor(t){this._image=t}getImage(){return this._image}},Gt=(t=>(t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear",t))(Gt||{}),Ht=(t=>(t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat",t))(Ht||{}),jt=class{constructor(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}},Kt=class extends Wt{setFilters(t,e){}setWraps(t,e){}dispose(){}},$t=class{constructor(t){this.pages=new Array,this.regions=new Array;let e=new Zt(t),i=new Array(4),n={size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},format:()=>{},filter:t=>{t.minFilter=m.enumValue(Gt,i[1]),t.magFilter=m.enumValue(Gt,i[2])},repeat:t=>{-1!=i[1].indexOf("x")&&(t.uWrap=10497),-1!=i[1].indexOf("y")&&(t.vWrap=10497)},pma:t=>{t.pma="true"==i[1]}};var s={xy:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2])},size:t=>{t.width=parseInt(i[1]),t.height=parseInt(i[2])},bounds:t=>{t.x=parseInt(i[1]),t.y=parseInt(i[2]),t.width=parseInt(i[3]),t.height=parseInt(i[4])},offset:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2])},orig:t=>{t.originalWidth=parseInt(i[1]),t.originalHeight=parseInt(i[2])},offsets:t=>{t.offsetX=parseInt(i[1]),t.offsetY=parseInt(i[2]),t.originalWidth=parseInt(i[3]),t.originalHeight=parseInt(i[4])},rotate:t=>{let e=i[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:t=>{t.index=parseInt(i[1])}};let r=e.readLine();for(;r&&0==r.trim().length;)r=e.readLine();for(;r&&0!=r.trim().length&&0!=e.readEntry(i,r);)r=e.readLine();let a=null,o=null,h=null;for(;null!==r;)if(0==r.trim().length)a=null,r=e.readLine();else if(a){let t=new Jt(a,r);for(;;){let n=e.readEntry(i,r=e.readLine());if(0==n)break;let a=s[i[0]];if(a)a(t);else{o||(o=[]),h||(h=[]),o.push(i[0]);let t=[];for(let e=0;e<n;e++)t.push(parseInt(i[e+1]));h.push(t)}}0==t.originalWidth&&0==t.originalHeight&&(t.originalWidth=t.width,t.originalHeight=t.height),o&&o.length>0&&h&&h.length>0&&(t.names=o,t.values=h,o=null,h=null),t.u=t.x/a.width,t.v=t.y/a.height,90==t.degrees?(t.u2=(t.x+t.height)/a.width,t.v2=(t.y+t.width)/a.height):(t.u2=(t.x+t.width)/a.width,t.v2=(t.y+t.height)/a.height),this.regions.push(t)}else{for(a=new Qt(r.trim());0!=e.readEntry(i,r=e.readLine());){let t=n[i[0]];t&&t(a)}this.pages.push(a)}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}setTextures(t,e=""){for(let i of this.pages)i.setTexture(t.get(e+i.name))}dispose(){var t;for(let e=0;e<this.pages.length;e++)null==(t=this.pages[e].texture)||t.dispose()}},Zt=class{constructor(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;let i=e.indexOf(":");if(-1==i)return 0;t[0]=e.substr(0,i).trim();for(let n=1,s=i+1;;n++){let i=e.indexOf(",",s);if(-1==i)return t[n]=e.substr(s).trim(),n;if(t[n]=e.substr(s,i-s).trim(),s=i+1,4==n)return 4}}},Qt=class{constructor(t){this.minFilter=9728,this.magFilter=9728,this.uWrap=33071,this.vWrap=33071,this.texture=null,this.width=0,this.height=0,this.pma=!1,this.name=t}setTexture(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap)}},Jt=class extends jt{constructor(t,e){super(),this.x=0,this.y=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.index=0,this.degrees=0,this.names=null,this.values=null,this.page=t,this.name=e}},te=class extends A{constructor(t,e){super(t),this.region=null,this.regionUVs=[],this.uvs=[],this.triangles=[],this.color=new h(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=[],this.parentMesh=null,this.sequence=null,this.tempColor=new h(0,0,0,0),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=m.newFloatArray(t.length));let e=this.uvs,i=this.uvs.length,n=this.region.u,s=this.region.v,r=0,a=0;if(this.region instanceof Jt){let o=this.region,h=o.page.texture.getImage(),l=h.width,u=h.height;switch(o.degrees){case 90:n-=(o.originalHeight-o.offsetY-o.height)/l,s-=(o.originalWidth-o.offsetX-o.width)/u,r=o.originalHeight/l,a=o.originalWidth/u;for(let o=0;o<i;o+=2)e[o]=n+t[o+1]*r,e[o+1]=s+(1-t[o])*a;return;case 180:n-=(o.originalWidth-o.offsetX-o.width)/l,s-=o.offsetY/u,r=o.originalWidth/l,a=o.originalHeight/u;for(let o=0;o<i;o+=2)e[o]=n+(1-t[o])*r,e[o+1]=s+(1-t[o+1])*a;return;case 270:n-=o.offsetY/l,s-=o.offsetX/u,r=o.originalHeight/l,a=o.originalWidth/u;for(let o=0;o<i;o+=2)e[o]=n+(1-t[o+1])*r,e[o+1]=s+t[o]*a;return}n-=o.offsetX/l,s-=(o.originalHeight-o.offsetY-o.height)/u,r=o.originalWidth/l,a=o.originalHeight/u}else this.region?(r=this.region.u2-n,a=this.region.v2-s):(n=s=0,r=a=1);for(let o=0;o<i;o+=2)e[o]=n+t[o]*r,e[o+1]=s+t[o+1]*a}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new te(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),m.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),m.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),m.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),m.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,e,i,n,s,r){null!=this.sequence&&this.sequence.apply(t,this),super.computeWorldVertices(t,e,i,n,s,r)}newLinkedMesh(){let t=new te(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t}},ee=class extends A{constructor(t){super(t),this.lengths=[],this.closed=!1,this.constantSpeed=!1,this.color=new h(1,1,1,1)}copy(){let t=new ee(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),m.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}},ie=class extends A{constructor(t){super(t),this.x=0,this.y=0,this.rotation=0,this.color=new h(.38,.94,0,1)}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(t){let e=u.cosDeg(this.rotation),i=u.sinDeg(this.rotation),n=e*t.a+i*t.b,s=e*t.c+i*t.d;return Math.atan2(s,n)*u.radDeg}copy(){let t=new ie(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}},ne=class extends b{constructor(t,e){super(t),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new h(1,1,1,1),this.rendererObject=null,this.region=null,this.sequence=null,this.offset=m.newFloatArray(8),this.uvs=m.newFloatArray(8),this.tempColor=new h(1,1,1,1),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);let i=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,s=-this.width/2*this.scaleX+this.region.offsetX*i,r=-this.height/2*this.scaleY+this.region.offsetY*n,a=s+this.region.width*i,o=r+this.region.height*n,h=this.rotation*Math.PI/180,l=Math.cos(h),u=Math.sin(h),c=this.x,f=this.y,d=s*l+c,p=s*u,m=r*l+f,g=r*u,x=a*l+c,y=a*u,v=o*l+f,w=o*u,b=this.offset;b[0]=d-g,b[1]=m+p,b[2]=d-w,b[3]=v+p,b[4]=x-w,b[5]=v+y,b[6]=x-g,b[7]=m+y,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,n){null!=this.sequence&&this.sequence.apply(t,this);let s=t.bone,r=this.offset,a=s.worldX,o=s.worldY,h=s.a,l=s.b,u=s.c,c=s.d,f=0,d=0;f=r[0],d=r[1],e[i]=f*h+d*l+a,e[i+1]=f*u+d*c+o,i+=n,f=r[2],d=r[3],e[i]=f*h+d*l+a,e[i+1]=f*u+d*c+o,i+=n,f=r[4],d=r[5],e[i]=f*h+d*l+a,e[i+1]=f*u+d*c+o,i+=n,f=r[6],d=r[7],e[i]=f*h+d*l+a,e[i+1]=f*u+d*c+o}copy(){let t=new ne(this.name,this.path);return t.region=this.region,t.rendererObject=this.rendererObject,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,m.arrayCopy(this.uvs,0,t.uvs,0,8),m.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}},se=ne;se.X1=0,se.Y1=1,se.C1R=2,se.C1G=3,se.C1B=4,se.C1A=5,se.U1=6,se.V1=7,se.X2=8,se.Y2=9,se.C2R=10,se.C2G=11,se.C2B=12,se.C2A=13,se.U2=14,se.V2=15,se.X3=16,se.Y3=17,se.C3R=18,se.C3G=19,se.C3B=20,se.C3A=21,se.U3=22,se.V3=23,se.X4=24,se.Y4=25,se.C4R=26,se.C4G=27,se.C4B=28,se.C4A=29,se.U4=30,se.V4=31;var re=class{constructor(t){this.atlas=t}loadSequence(t,e,i){let n=i.regions;for(let s=0,r=n.length;s<r;s++){let r=i.getPath(e,s),a=this.atlas.findRegion(r);if(null==a)throw new Error("Region not found in atlas: "+r+" (sequence: "+t+")");n[s]=a,n[s].renderObject=n[s]}}newRegionAttachment(t,e,i,n){let s=new se(e,i);if(null!=n)this.loadSequence(e,i,n);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (region attachment: "+e+")");t.renderObject=t,s.region=t}return s}newMeshAttachment(t,e,i,n){let s=new te(e,i);if(null!=n)this.loadSequence(e,i,n);else{let t=this.atlas.findRegion(i);if(!t)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+e+")");t.renderObject=t,s.region=t}return s}newBoundingBoxAttachment(t,e){return new Ut(e)}newPathAttachment(t,e){return new ee(e)}newPointAttachment(t,e){return new ie(e)}newClippingAttachment(t,e){return new qt(e)}},ae=class{constructor(t,e,i){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=oe.Normal,this.skinRequired=!1,this.color=new h,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=i}},oe=(t=>(t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection",t))(oe||{}),he=class{constructor(t,e,i){if(this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,i,n,s,r,a){this.ax=t,this.ay=e,this.arotation=i,this.ascaleX=n,this.ascaleY=s,this.ashearX=r,this.ashearY=a;let o=this.parent;if(!o){let o=this.skeleton,h=i+90+a,l=o.scaleX,c=o.scaleY;return this.a=u.cosDeg(i+r)*n*l,this.b=u.cosDeg(h)*s*l,this.c=u.sinDeg(i+r)*n*c,this.d=u.sinDeg(h)*s*c,this.worldX=t*l+o.x,void(this.worldY=e*c+o.y)}let h=o.a,l=o.b,c=o.c,f=o.d;switch(this.worldX=h*t+l*e+o.worldX,this.worldY=c*t+f*e+o.worldY,this.data.transformMode){case 0:{let t=i+90+a,e=u.cosDeg(i+r)*n,o=u.cosDeg(t)*s,d=u.sinDeg(i+r)*n,p=u.sinDeg(t)*s;return this.a=h*e+l*d,this.b=h*o+l*p,this.c=c*e+f*d,void(this.d=c*o+f*p)}case 1:{let t=i+90+a;this.a=u.cosDeg(i+r)*n,this.b=u.cosDeg(t)*s,this.c=u.sinDeg(i+r)*n,this.d=u.sinDeg(t)*s;break}case 2:{let t=h*h+c*c,e=0;t>1e-4?(t=Math.abs(h*f-l*c)/t,h/=this.skeleton.scaleX,c/=this.skeleton.scaleY,l=c*t,f=h*t,e=Math.atan2(c,h)*u.radDeg):(h=0,c=0,e=90-Math.atan2(f,l)*u.radDeg);let o=i+r-e,d=i+a-e+90,p=u.cosDeg(o)*n,m=u.cosDeg(d)*s,g=u.sinDeg(o)*n,x=u.sinDeg(d)*s;this.a=h*p-l*g,this.b=h*m-l*x,this.c=c*p+f*g,this.d=c*m+f*x;break}case 3:case 4:{let t=u.cosDeg(i),e=u.sinDeg(i),o=(h*t+l*e)/this.skeleton.scaleX,d=(c*t+f*e)/this.skeleton.scaleY,p=Math.sqrt(o*o+d*d);p>1e-5&&(p=1/p),o*=p,d*=p,p=Math.sqrt(o*o+d*d),3==this.data.transformMode&&h*f-l*c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p);let m=Math.PI/2+Math.atan2(d,o),g=Math.cos(m)*p,x=Math.sin(m)*p,y=u.cosDeg(r)*n,v=u.cosDeg(90+a)*s,w=u.sinDeg(r)*n,b=u.sinDeg(90+a)*s;this.a=o*y+g*w,this.b=o*v+g*b,this.c=d*y+x*w,this.d=d*v+x*b;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.c,this.a)*u.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*u.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}updateAppliedTransform(){let t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*u.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*u.radDeg);let e=t.a,i=t.b,n=t.c,s=t.d,r=1/(e*s-i*n),a=this.worldX-t.worldX,o=this.worldY-t.worldY;this.ax=a*s*r-o*i*r,this.ay=o*e*r-a*n*r;let h=r*s,l=r*e,c=r*i,f=r*n,d=h*this.a-c*this.c,p=h*this.b-c*this.d,m=l*this.c-f*this.a,g=l*this.d-f*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+m*m),this.ascaleX>1e-4){let t=d*g-p*m;this.ascaleY=t/this.ascaleX,this.ashearY=Math.atan2(d*p+m*g,t)*u.radDeg,this.arotation=Math.atan2(m,d)*u.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+g*g),this.ashearY=0,this.arotation=90-Math.atan2(g,p)*u.radDeg}worldToLocal(t){let e=1/(this.a*this.d-this.b*this.c),i=t.x-this.worldX,n=t.y-this.worldY;return t.x=i*this.d*e-n*this.b*e,t.y=n*this.a*e-i*this.c*e,t}localToWorld(t){let e=t.x,i=t.y;return t.x=e*this.a+i*this.b+this.worldX,t.y=e*this.c+i*this.d+this.worldY,t}worldToLocalRotation(t){let e=u.sinDeg(t),i=u.cosDeg(t);return Math.atan2(this.a*e-this.c*i,this.d*i-this.b*e)*u.radDeg+this.rotation-this.shearX}localToWorldRotation(t){t-=this.rotation-this.shearX;let e=u.sinDeg(t),i=u.cosDeg(t);return Math.atan2(i*this.c+e*this.d,i*this.a+e*this.b)*u.radDeg}rotateWorld(t){let e=this.a,i=this.b,n=this.c,s=this.d,r=u.cosDeg(t),a=u.sinDeg(t);this.a=r*e-a*n,this.b=r*i-a*s,this.c=a*e+r*n,this.d=a*i+r*s}},le=class{constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}},ue=class{constructor(t,e="",i=new ce){this.pathPrefix="",this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e,this.downloader=i}start(t){return this.toLoad++,this.pathPrefix+t}success(t,e,i){this.toLoad--,this.loaded++,this.assets[e]=i,t&&t(e,i)}error(t,e,i){this.toLoad--,this.loaded++,this.errors[e]=i,t&&t(e,i)}loadAll(){return new Promise((t,e)=>{let i=()=>{this.isLoadingComplete()?this.hasErrors()?e(this.errors):t(this):requestAnimationFrame(i)};requestAnimationFrame(i)})}setRawDataURI(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e}loadBinary(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadBinary(t,i=>{this.success(e,t,i)},(e,n)=>{this.error(i,t,`Couldn't load binary ${t}: status ${e}, ${n}`)})}loadText(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadText(t,i=>{this.success(e,t,i)},(e,n)=>{this.error(i,t,`Couldn't load text ${t}: status ${e}, ${n}`)})}loadJson(t,e=(()=>{}),i=(()=>{})){t=this.start(t),this.downloader.downloadJson(t,i=>{this.success(e,t,i)},(e,n)=>{this.error(i,t,`Couldn't load JSON ${t}: status ${e}, ${n}`)})}loadTexture(t,e=(()=>{}),i=(()=>{})){if(t=this.start(t),!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document))fetch(t,{mode:"cors"}).then(e=>e.ok?e.blob():(this.error(i,t,"Couldn't load image: "+t),null)).then(t=>t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null).then(i=>{i&&this.success(e,t,this.textureLoader(i))});else{let n=new Image;n.crossOrigin="anonymous",n.onload=()=>{this.success(e,t,this.textureLoader(n))},n.onerror=()=>{this.error(i,t,"Couldn't load image: "+t)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),n.src=t}}loadTextureAtlas(t,e=(()=>{}),i=(()=>{}),n){let s=t.lastIndexOf("/"),r=s>=0?t.substring(0,s+1):"";t=this.start(t),this.downloader.downloadText(t,s=>{try{let a=new $t(s),o=a.pages.length,h=!1;for(let s of a.pages)this.loadTexture(n?n[s.name]:r+s.name,(i,n)=>{h||(s.setTexture(n),0==--o&&this.success(e,t,a))},(e,n)=>{h||this.error(i,t,`Couldn't load texture atlas ${t} page image: ${e}`),h=!0})}catch(e){this.error(i,t,`Couldn't parse texture atlas ${t}: ${e.message}`)}},(e,n)=>{this.error(i,t,`Couldn't load texture atlas ${t}: status ${e}, ${n}`)})}get(t){return this.assets[this.pathPrefix+t]}require(t){t=this.pathPrefix+t;let e=this.assets[t];if(e)return e;let i=this.errors[t];throw Error("Asset not found: "+t+(i?"\n"+i:""))}remove(t){t=this.pathPrefix+t;let e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e}removeAll(){for(let t in this.assets){let e=this.assets[t];e.dispose&&e.dispose()}this.assets={}}isLoadingComplete(){return 0==this.toLoad}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}},ce=class{constructor(){this.callbacks={},this.rawDataUris={}}dataUriToString(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");return-1!=e?(e+="base64,".length,atob(t.substr(e))):t.substr(t.indexOf(",")+1)}base64ToUint8Array(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=e.charCodeAt(s);return n}dataUriToUint8Array(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+="base64,".length,this.base64ToUint8Array(t.substr(e))}downloadText(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.open("GET",t,!0);let s=()=>{this.finish(t,n.status,n.responseText)};n.onload=s,n.onerror=s,n.send()}downloadJson(t,e,i){this.downloadText(t,t=>{e(JSON.parse(t))},i)}downloadBinary(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer";let s=()=>{this.finish(t,n.status,n.response)};n.onload=()=>{200==n.status||0==n.status?this.finish(t,200,new Uint8Array(n.response)):s()},n.onerror=s,n.send()}start(t,e,i){let n=this.callbacks[t];try{if(n)return!0;this.callbacks[t]=n=[]}finally{n.push(e,i)}}finish(t,e,i){let n=this.callbacks[t];delete this.callbacks[t];let s=200==e||0==e?[i]:[e,i];for(let t=s.length-1,e=n.length;t<e;t+=2)n[t].apply(null,s)}},fe=class{constructor(t,e){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e}},de=class{constructor(t){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}},pe=class{constructor(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error("Couldn't find bone "+t.bones[i].name);this.bones.push(n)}let i=e.findBone(t.target.name);if(!i)throw new Error("Couldn't find bone "+t.target.name);this.target=i}isActive(){return this.active}update(){if(0==this.mix)return;let t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(t,e,i,n,s,r,a){let o=t.parent;if(!o)throw new Error("IK bone must have parent.");let h=o.a,l=o.b,c=o.c,f=o.d,d=-t.ashearX-t.arotation,p=0,m=0;switch(t.data.transformMode){case 1:p=e-t.worldX,m=i-t.worldY;break;case 2:let n=Math.abs(h*f-l*c)/(h*h+c*c),s=h/t.skeleton.scaleX,r=c/t.skeleton.scaleY;l=-r*n*t.skeleton.scaleX,f=s*n*t.skeleton.scaleY,d+=Math.atan2(r,s)*u.radDeg;default:let a=e-o.worldX,g=i-o.worldY,x=h*f-l*c;p=(a*f-g*l)/x-t.ax,m=(g*h-a*c)/x-t.ay}d+=Math.atan2(m,p)*u.radDeg,t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);let g=t.ascaleX,x=t.ascaleY;if(n||s){switch(t.data.transformMode){case 3:case 4:p=e-t.worldX,m=i-t.worldY}let o=t.data.length*g,h=Math.sqrt(p*p+m*m);if(n&&h<o||s&&h>o&&o>1e-4){let t=(h/o-1)*a+1;g*=t,r&&(x*=t)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*a,g,x,t.ashearX,t.ashearY)}apply2(t,e,i,n,s,r,a,o,h){let l=t.ax,c=t.ay,f=t.ascaleX,d=t.ascaleY,p=f,m=d,g=e.ascaleX,x=0,y=0,v=0;f<0?(f=-f,x=180,v=-1):(x=0,v=1),d<0&&(d=-d,v=-v),g<0?(g=-g,y=180):y=0;let w=e.ax,b=0,M=0,A=0,S=t.a,k=t.b,T=t.c,I=t.d,E=Math.abs(f-d)<=1e-4;!E||r?(b=0,M=S*w+t.worldX,A=T*w+t.worldY):(b=e.ay,M=S*w+k*b+t.worldX,A=T*w+I*b+t.worldY);let R=t.parent;if(!R)throw new Error("IK parent must itself have a parent.");S=R.a,k=R.b,T=R.c,I=R.d;let C,F,P=1/(S*I-k*T),Y=M-R.worldX,X=A-R.worldY,D=(Y*I-X*k)*P-l,O=(X*S-Y*T)*P-c,L=Math.sqrt(D*D+O*O),_=e.data.length*g;if(L<1e-4)return this.apply1(t,i,n,!1,r,!1,h),void e.updateWorldTransformWith(w,b,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);Y=i-R.worldX,X=n-R.worldY;let z=(Y*I-X*k)*P-l,B=(X*S-Y*T)*P-c,N=z*z+B*B;if(0!=o){o*=f*(g+1)*.5;let t=Math.sqrt(N),e=t-L-_*f+o;if(e>0){let i=Math.min(1,e/(2*o))-1;i=(e-o*(1-i*i))/t,z-=i*z,B-=i*B,N=z*z+B*B}}t:if(E){_*=f;let t=(N-L*L-_*_)/(2*L*_);t<-1?(t=-1,F=Math.PI*s):t>1?(t=1,F=0,r&&(S=(Math.sqrt(N)/(L+_)-1)*h+1,p*=S,a&&(m*=S))):F=Math.acos(t)*s,S=L+_*t,k=_*Math.sin(F),C=Math.atan2(B*S-z*k,z*S+B*k)}else{S=f*_,k=d*_;let t=S*S,e=k*k,i=Math.atan2(B,z);T=e*L*L+t*N-t*e;let n=-2*e*L,r=e-t;if(I=n*n-4*r*T,I>=0){let t=Math.sqrt(I);n<0&&(t=-t),t=.5*-(n+t);let e=t/r,a=T/t,o=Math.abs(e)<Math.abs(a)?e:a;if(o*o<=N){X=Math.sqrt(N-o*o)*s,C=i-Math.atan2(X,o),F=Math.atan2(X/d,(o-L)/f);break t}}let a=u.PI,o=L-S,h=o*o,l=0,c=0,p=L+S,m=p*p,g=0;T=-S*L/(t-e),T>=-1&&T<=1&&(T=Math.acos(T),Y=S*Math.cos(T)+L,X=k*Math.sin(T),I=Y*Y+X*X,I<h&&(a=T,h=I,o=Y,l=X),I>m&&(c=T,m=I,p=Y,g=X)),N<=.5*(h+m)?(C=i-Math.atan2(l*s,o),F=a*s):(C=i-Math.atan2(g*s,p),F=c*s)}let V=Math.atan2(b,w)*v,U=t.arotation;C=(C-V)*u.radDeg+x-U,C>180?C-=360:C<-180&&(C+=360),t.updateWorldTransformWith(l,c,U+C*h,p,m,0,0),U=e.arotation,F=((F+V)*u.radDeg-e.ashearX)*v+y-U,F>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(w,b,U+F*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},me=class extends le{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}},ge=class extends le{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.positionMode=xe.Fixed,this.spacingMode=ye.Fixed,this.rotateMode=ve.Chain,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}},xe=(t=>(t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent",t))(xe||{}),ye=(t=>(t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional",t))(ye||{}),ve=(t=>(t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale",t))(ve||{}),we=class{constructor(t,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,n=t.bones.length;i<n;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(n)}let i=e.findSlot(t.target.name);if(!i)throw new Error("Couldn't find target bone "+t.target.name);this.target=i,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}update(){let t=this.target.getAttachment();if(!(t instanceof ee))return;let e=this.mixRotate,i=this.mixX,n=this.mixY;if(0==e&&0==i&&0==n)return;let s=this.data,r=0==s.rotateMode,a=2==s.rotateMode,o=this.bones,h=o.length,l=r?h:h+1,c=m.setArraySize(this.spaces,l),f=a?this.lengths=m.setArraySize(this.lengths,h):[],d=this.spacing;switch(s.spacingMode){case 2:if(a)for(let t=0,e=l-1;t<e;t++){let e=o[t],i=e.data.length;if(i<we.epsilon)f[t]=0;else{let n=i*e.a,s=i*e.c;f[t]=Math.sqrt(n*n+s*s)}}m.arrayFill(c,1,l,d);break;case 3:let t=0;for(let e=0,i=l-1;e<i;){let i=o[e],n=i.data.length;if(n<we.epsilon)a&&(f[e]=0),c[++e]=d;else{let s=n*i.a,r=n*i.c,o=Math.sqrt(s*s+r*r);a&&(f[e]=o),c[++e]=o,t+=o}}if(t>0){t=l/t*d;for(let e=1;e<l;e++)c[e]*=t}break;default:let e=0==s.spacingMode;for(let t=0,i=l-1;t<i;){let i=o[t],n=i.data.length;if(n<we.epsilon)a&&(f[t]=0),c[++t]=d;else{let s=n*i.a,r=n*i.c,o=Math.sqrt(s*s+r*r);a&&(f[t]=o),c[++t]=(e?n+d:d)*o/n}}}let p=this.computeWorldPositions(t,l,r),g=p[0],x=p[1],y=s.offsetRotation,v=!1;if(0==y)v=1==s.rotateMode;else{v=!1;let t=this.target.bone;y*=t.a*t.d-t.b*t.c>0?u.degRad:-u.degRad}for(let t=0,s=3;t<h;t++,s+=3){let h=o[t];h.worldX+=(g-h.worldX)*i,h.worldY+=(x-h.worldY)*n;let l=p[s],d=p[s+1],m=l-g,w=d-x;if(a){let i=f[t];if(0!=i){let t=(Math.sqrt(m*m+w*w)/i-1)*e+1;h.a*=t,h.c*=t}}if(g=l,x=d,e>0){let i=h.a,n=h.b,a=h.c,o=h.d,l=0,f=0,d=0;if(l=r?p[s-1]:0==c[t+1]?p[s+2]:Math.atan2(w,m),l-=Math.atan2(a,i),v){f=Math.cos(l),d=Math.sin(l);let t=h.data.length;g+=(t*(f*i-d*a)-m)*e,x+=(t*(d*i+f*a)-w)*e}else l+=y;l>u.PI?l-=u.PI2:l<-u.PI&&(l+=u.PI2),l*=e,f=Math.cos(l),d=Math.sin(l),h.a=f*i-d*a,h.b=f*n-d*o,h.c=d*i+f*a,h.d=d*n+f*o}h.updateAppliedTransform()}}computeWorldPositions(t,e,i){let n=this.target,s=this.position,r=this.spaces,a=m.setArraySize(this.positions,3*e+2),o=this.world,h=t.closed,l=t.worldVerticesLength,u=l/6,c=we.NONE;if(!t.constantSpeed){let f=t.lengths;u-=h?1:2;let d,p=f[u];switch(1==this.data.positionMode&&(s*=p),this.data.spacingMode){case 2:d=p;break;case 3:d=p/e;break;default:d=1}o=m.setArraySize(this.world,8);for(let m=0,g=0,x=0;m<e;m++,g+=3){let e=r[m]*d;s+=e;let y=s;if(h)y%=p,y<0&&(y+=p),x=0;else{if(y<0){c!=we.BEFORE&&(c=we.BEFORE,t.computeWorldVertices(n,2,4,o,0,2)),this.addBeforePosition(y,o,0,a,g);continue}if(y>p){c!=we.AFTER&&(c=we.AFTER,t.computeWorldVertices(n,l-6,4,o,0,2)),this.addAfterPosition(y-p,o,0,a,g);continue}}for(;;x++){let t=f[x];if(!(y>t)){if(0==x)y/=t;else{let e=f[x-1];y=(y-e)/(t-e)}break}}x!=c&&(c=x,h&&x==u?(t.computeWorldVertices(n,l-4,4,o,0,2),t.computeWorldVertices(n,0,4,o,4,2)):t.computeWorldVertices(n,6*x+2,8,o,0,2)),this.addCurvePosition(y,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],a,g,i||m>0&&0==e)}return a}h?(l+=2,o=m.setArraySize(this.world,l),t.computeWorldVertices(n,2,l-4,o,0,2),t.computeWorldVertices(n,0,2,o,l-4,2),o[l-2]=o[0],o[l-1]=o[1]):(u--,l-=4,o=m.setArraySize(this.world,l),t.computeWorldVertices(n,2,l,o,0,2));let f,d=m.setArraySize(this.curves,u),p=0,g=o[0],x=o[1],y=0,v=0,w=0,b=0,M=0,A=0,S=0,k=0,T=0,I=0,E=0,R=0,C=0,F=0;for(let t=0,e=2;t<u;t++,e+=6)y=o[e],v=o[e+1],w=o[e+2],b=o[e+3],M=o[e+4],A=o[e+5],S=.1875*(g-2*y+w),k=.1875*(x-2*v+b),T=.09375*(3*(y-w)-g+M),I=.09375*(3*(v-b)-x+A),E=2*S+T,R=2*k+I,C=.75*(y-g)+S+.16666667*T,F=.75*(v-x)+k+.16666667*I,p+=Math.sqrt(C*C+F*F),C+=E,F+=R,E+=T,R+=I,p+=Math.sqrt(C*C+F*F),C+=E,F+=R,p+=Math.sqrt(C*C+F*F),C+=E+T,F+=R+I,p+=Math.sqrt(C*C+F*F),d[t]=p,g=M,x=A;switch(1==this.data.positionMode&&(s*=p),this.data.spacingMode){case 2:f=p;break;case 3:f=p/e;break;default:f=1}let P=this.segments,Y=0;for(let t=0,n=0,u=0,m=0;t<e;t++,n+=3){let e=r[t]*f;s+=e;let X=s;if(h)X%=p,X<0&&(X+=p),u=0;else{if(X<0){this.addBeforePosition(X,o,0,a,n);continue}if(X>p){this.addAfterPosition(X-p,o,l-4,a,n);continue}}for(;;u++){let t=d[u];if(!(X>t)){if(0==u)X/=t;else{let e=d[u-1];X=(X-e)/(t-e)}break}}if(u!=c){c=u;let t=6*u;for(g=o[t],x=o[t+1],y=o[t+2],v=o[t+3],w=o[t+4],b=o[t+5],M=o[t+6],A=o[t+7],S=.03*(g-2*y+w),k=.03*(x-2*v+b),T=.006*(3*(y-w)-g+M),I=.006*(3*(v-b)-x+A),E=2*S+T,R=2*k+I,C=.3*(y-g)+S+.16666667*T,F=.3*(v-x)+k+.16666667*I,Y=Math.sqrt(C*C+F*F),P[0]=Y,t=1;t<8;t++)C+=E,F+=R,E+=T,R+=I,Y+=Math.sqrt(C*C+F*F),P[t]=Y;C+=E,F+=R,Y+=Math.sqrt(C*C+F*F),P[8]=Y,C+=E+T,F+=R+I,Y+=Math.sqrt(C*C+F*F),P[9]=Y,m=0}for(X*=Y;;m++){let t=P[m];if(!(X>t)){if(0==m)X/=t;else{let e=P[m-1];X=m+(X-e)/(t-e)}break}}this.addCurvePosition(.1*X,g,x,y,v,w,b,M,A,a,n,i||t>0&&0==e)}return a}addBeforePosition(t,e,i,n,s){let r=e[i],a=e[i+1],o=e[i+2]-r,h=e[i+3]-a,l=Math.atan2(h,o);n[s]=r+t*Math.cos(l),n[s+1]=a+t*Math.sin(l),n[s+2]=l}addAfterPosition(t,e,i,n,s){let r=e[i+2],a=e[i+3],o=r-e[i],h=a-e[i+1],l=Math.atan2(h,o);n[s]=r+t*Math.cos(l),n[s+1]=a+t*Math.sin(l),n[s+2]=l}addCurvePosition(t,e,i,n,s,r,a,o,h,l,u,c){if(0==t||isNaN(t))return l[u]=e,l[u+1]=i,void(l[u+2]=Math.atan2(s-i,n-e));let f=t*t,d=f*t,p=1-t,m=p*p,g=m*p,x=p*t,y=3*x,v=p*y,w=y*t,b=e*g+n*v+r*w+o*d,M=i*g+s*v+a*w+h*d;l[u]=b,l[u+1]=M,c&&(l[u+2]=t<.001?Math.atan2(s-i,n-e):Math.atan2(M-(i*m+s*x*2+a*f),b-(e*m+n*x*2+r*f)))}},be=we;be.NONE=-1,be.BEFORE=-2,be.AFTER=-3,be.epsilon=1e-5;var Me=class{constructor(t,e){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new h,this.darkColor=t.darkColor?new h:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(t instanceof A&&this.attachment instanceof A&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}},Ae=class{constructor(t,e){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new y,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(let i=0;i<t.bones.length;i++){let n=e.findBone(t.bones[i].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[i].name}.`);this.bones.push(n)}let i=e.findBone(t.target.name);if(!i)throw new Error(`Couldn't find target bone ${t.target.name}.`);this.target=i}isActive(){return this.active}update(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=0!=e||0!=i,o=this.target,h=o.a,l=o.b,c=o.c,f=o.d,d=h*f-l*c>0?u.degRad:-u.degRad,p=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones;for(let d=0,x=g.length;d<x;d++){let x=g[d];if(0!=t){let e=x.a,i=x.b,n=x.c,s=x.d,r=Math.atan2(c,h)-Math.atan2(n,e)+p;r>u.PI?r-=u.PI2:r<-u.PI&&(r+=u.PI2),r*=t;let a=Math.cos(r),o=Math.sin(r);x.a=a*e-o*n,x.b=a*i-o*s,x.c=o*e+a*n,x.d=o*i+a*s}if(a){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(t.x-x.worldX)*e,x.worldY+=(t.y-x.worldY)*i}if(0!=n){let t=Math.sqrt(x.a*x.a+x.c*x.c);0!=t&&(t=(t+(Math.sqrt(h*h+c*c)-t+this.data.offsetScaleX)*n)/t),x.a*=t,x.c*=t}if(0!=s){let t=Math.sqrt(x.b*x.b+x.d*x.d);0!=t&&(t=(t+(Math.sqrt(l*l+f*f)-t+this.data.offsetScaleY)*s)/t),x.b*=t,x.d*=t}if(r>0){let t=x.b,e=x.d,i=Math.atan2(e,t),n=Math.atan2(f,l)-Math.atan2(c,h)-(i-Math.atan2(x.c,x.a));n>u.PI?n-=u.PI2:n<-u.PI&&(n+=u.PI2),n=i+(n+m)*r;let s=Math.sqrt(t*t+e*e);x.b=Math.cos(n)*s,x.d=Math.sin(n)*s}x.updateAppliedTransform()}}applyRelativeWorld(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=0!=e||0!=i,o=this.target,h=o.a,l=o.b,c=o.c,f=o.d,d=h*f-l*c>0?u.degRad:-u.degRad,p=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones;for(let d=0,x=g.length;d<x;d++){let x=g[d];if(0!=t){let e=x.a,i=x.b,n=x.c,s=x.d,r=Math.atan2(c,h)+p;r>u.PI?r-=u.PI2:r<-u.PI&&(r+=u.PI2),r*=t;let a=Math.cos(r),o=Math.sin(r);x.a=a*e-o*n,x.b=a*i-o*s,x.c=o*e+a*n,x.d=o*i+a*s}if(a){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=t.x*e,x.worldY+=t.y*i}if(0!=n){let t=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleX)*n+1;x.a*=t,x.c*=t}if(0!=s){let t=(Math.sqrt(l*l+f*f)-1+this.data.offsetScaleY)*s+1;x.b*=t,x.d*=t}if(r>0){let t=Math.atan2(f,l)-Math.atan2(c,h);t>u.PI?t-=u.PI2:t<-u.PI&&(t+=u.PI2);let e=x.b,i=x.d;t=Math.atan2(i,e)+(t-u.PI/2+m)*r;let n=Math.sqrt(e*e+i*i);x.b=Math.cos(t)*n,x.d=Math.sin(t)*n}x.updateAppliedTransform()}}applyAbsoluteLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let h=0,l=o.length;h<l;h++){let l=o[h],u=l.arotation;if(0!=t){let e=a.arotation-u+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),u+=e*t}let c=l.ax,f=l.ay;c+=(a.ax-c+this.data.offsetX)*e,f+=(a.ay-f+this.data.offsetY)*i;let d=l.ascaleX,p=l.ascaleY;0!=n&&0!=d&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),0!=s&&0!=p&&(p=(p+(a.ascaleY-p+this.data.offsetScaleY)*s)/p);let m=l.ashearY;if(0!=r){let t=a.ashearY-m+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),m+=t*r}l.updateWorldTransformWith(c,f,u,d,p,l.ashearX,m)}}applyRelativeLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,n=this.mixScaleX,s=this.mixScaleY,r=this.mixShearY,a=this.target,o=this.bones;for(let h=0,l=o.length;h<l;h++){let l=o[h],u=l.arotation+(a.arotation+this.data.offsetRotation)*t,c=l.ax+(a.ax+this.data.offsetX)*e,f=l.ay+(a.ay+this.data.offsetY)*i,d=l.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*n+1),p=l.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*s+1),m=l.ashearY+(a.ashearY+this.data.offsetShearY)*r;l.updateWorldTransformWith(c,f,u,d,p,l.ashearX,m)}}},Se=class{constructor(t){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this._scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){let i,n=t.bones[e];if(n.parent){let t=this.bones[n.parent.index];i=new he(n,this,t),t.children.push(i)}else i=new he(n,this,null);this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){let i=t.slots[e],n=this.bones[i.boneData.index],s=new Me(i,n);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){let i=t.ikConstraints[e];this.ikConstraints.push(new pe(i,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){let i=t.transformConstraints[e];this.transformConstraints.push(new Ae(i,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){let i=t.pathConstraints[e];this.pathConstraints.push(new be(i,this))}this.color=new h(1,1,1,1),this.updateCache()}get scaleY(){return Se.yDown?-this._scaleY:this._scaleY}set scaleY(t){this._scaleY=t}updateCache(){this._updateCache.length=0;let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){let t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}let e=this.ikConstraints,i=this.transformConstraints,n=this.pathConstraints,s=e.length,r=i.length,a=n.length,o=s+r+a;t:for(let t=0;t<o;t++){for(let i=0;i<s;i++){let n=e[i];if(n.data.order==t){this.sortIkConstraint(n);continue t}}for(let e=0;e<r;e++){let n=i[e];if(n.data.order==t){this.sortTransformConstraint(n);continue t}}for(let e=0;e<a;e++){let i=n[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&m.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target;this.sortBone(e);let i=t.bones,n=i[0];if(this.sortBone(n),1==i.length)this._updateCache.push(t),this.sortReset(n.children);else{let e=i[i.length-1];this.sortBone(e),this._updateCache.push(t),this.sortReset(n.children),e.sorted=!0}}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&m.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target,i=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,i,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,n);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],i,n);let s=e.getAttachment();s instanceof ee&&this.sortPathConstraintAttachmentWith(s,n);let r=t.bones,a=r.length;for(let t=0;t<a;t++)this.sortBone(r[t]);this._updateCache.push(t);for(let t=0;t<a;t++)this.sortReset(r[t].children);for(let t=0;t<a;t++)r[t].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&m.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);let e=t.bones,i=e.length;if(t.data.local)for(let t=0;t<i;t++){let i=e[t];this.sortBone(i.parent),this.sortBone(i)}else for(let t=0;t<i;t++)this.sortBone(e[t]);this._updateCache.push(t);for(let t=0;t<i;t++)this.sortReset(e[t].children);for(let t=0;t<i;t++)e[t].sorted=!0}sortPathConstraintAttachment(t,e,i){let n=t.attachments[e];if(n)for(let t in n)this.sortPathConstraintAttachmentWith(n[t],i)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof ee))return;let i=t.bones;if(i){let t=this.bones;for(let e=0,n=i.length;e<n;){let n=i[e++];for(n+=e;e<n;)this.sortBone(t[i[e++]])}}else this.sortBone(e)}sortBone(t){if(!t)return;if(t.sorted)return;let e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){let i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(){let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}let e=this._updateCache;for(let t=0,i=e.length;t<i;t++)e[t].update()}updateWorldTransformWith(t){let e=this.getRootBone();if(!e)throw new Error("Root bone must not be null.");let i=t.a,n=t.b,s=t.c,r=t.d;e.worldX=i*this.x+n*this.y+t.worldX,e.worldY=s*this.x+r*this.y+t.worldY;let a=e.rotation+90+e.shearY,o=u.cosDeg(e.rotation+e.shearX)*e.scaleX,h=u.cosDeg(a)*e.scaleY,l=u.sinDeg(e.rotation+e.shearX)*e.scaleX,c=u.sinDeg(a)*e.scaleY;e.a=(i*o+n*l)*this.scaleX,e.b=(i*h+n*c)*this.scaleX,e.c=(s*o+r*l)*this.scaleY,e.d=(s*h+r*c)*this.scaleY;let f=this._updateCache;for(let t=0,i=f.length;t<i;t++){let i=f[t];i!=e&&i.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose();let e=this.ikConstraints;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}let i=this.transformConstraints;for(let t=0,e=i.length;t<e;t++){let e=i[t],n=e.data;e.mixRotate=n.mixRotate,e.mixX=n.mixX,e.mixY=n.mixY,e.mixScaleX=n.mixScaleX,e.mixScaleY=n.mixScaleY,e.mixShearY=n.mixShearY}let n=this.pathConstraints;for(let t=0,e=n.length;t<e;t++){let e=n[t],i=e.data;e.position=i.position,e.spacing=i.spacing,e.mixRotate=i.mixRotate,e.mixX=i.mixX,e.mixY=i.mixY}}setSlotsToSetupPose(){let t=this.slots;m.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}setSkinByName(t){let e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i],s=n.data.attachmentName;if(s){let e=t.getAttachment(i,s);e&&n.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){let i=this.data.findSlot(t);if(!i)throw new Error("Can't find slot with name "+t);return this.getAttachment(i.index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");let i=this.slots;for(let n=0,s=i.length;n<s;n++){let s=i[n];if(s.data.name==t){let i=null;if(e&&(i=this.getAttachment(n,e),!i))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(i)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.data.name==t)return n}return null}getBoundsRect(){let t=new y,e=new y;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}}getBounds(t,e,i=new Array(2)){if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");let n=this.drawOrder,s=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let t=0,e=n.length;t<e;t++){let e=n[t];if(!e.bone.active)continue;let h=0,l=null,u=e.getAttachment();if(u instanceof se)h=8,l=m.setArraySize(i,h,0),u.computeWorldVertices(e,l,0,2);else if(u instanceof te){let t=u;h=t.worldVerticesLength,l=m.setArraySize(i,h,0),t.computeWorldVertices(e,0,h,l,0,2)}if(l)for(let t=0,e=l.length;t<e;t+=2){let e=l[t],i=l[t+1];s=Math.min(s,e),r=Math.min(r,i),a=Math.max(a,e),o=Math.max(o,i)}}t.set(s,r),e.set(a-s,o-r)}},ke=Se;ke.yDown=!1;var Te=class{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findSkin(t){if(!t)throw new Error("skinName cannot be null.");let e=this.skins;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");let e=this.animations;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.name==t)return n}return null}},Ie=class{constructor(t=0,e,i){this.slotIndex=t,this.name=e,this.attachment=i}},Ee=class{constructor(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(!i)throw new Error("attachment cannot be null.");let n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){n=!0;break}n||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){n=!0;break}n||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){n=!0;break}n||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){n=!0;break}n||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];i.attachment&&(i.attachment instanceof te?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(t,e){let i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){let i=this.attachments[t];i&&delete i[e]}getAttachments(){let t=new Array;for(var e=0;e<this.attachments.length;e++){let i=this.attachments[e];if(i)for(let n in i){let s=i[n];s&&t.push(new Ie(e,n,s))}}return t}getAttachmentsForSlot(t,e){let i=this.attachments[t];if(i)for(let n in i){let s=i[n];s&&e.push(new Ie(t,n,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let n=0;n<t.slots.length;n++){let s=t.slots[n],r=s.getAttachment();if(r&&i<e.attachments.length){let t=e.attachments[i];for(let e in t){if(r==t[e]){let t=this.getAttachment(i,e);t&&s.setAttachment(t);break}}}i++}}},Re=class{constructor(t,e,i){if(this.index=0,this.color=new h(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=Ce.Normal,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=i}},Ce=(t=>(t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen",t))(Ce||{}),Fe=class extends le{constructor(t){super(t,0,!1),this.bones=new Array,this._target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}},Pe=class{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,i=new Te;i.name="";let n=new Ye(t),s=n.readInt32(),r=n.readInt32();i.hash=0==r&&0==s?null:r.toString(16)+s.toString(16),i.version=n.readString(),i.x=n.readFloat(),i.y=n.readFloat(),i.width=n.readFloat(),i.height=n.readFloat();let a=n.readBoolean();a&&(i.fps=n.readFloat(),i.imagesPath=n.readString(),i.audioPath=n.readString());let o=0;o=n.readInt(!0);for(let t=0;t<o;t++){let t=n.readString();if(!t)throw new Error("String in string table must not be null.");n.strings.push(t)}o=n.readInt(!0);for(let t=0;t<o;t++){let s=n.readString();if(!s)throw new Error("Bone name must not be null.");let r=0==t?null:i.bones[n.readInt(!0)],o=new ae(t,s,r);o.rotation=n.readFloat(),o.x=n.readFloat()*e,o.y=n.readFloat()*e,o.scaleX=n.readFloat(),o.scaleY=n.readFloat(),o.shearX=n.readFloat(),o.shearY=n.readFloat(),o.length=n.readFloat()*e,o.transformMode=n.readInt(!0),o.skinRequired=n.readBoolean(),a&&h.rgba8888ToColor(o.color,n.readInt32()),i.bones.push(o)}o=n.readInt(!0);for(let t=0;t<o;t++){let e=n.readString();if(!e)throw new Error("Slot name must not be null.");let s=i.bones[n.readInt(!0)],r=new Re(t,e,s);h.rgba8888ToColor(r.color,n.readInt32());let a=n.readInt32();-1!=a&&h.rgb888ToColor(r.darkColor=new h,a),r.attachmentName=n.readStringRef(),r.blendMode=n.readInt(!0),i.slots.push(r)}o=n.readInt(!0);for(let t,s=0;s<o;s++){let s=n.readString();if(!s)throw new Error("IK constraint data name must not be null.");let r=new me(s);r.order=n.readInt(!0),r.skinRequired=n.readBoolean(),t=n.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[n.readInt(!0)]);r.target=i.bones[n.readInt(!0)],r.mix=n.readFloat(),r.softness=n.readFloat()*e,r.bendDirection=n.readByte(),r.compress=n.readBoolean(),r.stretch=n.readBoolean(),r.uniform=n.readBoolean(),i.ikConstraints.push(r)}o=n.readInt(!0);for(let t,s=0;s<o;s++){let s=n.readString();if(!s)throw new Error("Transform constraint data name must not be null.");let r=new Fe(s);r.order=n.readInt(!0),r.skinRequired=n.readBoolean(),t=n.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[n.readInt(!0)]);r.target=i.bones[n.readInt(!0)],r.local=n.readBoolean(),r.relative=n.readBoolean(),r.offsetRotation=n.readFloat(),r.offsetX=n.readFloat()*e,r.offsetY=n.readFloat()*e,r.offsetScaleX=n.readFloat(),r.offsetScaleY=n.readFloat(),r.offsetShearY=n.readFloat(),r.mixRotate=n.readFloat(),r.mixX=n.readFloat(),r.mixY=n.readFloat(),r.mixScaleX=n.readFloat(),r.mixScaleY=n.readFloat(),r.mixShearY=n.readFloat(),i.transformConstraints.push(r)}o=n.readInt(!0);for(let t,s=0;s<o;s++){let s=n.readString();if(!s)throw new Error("Path constraint data name must not be null.");let r=new ge(s);r.order=n.readInt(!0),r.skinRequired=n.readBoolean(),t=n.readInt(!0);for(let e=0;e<t;e++)r.bones.push(i.bones[n.readInt(!0)]);r.target=i.slots[n.readInt(!0)],r.positionMode=n.readInt(!0),r.spacingMode=n.readInt(!0),r.rotateMode=n.readInt(!0),r.offsetRotation=n.readFloat(),r.position=n.readFloat(),0==r.positionMode&&(r.position*=e),r.spacing=n.readFloat(),0!=r.spacingMode&&1!=r.spacingMode||(r.spacing*=e),r.mixRotate=n.readFloat(),r.mixX=n.readFloat(),r.mixY=n.readFloat(),i.pathConstraints.push(r)}let l=this.readSkin(n,i,!0,a);l&&(i.defaultSkin=l,i.skins.push(l));{let t=i.skins.length;for(m.setArraySize(i.skins,o=t+n.readInt(!0));t<o;t++){let e=this.readSkin(n,i,!1,a);if(!e)throw new Error("readSkin() should not have returned null.");i.skins[t]=e}}o=this.linkedMeshes.length;for(let t=0;t<o;t++){let e=this.linkedMeshes[t],n=e.skin?i.findSkin(e.skin):i.defaultSkin;if(!n)throw new Error("Not skin found for linked mesh.");if(!e.parent)throw new Error("Linked mesh parent must not be null");let s=n.getAttachment(e.slotIndex,e.parent);if(!s)throw new Error("Parent mesh not found: "+e.parent);e.mesh.timelineAttachment=e.inheritTimeline?s:e.mesh,e.mesh.setParentMesh(s),null!=e.mesh.region&&e.mesh.updateRegion()}this.linkedMeshes.length=0,o=n.readInt(!0);for(let t=0;t<o;t++){let t=n.readStringRef();if(!t)throw new Error;let e=new de(t);e.intValue=n.readInt(!1),e.floatValue=n.readFloat(),e.stringValue=n.readString(),e.audioPath=n.readString(),e.audioPath&&(e.volume=n.readFloat(),e.balance=n.readFloat()),i.events.push(e)}o=n.readInt(!0);for(let t=0;t<o;t++){let t=n.readString();if(!t)throw new Error("Animatio name must not be null.");i.animations.push(this.readAnimation(n,t,i))}return i}readSkin(t,e,i,n){let s=null,r=0;if(i){if(r=t.readInt(!0),0==r)return null;s=new Ee("default")}else{let i=t.readStringRef();if(!i)throw new Error("Skin name must not be null.");s=new Ee(i),s.bones.length=t.readInt(!0);for(let i=0,n=s.bones.length;i<n;i++)s.bones[i]=e.bones[t.readInt(!0)];for(let i=0,n=t.readInt(!0);i<n;i++)s.constraints.push(e.ikConstraints[t.readInt(!0)]);for(let i=0,n=t.readInt(!0);i<n;i++)s.constraints.push(e.transformConstraints[t.readInt(!0)]);for(let i=0,n=t.readInt(!0);i<n;i++)s.constraints.push(e.pathConstraints[t.readInt(!0)]);r=t.readInt(!0)}for(let i=0;i<r;i++){let i=t.readInt(!0);for(let r=0,a=t.readInt(!0);r<a;r++){let r=t.readStringRef();if(!r)throw new Error("Attachment name must not be null");let a=this.readAttachment(t,e,s,i,r,n);a&&s.setAttachment(i,r,a)}}return s}readAttachment(t,e,i,n,s,r){let a=this.scale,o=t.readStringRef();switch(o||(o=s),t.readByte()){case Oe.Region:{let e=t.readStringRef(),n=t.readFloat(),s=t.readFloat(),r=t.readFloat(),l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),f=t.readFloat(),d=t.readInt32(),p=this.readSequence(t);e||(e=o);let m=this.attachmentLoader.newRegionAttachment(i,o,e,p);return m?(m.path=e,m.x=s*a,m.y=r*a,m.scaleX=l,m.scaleY=u,m.rotation=n,m.width=c*a,m.height=f*a,h.rgba8888ToColor(m.color,d),m.sequence=p,null==p&&m.updateRegion(),m):null}case Oe.BoundingBox:{let e=t.readInt(!0),n=this.readVertices(t,e),s=r?t.readInt32():0,a=this.attachmentLoader.newBoundingBoxAttachment(i,o);return a?(a.worldVerticesLength=e<<1,a.vertices=n.vertices,a.bones=n.bones,r&&h.rgba8888ToColor(a.color,s),a):null}case Oe.Mesh:{let e=t.readStringRef(),n=t.readInt32(),s=t.readInt(!0),l=this.readFloatArray(t,s<<1,1),u=this.readShortArray(t),c=this.readVertices(t,s),f=t.readInt(!0),d=this.readSequence(t),p=[],m=0,g=0;r&&(p=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),e||(e=o);let x=this.attachmentLoader.newMeshAttachment(i,o,e,d);return x?(x.path=e,h.rgba8888ToColor(x.color,n),x.bones=c.bones,x.vertices=c.vertices,x.worldVerticesLength=s<<1,x.triangles=u,x.regionUVs=l,null==d&&x.updateRegion(),x.hullLength=f<<1,x.sequence=d,r&&(x.edges=p,x.width=m*a,x.height=g*a),x):null}case Oe.LinkedMesh:{let e=t.readStringRef(),s=t.readInt32(),l=t.readStringRef(),u=t.readStringRef(),c=t.readBoolean(),f=this.readSequence(t),d=0,p=0;r&&(d=t.readFloat(),p=t.readFloat()),e||(e=o);let m=this.attachmentLoader.newMeshAttachment(i,o,e,f);return m?(m.path=e,h.rgba8888ToColor(m.color,s),m.sequence=f,r&&(m.width=d*a,m.height=p*a),this.linkedMeshes.push(new Xe(m,l,n,u,c)),m):null}case Oe.Path:{let e=t.readBoolean(),n=t.readBoolean(),s=t.readInt(!0),l=this.readVertices(t,s),u=m.newArray(s/3,0);for(let e=0,i=u.length;e<i;e++)u[e]=t.readFloat()*a;let c=r?t.readInt32():0,f=this.attachmentLoader.newPathAttachment(i,o);return f?(f.closed=e,f.constantSpeed=n,f.worldVerticesLength=s<<1,f.vertices=l.vertices,f.bones=l.bones,f.lengths=u,r&&h.rgba8888ToColor(f.color,c),f):null}case Oe.Point:{let e=t.readFloat(),n=t.readFloat(),s=t.readFloat(),l=r?t.readInt32():0,u=this.attachmentLoader.newPointAttachment(i,o);return u?(u.x=n*a,u.y=s*a,u.rotation=e,r&&h.rgba8888ToColor(u.color,l),u):null}case Oe.Clipping:{let n=t.readInt(!0),s=t.readInt(!0),a=this.readVertices(t,s),l=r?t.readInt32():0,u=this.attachmentLoader.newClippingAttachment(i,o);return u?(u.endSlot=e.slots[n],u.worldVerticesLength=s<<1,u.vertices=a.vertices,u.bones=a.bones,r&&h.rgba8888ToColor(u.color,l),u):null}}return null}readSequence(t){if(!t.readBoolean())return null;let e=new k(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e}readVertices(t,e){let i=this.scale,n=e<<1,s=new De;if(!t.readBoolean())return s.vertices=this.readFloatArray(t,n,i),s;let r=new Array,a=new Array;for(let n=0;n<e;n++){let e=t.readInt(!0);a.push(e);for(let n=0;n<e;n++)a.push(t.readInt(!0)),r.push(t.readFloat()*i),r.push(t.readFloat()*i),r.push(t.readFloat())}return s.vertices=m.toFloatArray(r),s.bones=a,s}readFloatArray(t,e,i){let n=new Array(e);if(1==i)for(let i=0;i<e;i++)n[i]=t.readFloat();else for(let s=0;s<e;s++)n[s]=t.readFloat()*i;return n}readShortArray(t){let e=t.readInt(!0),i=new Array(e);for(let n=0;n<e;n++)i[n]=t.readShort();return i}readAnimation(t,e,i){t.readInt(!0);let n=new Array,s=this.scale;new h,new h;for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0);for(let i=0,s=t.readInt(!0);i<s;i++){let i=t.readByte(),s=t.readInt(!0),r=s-1;switch(i){case Ze:{let i=new gt(s,e);for(let e=0;e<s;e++)i.setFrame(e,t.readFloat(),t.readStringRef());n.push(i);break}case Qe:{let i=t.readInt(!0),a=new ct(s,i,e),o=t.readFloat(),h=t.readUnsignedByte()/255,l=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255;for(let e=0,i=0;a.setFrame(e,o,h,l,u,c),e!=r;e++){let n=t.readFloat(),s=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255;switch(t.readByte()){case hi:a.setStepped(e);break;case li:ze(t,a,i++,e,0,o,n,h,s,1),ze(t,a,i++,e,1,o,n,l,r,1),ze(t,a,i++,e,2,o,n,u,f,1),ze(t,a,i++,e,3,o,n,c,d,1)}o=n,h=s,l=r,u=f,c=d}n.push(a);break}case Je:{let i=t.readInt(!0),a=new ft(s,i,e),o=t.readFloat(),h=t.readUnsignedByte()/255,l=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255;for(let e=0,i=0;a.setFrame(e,o,h,l,u),e!=r;e++){let n=t.readFloat(),s=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255;switch(t.readByte()){case hi:a.setStepped(e);break;case li:ze(t,a,i++,e,0,o,n,h,s,1),ze(t,a,i++,e,1,o,n,l,r,1),ze(t,a,i++,e,2,o,n,u,c,1)}o=n,h=s,l=r,u=c}n.push(a);break}case ti:{let i=t.readInt(!0),a=new pt(s,i,e),o=t.readFloat(),h=t.readUnsignedByte()/255,l=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;for(let e=0,i=0;a.setFrame(e,o,h,l,u,c,f,d,p),e!=r;e++){let n=t.readFloat(),s=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,v=t.readUnsignedByte()/255;switch(t.readByte()){case hi:a.setStepped(e);break;case li:ze(t,a,i++,e,0,o,n,h,s,1),ze(t,a,i++,e,1,o,n,l,r,1),ze(t,a,i++,e,2,o,n,u,m,1),ze(t,a,i++,e,3,o,n,c,g,1),ze(t,a,i++,e,4,o,n,f,x,1),ze(t,a,i++,e,5,o,n,d,y,1),ze(t,a,i++,e,6,o,n,p,v,1)}o=n,h=s,l=r,u=m,c=g,f=x,d=y,p=v}n.push(a);break}case ei:{let i=t.readInt(!0),a=new mt(s,i,e),o=t.readFloat(),h=t.readUnsignedByte()/255,l=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255;for(let e=0,i=0;a.setFrame(e,o,h,l,u,c,f,d),e!=r;e++){let n=t.readFloat(),s=t.readUnsignedByte()/255,r=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255;switch(t.readByte()){case hi:a.setStepped(e);break;case li:ze(t,a,i++,e,0,o,n,h,s,1),ze(t,a,i++,e,1,o,n,l,r,1),ze(t,a,i++,e,2,o,n,u,p,1),ze(t,a,i++,e,3,o,n,c,m,1),ze(t,a,i++,e,4,o,n,f,g,1),ze(t,a,i++,e,5,o,n,d,x,1)}o=n,h=s,l=r,u=p,c=m,f=g,d=x}n.push(a);break}case ii:{let i=new dt(s,t.readInt(!0),e),a=t.readFloat(),o=t.readUnsignedByte()/255;for(let e=0,n=0;i.setFrame(e,a,o),e!=r;e++){let s=t.readFloat(),r=t.readUnsignedByte()/255;switch(t.readByte()){case hi:i.setStepped(e);break;case li:ze(t,i,n++,e,0,a,s,o,r,1)}a=s,o=r}n.push(i)}}}}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0);for(let i=0,r=t.readInt(!0);i<r;i++){let i=t.readByte(),r=t.readInt(!0),a=t.readInt(!0);switch(i){case Ne:n.push(Le(t,new et(r,a,e),1));break;case Ve:n.push(_e(t,new it(r,a,e),s));break;case Ue:n.push(Le(t,new nt(r,a,e),s));break;case qe:n.push(Le(t,new st(r,a,e),s));break;case We:n.push(_e(t,new rt(r,a,e),1));break;case Ge:n.push(Le(t,new at(r,a,e),1));break;case He:n.push(Le(t,new ot(r,a,e),1));break;case je:n.push(_e(t,new ht(r,a,e),1));break;case Ke:n.push(Le(t,new lt(r,a,e),1));break;case $e:n.push(Le(t,new ut(r,a,e),1))}}}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0),i=t.readInt(!0),r=i-1,a=new Mt(i,t.readInt(!0),e),o=t.readFloat(),h=t.readFloat(),l=t.readFloat()*s;for(let e=0,i=0;a.setFrame(e,o,h,l,t.readByte(),t.readBoolean(),t.readBoolean()),e!=r;e++){let n=t.readFloat(),r=t.readFloat(),u=t.readFloat()*s;switch(t.readByte()){case hi:a.setStepped(e);break;case li:ze(t,a,i++,e,0,o,n,h,r,1),ze(t,a,i++,e,1,o,n,l,u,s)}o=n,h=r,l=u}n.push(a)}for(let e=0,i=t.readInt(!0);e<i;e++){let e=t.readInt(!0),i=t.readInt(!0),s=i-1,r=new At(i,t.readInt(!0),e),a=t.readFloat(),o=t.readFloat(),h=t.readFloat(),l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),f=t.readFloat();for(let e=0,i=0;r.setFrame(e,a,o,h,l,u,c,f),e!=s;e++){let n=t.readFloat(),s=t.readFloat(),d=t.readFloat(),p=t.readFloat(),m=t.readFloat(),g=t.readFloat(),x=t.readFloat();switch(t.readByte()){case hi:r.setStepped(e);break;case li:ze(t,r,i++,e,0,a,n,o,s,1),ze(t,r,i++,e,1,a,n,h,d,1),ze(t,r,i++,e,2,a,n,l,p,1),ze(t,r,i++,e,3,a,n,u,m,1),ze(t,r,i++,e,4,a,n,c,g,1),ze(t,r,i++,e,5,a,n,f,x,1)}a=n,o=s,h=d,l=p,u=m,c=g,f=x}n.push(r)}for(let e=0,r=t.readInt(!0);e<r;e++){let e=t.readInt(!0),r=i.pathConstraints[e];for(let i=0,a=t.readInt(!0);i<a;i++)switch(t.readByte()){case ri:n.push(Le(t,new St(t.readInt(!0),t.readInt(!0),e),0==r.positionMode?s:1));break;case ai:n.push(Le(t,new kt(t.readInt(!0),t.readInt(!0),e),0==r.spacingMode||1==r.spacingMode?s:1));break;case oi:let i=new Tt(t.readInt(!0),t.readInt(!0),e),a=t.readFloat(),o=t.readFloat(),h=t.readFloat(),l=t.readFloat();for(let e=0,n=0,s=i.getFrameCount()-1;i.setFrame(e,a,o,h,l),e!=s;e++){let s=t.readFloat(),r=t.readFloat(),u=t.readFloat(),c=t.readFloat();switch(t.readByte()){case hi:i.setStepped(e);break;case li:ze(t,i,n++,e,0,a,s,o,r,1),ze(t,i,n++,e,1,a,s,h,u,1),ze(t,i,n++,e,2,a,s,l,c,1)}a=s,o=r,h=u,l=c}n.push(i)}}for(let e=0,r=t.readInt(!0);e<r;e++){let e=i.skins[t.readInt(!0)];for(let i=0,r=t.readInt(!0);i<r;i++){let i=t.readInt(!0);for(let r=0,a=t.readInt(!0);r<a;r++){let r=t.readStringRef();if(!r)throw new Error("attachmentName must not be null.");let a=e.getAttachment(i,r),o=t.readByte(),h=t.readInt(!0),l=h-1;switch(o){case ni:{let e=a,r=e.bones,o=e.vertices,u=r?o.length/3*2:o.length,c=t.readInt(!0),f=new xt(h,c,i,e),d=t.readFloat();for(let e=0,i=0;;e++){let n,a=t.readInt(!0);if(0==a)n=r?m.newFloatArray(u):o;else{n=m.newFloatArray(u);let e=t.readInt(!0);if(a+=e,1==s)for(let i=e;i<a;i++)n[i]=t.readFloat();else for(let i=e;i<a;i++)n[i]=t.readFloat()*s;if(!r)for(let t=0,e=n.length;t<e;t++)n[t]+=o[t]}if(f.setFrame(e,d,n),e==l)break;let h=t.readFloat();switch(t.readByte()){case hi:f.setStepped(e);break;case li:ze(t,f,i++,e,0,d,h,0,1,1)}d=h}n.push(f);break}case si:{let e=new Et(h,i,a);for(let i=0;i<h;i++){let n=t.readFloat(),s=t.readInt32();e.setFrame(i,n,I[15&s],s>>4,t.readFloat())}n.push(e);break}}}}}let r=t.readInt(!0);if(r>0){let e=new bt(r),s=i.slots.length;for(let i=0;i<r;i++){let n=t.readFloat(),r=t.readInt(!0),a=m.newArray(s,0);for(let t=s-1;t>=0;t--)a[t]=-1;let o=m.newArray(s-r,0),h=0,l=0;for(let e=0;e<r;e++){let e=t.readInt(!0);for(;h!=e;)o[l++]=h++;a[h+t.readInt(!0)]=h++}for(;h<s;)o[l++]=h++;for(let t=s-1;t>=0;t--)-1==a[t]&&(a[t]=o[--l]);e.setFrame(i,n,a)}n.push(e)}let a=t.readInt(!0);if(a>0){let e=new vt(a);for(let n=0;n<a;n++){let s=t.readFloat(),r=i.events[t.readInt(!0)],a=new fe(s,r);a.intValue=t.readInt(!1),a.floatValue=t.readFloat(),a.stringValue=t.readBoolean()?t.readString():r.stringValue,a.data.audioPath&&(a.volume=t.readFloat(),a.balance=t.readFloat()),e.setFrame(n,a)}n.push(e)}let o=0;for(let t=0,e=n.length;t<e;t++)o=Math.max(o,n[t].getDuration());return new E(e,n,o)}},Ye=class{constructor(t,e=new Array,i=0,n=new DataView(t.buffer)){this.strings=e,this.index=i,this.buffer=n}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){let t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),i=127&e;return 0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<7,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<14,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<21,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<28)))),t?i:i>>>1^-(1&i)}readStringRef(){let t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let i=0;i<t;){let t=this.readUnsignedByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),i+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),i+=3;break;default:e+=String.fromCharCode(t),i++}}return e}readFloat(){let t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}},Xe=class{constructor(t,e,i,n,s){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n,this.inheritTimeline=s}},De=class{constructor(t=null,e=null){this.bones=t,this.vertices=e}},Oe=(t=>(t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping",t))(Oe||{});function Le(t,e,i){let n=t.readFloat(),s=t.readFloat()*i;for(let r=0,a=0,o=e.getFrameCount()-1;e.setFrame(r,n,s),r!=o;r++){let o=t.readFloat(),h=t.readFloat()*i;switch(t.readByte()){case hi:e.setStepped(r);break;case li:ze(t,e,a++,r,0,n,o,s,h,i)}n=o,s=h}return e}function _e(t,e,i){let n=t.readFloat(),s=t.readFloat()*i,r=t.readFloat()*i;for(let a=0,o=0,h=e.getFrameCount()-1;e.setFrame(a,n,s,r),a!=h;a++){let h=t.readFloat(),l=t.readFloat()*i,u=t.readFloat()*i;switch(t.readByte()){case hi:e.setStepped(a);break;case li:ze(t,e,o++,a,0,n,h,s,l,i),ze(t,e,o++,a,1,n,h,r,u,i)}n=h,s=l,r=u}return e}function ze(t,e,i,n,s,r,a,o,h,l){e.setBezier(i,n,s,r,o,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,a,h)}var Be,Ne=0,Ve=1,Ue=2,qe=3,We=4,Ge=5,He=6,je=7,Ke=8,$e=9,Ze=0,Qe=1,Je=2,ti=3,ei=4,ii=5,ni=0,si=1,ri=0,ai=1,oi=2,hi=1,li=2,ui=class{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new x(()=>m.newFloatArray(16))}update(t,e){if(!t)throw new Error("skeleton cannot be null.");let i=this.boundingBoxes,n=this.polygons,s=this.polygonPool,r=t.slots,a=r.length;i.length=0,s.freeAll(n),n.length=0;for(let t=0;t<a;t++){let e=r[t];if(!e.bone.active)continue;let a=e.getAttachment();if(a instanceof Ut){let t=a;i.push(t);let r=s.obtain();r.length!=t.worldVerticesLength&&(r=m.newFloatArray(t.worldVerticesLength)),n.push(r),t.computeWorldVertices(e,0,t.worldVerticesLength,r,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=this.polygons;for(let r=0,a=s.length;r<a;r++){let a=s[r],o=a;for(let s=0,r=a.length;s<r;s+=2){let r=o[s],a=o[s+1];t=Math.min(t,r),e=Math.min(e,a),i=Math.max(i,r),n=Math.max(n,a)}}this.minX=t,this.minY=e,this.maxX=i,this.maxY=n}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,i,n){let s=this.minX,r=this.minY,a=this.maxX,o=this.maxY;if(t<=s&&i<=s||e<=r&&n<=r||t>=a&&i>=a||e>=o&&n>=o)return!1;let h=(n-e)/(i-t),l=h*(s-t)+e;if(l>r&&l<o)return!0;if(l=h*(a-t)+e,l>r&&l<o)return!0;let u=(r-e)/h+t;return u>s&&u<a||(u=(o-e)/h+t,u>s&&u<a)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let i=this.polygons;for(let n=0,s=i.length;n<s;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null}containsPointPolygon(t,e,i){let n=t,s=t.length,r=s-2,a=!1;for(let t=0;t<s;t+=2){let s=n[t+1],o=n[r+1];if(s<i&&o>=i||o<i&&s>=i){let h=n[t];h+(i-s)/(o-s)*(n[r]-h)<e&&(a=!a)}r=t}return a}intersectsSegment(t,e,i,n){let s=this.polygons;for(let r=0,a=s.length;r<a;r++)if(this.intersectsSegmentPolygon(s[r],t,e,i,n))return this.boundingBoxes[r];return null}intersectsSegmentPolygon(t,e,i,n,s){let r=t,a=t.length,o=e-n,h=i-s,l=e*s-i*n,u=r[a-2],c=r[a-1];for(let t=0;t<a;t+=2){let a=r[t],f=r[t+1],d=u*f-c*a,p=u-a,m=c-f,g=o*m-h*p,x=(l*p-o*d)/g;if((x>=u&&x<=a||x>=a&&x<=u)&&(x>=e&&x<=n||x>=n&&x<=e)){let t=(l*m-h*d)/g;if((t>=c&&t<=f||t>=f&&t<=c)&&(t>=i&&t<=s||t>=s&&t<=i))return!0}u=a,c=f}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}},ci=class{constructor(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new x(()=>new Array),this.polygonIndicesPool=new x(()=>new Array)}triangulate(t){let e=t,i=t.length>>1,n=this.indicesArray;n.length=0;for(let t=0;t<i;t++)n[t]=t;let s=this.isConcaveArray;s.length=0;for(let t=0,r=i;t<r;++t)s[t]=ci.isConcave(t,i,e,n);let r=this.triangles;for(r.length=0;i>3;){let t=i-1,a=0,o=1;for(;;){t:if(!s[a]){let r=n[t]<<1,h=n[a]<<1,l=n[o]<<1,u=e[r],c=e[r+1],f=e[h],d=e[h+1],p=e[l],m=e[l+1];for(let r=(o+1)%i;r!=t;r=(r+1)%i){if(!s[r])continue;let t=n[r]<<1,i=e[t],a=e[t+1];if(ci.positiveArea(p,m,u,c,i,a)&&ci.positiveArea(u,c,f,d,i,a)&&ci.positiveArea(f,d,p,m,i,a))break t}break}if(0==o){do{if(!s[a])break;a--}while(a>0);break}t=a,a=o,o=(o+1)%i}r.push(n[(i+a-1)%i]),r.push(n[a]),r.push(n[(a+1)%i]),n.splice(a,1),s.splice(a,1),i--;let h=(i+a-1)%i,l=a==i?0:a;s[h]=ci.isConcave(h,i,e,n),s[l]=ci.isConcave(l,i,e,n)}return 3==i&&(r.push(n[2]),r.push(n[0]),r.push(n[1])),r}decompose(t,e){let i=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;let s=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(s),s.length=0;let r=this.polygonIndicesPool.obtain();r.length=0;let a=this.polygonPool.obtain();a.length=0;let o=-1,h=0;for(let t=0,l=e.length;t<l;t+=3){let l=e[t]<<1,u=e[t+1]<<1,c=e[t+2]<<1,f=i[l],d=i[l+1],p=i[u],m=i[u+1],g=i[c],x=i[c+1],y=!1;if(o==l){let t=a.length-4,e=ci.winding(a[t],a[t+1],a[t+2],a[t+3],g,x),i=ci.winding(g,x,a[0],a[1],a[2],a[3]);e==h&&i==h&&(a.push(g),a.push(x),r.push(c),y=!0)}y||(a.length>0?(n.push(a),s.push(r)):(this.polygonPool.free(a),this.polygonIndicesPool.free(r)),a=this.polygonPool.obtain(),a.length=0,a.push(f),a.push(d),a.push(p),a.push(m),a.push(g),a.push(x),r=this.polygonIndicesPool.obtain(),r.length=0,r.push(l),r.push(u),r.push(c),h=ci.winding(f,d,p,m,g,x),o=l)}a.length>0&&(n.push(a),s.push(r));for(let t=0,e=n.length;t<e;t++){if(r=s[t],0==r.length)continue;let i=r[0],o=r[r.length-1];a=n[t];let h=a.length-4,l=a[h],u=a[h+1],c=a[h+2],f=a[h+3],d=a[0],p=a[1],m=a[2],g=a[3],x=ci.winding(l,u,c,f,d,p);for(let h=0;h<e;h++){if(h==t)continue;let e=s[h];if(3!=e.length)continue;let y=e[0],v=e[1],w=e[2],b=n[h],M=b[b.length-2],A=b[b.length-1];if(y!=i||v!=o)continue;let S=ci.winding(l,u,c,f,M,A),k=ci.winding(M,A,d,p,m,g);S==x&&k==x&&(b.length=0,e.length=0,a.push(M),a.push(A),r.push(w),l=c,u=f,c=M,f=A,h=0)}}for(let t=n.length-1;t>=0;t--)a=n[t],0==a.length&&(n.splice(t,1),this.polygonPool.free(a),r=s[t],s.splice(t,1),this.polygonIndicesPool.free(r));return n}static isConcave(t,e,i,n){let s=n[(e+t-1)%e]<<1,r=n[t]<<1,a=n[(t+1)%e]<<1;return!this.positiveArea(i[s],i[s+1],i[r],i[r+1],i[a],i[a+1])}static positiveArea(t,e,i,n,s,r){return t*(r-n)+i*(e-r)+s*(n-e)>=0}static winding(t,e,i,n,s,r){let a=i-t,o=n-e;return s*o-r*a+a*e-t*o>=0?1:-1}},fi=class{constructor(){this.triangulator=new ci,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}clipStart(t,e){if(this.clipAttachment)return 0;this.clipAttachment=e;let i=e.worldVerticesLength,n=m.setArraySize(this.clippingPolygon,i);e.computeWorldVertices(t,0,i,n,0,2);let s=this.clippingPolygon;fi.makeClockwise(s);let r=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s));for(let t=0,e=r.length;t<e;t++){let e=r[t];fi.makeClockwise(e),e.push(e[0]),e.push(e[1])}return r.length}clipEndWithSlot(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(t,e,i,n,s,r,a,o){let h=this.clipOutput,l=this.clippedVertices,u=this.clippedTriangles,c=this.clippingPolygons,f=c.length,d=o?12:8,p=0;l.length=0,u.length=0;t:for(let e=0;e<n;e+=3){let n=i[e]<<1,g=t[n],x=t[n+1],y=s[n],v=s[n+1];n=i[e+1]<<1;let w=t[n],b=t[n+1],M=s[n],A=s[n+1];n=i[e+2]<<1;let S=t[n],k=t[n+1],T=s[n],I=s[n+1];for(let t=0;t<f;t++){let e=l.length;if(!this.clip(g,x,w,b,S,k,c[t],h)){let t=m.setArraySize(l,e+3*d);t[e]=g,t[e+1]=x,t[e+2]=r.r,t[e+3]=r.g,t[e+4]=r.b,t[e+5]=r.a,o?(t[e+6]=y,t[e+7]=v,t[e+8]=a.r,t[e+9]=a.g,t[e+10]=a.b,t[e+11]=a.a,t[e+12]=w,t[e+13]=b,t[e+14]=r.r,t[e+15]=r.g,t[e+16]=r.b,t[e+17]=r.a,t[e+18]=M,t[e+19]=A,t[e+20]=a.r,t[e+21]=a.g,t[e+22]=a.b,t[e+23]=a.a,t[e+24]=S,t[e+25]=k,t[e+26]=r.r,t[e+27]=r.g,t[e+28]=r.b,t[e+29]=r.a,t[e+30]=T,t[e+31]=I,t[e+32]=a.r,t[e+33]=a.g,t[e+34]=a.b,t[e+35]=a.a):(t[e+6]=y,t[e+7]=v,t[e+8]=w,t[e+9]=b,t[e+10]=r.r,t[e+11]=r.g,t[e+12]=r.b,t[e+13]=r.a,t[e+14]=M,t[e+15]=A,t[e+16]=S,t[e+17]=k,t[e+18]=r.r,t[e+19]=r.g,t[e+20]=r.b,t[e+21]=r.a,t[e+22]=T,t[e+23]=I),e=u.length;let i=m.setArraySize(u,e+3);i[e]=p,i[e+1]=p+1,i[e+2]=p+2,p+=3;continue t}{let t=h.length;if(0==t)continue;let i=b-k,n=S-w,s=g-S,c=k-x,f=1/(i*s+n*(x-k)),E=t>>1,R=this.clipOutput,C=m.setArraySize(l,e+E*d);for(let h=0;h<t;h+=2){let t=R[h],l=R[h+1];C[e]=t,C[e+1]=l,C[e+2]=r.r,C[e+3]=r.g,C[e+4]=r.b,C[e+5]=r.a;let u=t-S,p=l-k,m=(i*u+n*p)*f,g=(c*u+s*p)*f,x=1-m-g;C[e+6]=y*m+M*g+T*x,C[e+7]=v*m+A*g+I*x,o&&(C[e+8]=a.r,C[e+9]=a.g,C[e+10]=a.b,C[e+11]=a.a),e+=d}e=u.length;let F=m.setArraySize(u,e+3*(E-2));E--;for(let t=1;t<E;t++)F[e]=p,F[e+1]=p+t,F[e+2]=p+t+1,e+=3;p+=E+1}}}}clip(t,e,i,n,s,r,a,o){let h,l=o,u=!1;a.length%4>=2?(h=o,o=this.scratch):h=this.scratch,h.length=0,h.push(t),h.push(e),h.push(i),h.push(n),h.push(s),h.push(r),h.push(t),h.push(e),o.length=0;let c=a,f=a.length-4;for(let t=0;;t+=2){let e=c[t],i=c[t+1],n=c[t+2],s=c[t+3],r=e-n,a=i-s,d=h,p=h.length-2,m=o.length;for(let t=0;t<p;t+=2){let h=d[t],l=d[t+1],c=d[t+2],f=d[t+3],p=r*(f-s)-a*(c-n)>0;if(r*(l-s)-a*(h-n)>0){if(p){o.push(c),o.push(f);continue}let t=f-l,r=c-h,a=t*(n-e)-r*(s-i);if(Math.abs(a)>1e-6){let u=(r*(i-l)-t*(e-h))/a;o.push(e+(n-e)*u),o.push(i+(s-i)*u)}else o.push(e),o.push(i)}else if(p){let t=f-l,r=c-h,a=t*(n-e)-r*(s-i);if(Math.abs(a)>1e-6){let u=(r*(i-l)-t*(e-h))/a;o.push(e+(n-e)*u),o.push(i+(s-i)*u)}else o.push(e),o.push(i);o.push(c),o.push(f)}u=!0}if(m==o.length)return l.length=0,!0;if(o.push(o[0]),o.push(o[1]),t==f)break;let g=o;(o=h).length=0,h=g}if(l!=o){l.length=0;for(let t=0,e=o.length-2;t<e;t++)l[t]=o[t]}else l.length=l.length-2;return u}static makeClockwise(t){let e=t,i=t.length,n=e[i-2]*e[1]-e[0]*e[i-1],s=0,r=0,a=0,o=0;for(let t=0,h=i-3;t<h;t+=2)s=e[t],r=e[t+1],a=e[t+2],o=e[t+3],n+=s*o-a*r;if(!(n<0))for(let t=0,n=i-2,s=i>>1;t<s;t+=2){let i=e[t],s=e[t+1],r=n-t;e[t]=e[r],e[t+1]=e[r+1],e[r]=i,e[r+1]=s}}},di=class{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,i=new Te,n="string"==typeof t?JSON.parse(t):t,s=n.skeleton;if(s&&(i.hash=s.hash,i.version=s.spine,i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height,i.fps=s.fps,i.imagesPath=s.images),n.bones)for(let t=0;t<n.bones.length;t++){let s=n.bones[t],r=null,a=yi(s,"parent",null);a&&(r=i.findBone(a));let o=new ae(i.bones.length,s.name,r);o.length=yi(s,"length",0)*e,o.x=yi(s,"x",0)*e,o.y=yi(s,"y",0)*e,o.rotation=yi(s,"rotation",0),o.scaleX=yi(s,"scaleX",1),o.scaleY=yi(s,"scaleY",1),o.shearX=yi(s,"shearX",0),o.shearY=yi(s,"shearY",0),o.transformMode=m.enumValue(oe,yi(s,"transform","Normal")),o.skinRequired=yi(s,"skin",!1);let h=yi(s,"color",null);h&&o.color.setFromString(h),i.bones.push(o)}if(n.slots)for(let t=0;t<n.slots.length;t++){let e=n.slots[t],s=i.findBone(e.bone);if(!s)throw new Error(`Couldn't find bone ${e.bone} for slot ${e.name}`);let r=new Re(i.slots.length,e.name,s),a=yi(e,"color",null);a&&r.color.setFromString(a);let o=yi(e,"dark",null);o&&(r.darkColor=h.fromString(o)),r.attachmentName=yi(e,"attachment",null),r.blendMode=m.enumValue(Ce,yi(e,"blend","normal")),i.slots.push(r)}if(n.ik)for(let t=0;t<n.ik.length;t++){let s=n.ik[t],r=new me(s.name);r.order=yi(s,"order",0),r.skinRequired=yi(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=i.findBone(s.bones[t]);if(!e)throw new Error(`Couldn't find bone ${s.bones[t]} for IK constraint ${s.name}.`);r.bones.push(e)}let a=i.findBone(s.target);if(!a)throw new Error(`Couldn't find target bone ${s.target} for IK constraint ${s.name}.`);r.target=a,r.mix=yi(s,"mix",1),r.softness=yi(s,"softness",0)*e,r.bendDirection=yi(s,"bendPositive",!0)?1:-1,r.compress=yi(s,"compress",!1),r.stretch=yi(s,"stretch",!1),r.uniform=yi(s,"uniform",!1),i.ikConstraints.push(r)}if(n.transform)for(let t=0;t<n.transform.length;t++){let s=n.transform[t],r=new Fe(s.name);r.order=yi(s,"order",0),r.skinRequired=yi(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=s.bones[t],n=i.findBone(e);if(!n)throw new Error(`Couldn't find bone ${e} for transform constraint ${s.name}.`);r.bones.push(n)}let a=s.target,o=i.findBone(a);if(!o)throw new Error(`Couldn't find target bone ${a} for transform constraint ${s.name}.`);r.target=o,r.local=yi(s,"local",!1),r.relative=yi(s,"relative",!1),r.offsetRotation=yi(s,"rotation",0),r.offsetX=yi(s,"x",0)*e,r.offsetY=yi(s,"y",0)*e,r.offsetScaleX=yi(s,"scaleX",0),r.offsetScaleY=yi(s,"scaleY",0),r.offsetShearY=yi(s,"shearY",0),r.mixRotate=yi(s,"mixRotate",1),r.mixX=yi(s,"mixX",1),r.mixY=yi(s,"mixY",r.mixX),r.mixScaleX=yi(s,"mixScaleX",1),r.mixScaleY=yi(s,"mixScaleY",r.mixScaleX),r.mixShearY=yi(s,"mixShearY",1),i.transformConstraints.push(r)}if(n.path)for(let t=0;t<n.path.length;t++){let s=n.path[t],r=new ge(s.name);r.order=yi(s,"order",0),r.skinRequired=yi(s,"skin",!1);for(let t=0;t<s.bones.length;t++){let e=s.bones[t],n=i.findBone(e);if(!n)throw new Error(`Couldn't find bone ${e} for path constraint ${s.name}.`);r.bones.push(n)}let a=s.target,o=i.findSlot(a);if(!o)throw new Error(`Couldn't find target slot ${a} for path constraint ${s.name}.`);r.target=o,r.positionMode=m.enumValue(xe,yi(s,"positionMode","Percent")),r.spacingMode=m.enumValue(ye,yi(s,"spacingMode","Length")),r.rotateMode=m.enumValue(ve,yi(s,"rotateMode","Tangent")),r.offsetRotation=yi(s,"rotation",0),r.position=yi(s,"position",0),0==r.positionMode&&(r.position*=e),r.spacing=yi(s,"spacing",0),0!=r.spacingMode&&1!=r.spacingMode||(r.spacing*=e),r.mixRotate=yi(s,"mixRotate",1),r.mixX=yi(s,"mixX",1),r.mixY=yi(s,"mixY",r.mixX),i.pathConstraints.push(r)}if(n.skins)for(let t=0;t<n.skins.length;t++){let e=n.skins[t],s=new Ee(e.name);if(e.bones)for(let t=0;t<e.bones.length;t++){let n=e.bones[t],r=i.findBone(n);if(!r)throw new Error(`Couldn't find bone ${n} for skin ${e.name}.`);s.bones.push(r)}if(e.ik)for(let t=0;t<e.ik.length;t++){let n=e.ik[t],r=i.findIkConstraint(n);if(!r)throw new Error(`Couldn't find IK constraint ${n} for skin ${e.name}.`);s.constraints.push(r)}if(e.transform)for(let t=0;t<e.transform.length;t++){let n=e.transform[t],r=i.findTransformConstraint(n);if(!r)throw new Error(`Couldn't find transform constraint ${n} for skin ${e.name}.`);s.constraints.push(r)}if(e.path)for(let t=0;t<e.path.length;t++){let n=e.path[t],r=i.findPathConstraint(n);if(!r)throw new Error(`Couldn't find path constraint ${n} for skin ${e.name}.`);s.constraints.push(r)}for(let t in e.attachments){let n=i.findSlot(t);if(!n)throw new Error(`Couldn't find slot ${t} for skin ${e.name}.`);let r=e.attachments[t];for(let t in r){let e=this.readAttachment(r[t],s,n.index,t,i);e&&s.setAttachment(n.index,t,e)}}i.skins.push(s),"default"==s.name&&(i.defaultSkin=s)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){let e=this.linkedMeshes[t],n=e.skin?i.findSkin(e.skin):i.defaultSkin;if(!n)throw new Error("Skin not found: "+e.skin);let s=n.getAttachment(e.slotIndex,e.parent);if(!s)throw new Error("Parent mesh not found: "+e.parent);e.mesh.timelineAttachment=e.inheritTimeline?s:e.mesh,e.mesh.setParentMesh(s),null!=e.mesh.region&&e.mesh.updateRegion()}if(this.linkedMeshes.length=0,n.events)for(let t in n.events){let e=n.events[t],s=new de(t);s.intValue=yi(e,"int",0),s.floatValue=yi(e,"float",0),s.stringValue=yi(e,"string",""),s.audioPath=yi(e,"audio",null),s.audioPath&&(s.volume=yi(e,"volume",1),s.balance=yi(e,"balance",0)),i.events.push(s)}if(n.animations)for(let t in n.animations){let e=n.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(t,e,i,n,s){let r=this.scale;switch(n=yi(t,"name",n),yi(t,"type","region")){case"region":{let i=yi(t,"path",n),s=this.readSequence(yi(t,"sequence",null)),a=this.attachmentLoader.newRegionAttachment(e,n,i,s);if(!a)return null;a.path=i,a.x=yi(t,"x",0)*r,a.y=yi(t,"y",0)*r,a.scaleX=yi(t,"scaleX",1),a.scaleY=yi(t,"scaleY",1),a.rotation=yi(t,"rotation",0),a.width=t.width*r,a.height=t.height*r,a.sequence=s;let o=yi(t,"color",null);return o&&a.color.setFromString(o),null!=a.region&&a.updateRegion(),a}case"boundingbox":{let i=this.attachmentLoader.newBoundingBoxAttachment(e,n);if(!i)return null;this.readVertices(t,i,t.vertexCount<<1);let s=yi(t,"color",null);return s&&i.color.setFromString(s),i}case"mesh":case"linkedmesh":{let s=yi(t,"path",n),a=this.readSequence(yi(t,"sequence",null)),o=this.attachmentLoader.newMeshAttachment(e,n,s,a);if(!o)return null;o.path=s;let h=yi(t,"color",null);h&&o.color.setFromString(h),o.width=yi(t,"width",0)*r,o.height=yi(t,"height",0)*r,o.sequence=a;let l=yi(t,"parent",null);if(l)return this.linkedMeshes.push(new pi(o,yi(t,"skin",null),i,l,yi(t,"timelines",!0))),o;let u=t.uvs;return this.readVertices(t,o,u.length),o.triangles=t.triangles,o.regionUVs=u,null!=o.region&&o.updateRegion(),o.edges=yi(t,"edges",null),o.hullLength=2*yi(t,"hull",0),o}case"path":{let i=this.attachmentLoader.newPathAttachment(e,n);if(!i)return null;i.closed=yi(t,"closed",!1),i.constantSpeed=yi(t,"constantSpeed",!0);let s=t.vertexCount;this.readVertices(t,i,s<<1);let a=m.newArray(s/3,0);for(let e=0;e<t.lengths.length;e++)a[e]=t.lengths[e]*r;i.lengths=a;let o=yi(t,"color",null);return o&&i.color.setFromString(o),i}case"point":{let i=this.attachmentLoader.newPointAttachment(e,n);if(!i)return null;i.x=yi(t,"x",0)*r,i.y=yi(t,"y",0)*r,i.rotation=yi(t,"rotation",0);let s=yi(t,"color",null);return s&&i.color.setFromString(s),i}case"clipping":{let i=this.attachmentLoader.newClippingAttachment(e,n);if(!i)return null;let r=yi(t,"end",null);r&&(i.endSlot=s.findSlot(r));let a=t.vertexCount;this.readVertices(t,i,a<<1);let o=yi(t,"color",null);return o&&i.color.setFromString(o),i}}return null}readSequence(t){if(null==t)return null;let e=new k(yi(t,"count",0));return e.start=yi(t,"start",1),e.digits=yi(t,"digits",0),e.setupIndex=yi(t,"setup",0),e}readVertices(t,e,i){let n=this.scale;e.worldVerticesLength=i;let s=t.vertices;if(i==s.length){let t=m.toFloatArray(s);if(1!=n)for(let e=0,i=s.length;e<i;e++)t[e]*=n;return void(e.vertices=t)}let r=new Array,a=new Array;for(let t=0,e=s.length;t<e;){let e=s[t++];a.push(e);for(let i=t+4*e;t<i;t+=4)a.push(s[t]),r.push(s[t+1]*n),r.push(s[t+2]*n),r.push(s[t+3])}e.bones=a,e.vertices=m.toFloatArray(r)}readAnimation(t,e,i){let n=this.scale,s=new Array;if(t.slots)for(let e in t.slots){let n=t.slots[e],r=i.findSlot(e);if(!r)throw new Error("Slot not found: "+e);let a=r.index;for(let t in n){let e=n[t];if(!e)continue;let i=e.length;if("attachment"==t){let t=new gt(i,a);for(let n=0;n<i;n++){let i=e[n];t.setFrame(n,yi(i,"time",0),yi(i,"name",null))}s.push(t)}else if("rgba"==t){let t=new ct(i,i<<2,a),n=e[0],r=yi(n,"time",0),o=h.fromString(n.color);for(let i=0,s=0;;i++){t.setFrame(i,r,o.r,o.g,o.b,o.a);let a=e[i+1];if(!a){t.shrink(s);break}let l=yi(a,"time",0),u=h.fromString(a.color),c=n.curve;c&&(s=xi(c,t,s,i,0,r,l,o.r,u.r,1),s=xi(c,t,s,i,1,r,l,o.g,u.g,1),s=xi(c,t,s,i,2,r,l,o.b,u.b,1),s=xi(c,t,s,i,3,r,l,o.a,u.a,1)),r=l,o=u,n=a}s.push(t)}else if("rgb"==t){let t=new ft(i,3*i,a),n=e[0],r=yi(n,"time",0),o=h.fromString(n.color);for(let i=0,s=0;;i++){t.setFrame(i,r,o.r,o.g,o.b);let a=e[i+1];if(!a){t.shrink(s);break}let l=yi(a,"time",0),u=h.fromString(a.color),c=n.curve;c&&(s=xi(c,t,s,i,0,r,l,o.r,u.r,1),s=xi(c,t,s,i,1,r,l,o.g,u.g,1),s=xi(c,t,s,i,2,r,l,o.b,u.b,1)),r=l,o=u,n=a}s.push(t)}else if("alpha"==t)s.push(mi(e,new dt(i,i,a),0,1));else if("rgba2"==t){let t=new pt(i,7*i,a),n=e[0],r=yi(n,"time",0),o=h.fromString(n.light),l=h.fromString(n.dark);for(let i=0,s=0;;i++){t.setFrame(i,r,o.r,o.g,o.b,o.a,l.r,l.g,l.b);let a=e[i+1];if(!a){t.shrink(s);break}let u=yi(a,"time",0),c=h.fromString(a.light),f=h.fromString(a.dark),d=n.curve;d&&(s=xi(d,t,s,i,0,r,u,o.r,c.r,1),s=xi(d,t,s,i,1,r,u,o.g,c.g,1),s=xi(d,t,s,i,2,r,u,o.b,c.b,1),s=xi(d,t,s,i,3,r,u,o.a,c.a,1),s=xi(d,t,s,i,4,r,u,l.r,f.r,1),s=xi(d,t,s,i,5,r,u,l.g,f.g,1),s=xi(d,t,s,i,6,r,u,l.b,f.b,1)),r=u,o=c,l=f,n=a}s.push(t)}else if("rgb2"==t){let t=new mt(i,6*i,a),n=e[0],r=yi(n,"time",0),o=h.fromString(n.light),l=h.fromString(n.dark);for(let i=0,s=0;;i++){t.setFrame(i,r,o.r,o.g,o.b,l.r,l.g,l.b);let a=e[i+1];if(!a){t.shrink(s);break}let u=yi(a,"time",0),c=h.fromString(a.light),f=h.fromString(a.dark),d=n.curve;d&&(s=xi(d,t,s,i,0,r,u,o.r,c.r,1),s=xi(d,t,s,i,1,r,u,o.g,c.g,1),s=xi(d,t,s,i,2,r,u,o.b,c.b,1),s=xi(d,t,s,i,3,r,u,l.r,f.r,1),s=xi(d,t,s,i,4,r,u,l.g,f.g,1),s=xi(d,t,s,i,5,r,u,l.b,f.b,1)),r=u,o=c,l=f,n=a}s.push(t)}}}if(t.bones)for(let e in t.bones){let r=t.bones[e],a=i.findBone(e);if(!a)throw new Error("Bone not found: "+e);let o=a.index;for(let t in r){let e=r[t],i=e.length;if(0!=i)if("rotate"===t)s.push(mi(e,new et(i,i,o),0,1));else if("translate"===t){let t=new it(i,i<<1,o);s.push(gi(e,t,"x","y",0,n))}else if("translatex"===t){let t=new nt(i,i,o);s.push(mi(e,t,0,n))}else if("translatey"===t){let t=new st(i,i,o);s.push(mi(e,t,0,n))}else if("scale"===t){let t=new rt(i,i<<1,o);s.push(gi(e,t,"x","y",1,1))}else if("scalex"===t){let t=new at(i,i,o);s.push(mi(e,t,1,1))}else if("scaley"===t){let t=new ot(i,i,o);s.push(mi(e,t,1,1))}else if("shear"===t){let t=new ht(i,i<<1,o);s.push(gi(e,t,"x","y",0,1))}else if("shearx"===t){let t=new lt(i,i,o);s.push(mi(e,t,0,1))}else if("sheary"===t){let t=new ut(i,i,o);s.push(mi(e,t,0,1))}}}if(t.ik)for(let e in t.ik){let r=t.ik[e],a=r[0];if(!a)continue;let o=i.findIkConstraint(e);if(!o)throw new Error("IK Constraint not found: "+e);let h=i.ikConstraints.indexOf(o),l=new Mt(r.length,r.length<<1,h),u=yi(a,"time",0),c=yi(a,"mix",1),f=yi(a,"softness",0)*n;for(let t=0,e=0;;t++){l.setFrame(t,u,c,f,yi(a,"bendPositive",!0)?1:-1,yi(a,"compress",!1),yi(a,"stretch",!1));let i=r[t+1];if(!i){l.shrink(e);break}let s=yi(i,"time",0),o=yi(i,"mix",1),h=yi(i,"softness",0)*n,d=a.curve;d&&(e=xi(d,l,e,t,0,u,s,c,o,1),e=xi(d,l,e,t,1,u,s,f,h,n)),u=s,c=o,f=h,a=i}s.push(l)}if(t.transform)for(let e in t.transform){let n=t.transform[e],r=n[0];if(!r)continue;let a=i.findTransformConstraint(e);if(!a)throw new Error("Transform constraint not found: "+e);let o=i.transformConstraints.indexOf(a),h=new At(n.length,6*n.length,o),l=yi(r,"time",0),u=yi(r,"mixRotate",1),c=yi(r,"mixX",1),f=yi(r,"mixY",c),d=yi(r,"mixScaleX",1),p=yi(r,"mixScaleY",d),m=yi(r,"mixShearY",1);for(let t=0,e=0;;t++){h.setFrame(t,l,u,c,f,d,p,m);let i=n[t+1];if(!i){h.shrink(e);break}let s=yi(i,"time",0),a=yi(i,"mixRotate",1),o=yi(i,"mixX",1),g=yi(i,"mixY",o),x=yi(i,"mixScaleX",1),y=yi(i,"mixScaleY",x),v=yi(i,"mixShearY",1),w=r.curve;w&&(e=xi(w,h,e,t,0,l,s,u,a,1),e=xi(w,h,e,t,1,l,s,c,o,1),e=xi(w,h,e,t,2,l,s,f,g,1),e=xi(w,h,e,t,3,l,s,d,x,1),e=xi(w,h,e,t,4,l,s,p,y,1),e=xi(w,h,e,t,5,l,s,m,v,1)),l=s,u=a,c=o,f=g,d=x,p=y,d=x,r=i}s.push(h)}if(t.path)for(let e in t.path){let r=t.path[e],a=i.findPathConstraint(e);if(!a)throw new Error("Path constraint not found: "+e);let o=i.pathConstraints.indexOf(a);for(let t in r){let e=r[t],i=e[0];if(!i)continue;let h=e.length;if("position"===t){let t=new St(h,h,o);s.push(mi(e,t,0,0==a.positionMode?n:1))}else if("spacing"===t){let t=new kt(h,h,o);s.push(mi(e,t,0,0==a.spacingMode||1==a.spacingMode?n:1))}else if("mix"===t){let t=new Tt(h,3*h,o),n=yi(i,"time",0),r=yi(i,"mixRotate",1),a=yi(i,"mixX",1),l=yi(i,"mixY",a);for(let s=0,o=0;;s++){t.setFrame(s,n,r,a,l);let h=e[s+1];if(!h){t.shrink(o);break}let u=yi(h,"time",0),c=yi(h,"mixRotate",1),f=yi(h,"mixX",1),d=yi(h,"mixY",f),p=i.curve;p&&(o=xi(p,t,o,s,0,n,u,r,c,1),o=xi(p,t,o,s,1,n,u,a,f,1),o=xi(p,t,o,s,2,n,u,l,d,1)),n=u,r=c,a=f,l=d,i=h}s.push(t)}}}if(t.attachments)for(let e in t.attachments){let r=t.attachments[e],a=i.findSkin(e);if(!a)throw new Error("Skin not found: "+e);for(let t in r){let e=r[t],o=i.findSlot(t);if(!o)throw new Error("Slot not found: "+t);let h=o.index;for(let t in e){let i=e[t],r=a.getAttachment(h,t);for(let t in i){let e=i[t],a=e[0];if(a)if("deform"==t){let t=r.bones,i=r.vertices,o=t?i.length/3*2:i.length,l=new xt(e.length,e.length,h,r),u=yi(a,"time",0);for(let s=0,r=0;;s++){let h,c=yi(a,"vertices",null);if(c){h=m.newFloatArray(o);let e=yi(a,"offset",0);if(m.arrayCopy(c,0,h,e,c.length),1!=n)for(let t=e,i=t+c.length;t<i;t++)h[t]*=n;if(!t)for(let t=0;t<o;t++)h[t]+=i[t]}else h=t?m.newFloatArray(o):i;l.setFrame(s,u,h);let f=e[s+1];if(!f){l.shrink(r);break}let d=yi(f,"time",0),p=a.curve;p&&(r=xi(p,l,r,s,0,u,d,0,1,1)),u=d,a=f}s.push(l)}else if("sequence"==t){let t=new Et(e.length,h,r),i=0;for(let n=0;n<e.length;n++){let s=yi(a,"delay",i),r=yi(a,"time",0),o=T[yi(a,"mode","hold")],h=yi(a,"index",0);t.setFrame(n,r,o,h,s),i=s,a=e[n+1]}s.push(t)}}}}}if(t.drawOrder){let e=new bt(t.drawOrder.length),n=i.slots.length,r=0;for(let s=0;s<t.drawOrder.length;s++,r++){let a=t.drawOrder[s],o=null,h=yi(a,"offsets",null);if(h){o=m.newArray(n,-1);let t=m.newArray(n-h.length,0),e=0,s=0;for(let n=0;n<h.length;n++){let r=h[n],a=i.findSlot(r.slot);if(!a)throw new Error("Slot not found: "+a);let l=a.index;for(;e!=l;)t[s++]=e++;o[e+r.offset]=e++}for(;e<n;)t[s++]=e++;for(let e=n-1;e>=0;e--)-1==o[e]&&(o[e]=t[--s])}e.setFrame(r,yi(a,"time",0),o)}s.push(e)}if(t.events){let e=new vt(t.events.length),n=0;for(let s=0;s<t.events.length;s++,n++){let r=t.events[s],a=i.findEvent(r.name);if(!a)throw new Error("Event not found: "+r.name);let o=new fe(m.toSinglePrecision(yi(r,"time",0)),a);o.intValue=yi(r,"int",a.intValue),o.floatValue=yi(r,"float",a.floatValue),o.stringValue=yi(r,"string",a.stringValue),o.data.audioPath&&(o.volume=yi(r,"volume",1),o.balance=yi(r,"balance",0)),e.setFrame(n,o)}s.push(e)}let r=0;for(let t=0,e=s.length;t<e;t++)r=Math.max(r,s[t].getDuration());i.animations.push(new E(e,s,r))}},pi=class{constructor(t,e,i,n,s){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n,this.inheritTimeline=s}};function mi(t,e,i,n){let s=t[0],r=yi(s,"time",0),a=yi(s,"value",i)*n,o=0;for(let h=0;;h++){e.setFrame(h,r,a);let l=t[h+1];if(!l)return e.shrink(o),e;let u=yi(l,"time",0),c=yi(l,"value",i)*n;s.curve&&(o=xi(s.curve,e,o,h,0,r,u,a,c,n)),r=u,a=c,s=l}}function gi(t,e,i,n,s,r){let a=t[0],o=yi(a,"time",0),h=yi(a,i,s)*r,l=yi(a,n,s)*r,u=0;for(let c=0;;c++){e.setFrame(c,o,h,l);let f=t[c+1];if(!f)return e.shrink(u),e;let d=yi(f,"time",0),p=yi(f,i,s)*r,m=yi(f,n,s)*r,g=a.curve;g&&(u=xi(g,e,u,c,0,o,d,h,p,r),u=xi(g,e,u,c,1,o,d,l,m,r)),o=d,h=p,l=m,a=f}}function xi(t,e,i,n,s,r,a,o,h,l){if("stepped"==t)return e.setStepped(n),i;let u=s<<2,c=t[u],f=t[u+1]*l,d=t[u+2],p=t[u+3]*l;return e.setBezier(i,n,s,r,o,c,f,d,p,a,h),i+1}function yi(t,e,i){return void 0!==t[e]?t[e]:i}void 0===Math.fround&&(Math.fround=(Be=new Float32Array(1),function(t){return Be[0]=t,Be[0]}));var vi,wi=class extends Wt{constructor(t){super(t)}setFilters(t,e){}setWraps(t,e){}dispose(){}},bi=class extends ue{constructor(t="",e=new ce){super(t=>new wi(t),t,e)}},Mi=m.newFloatArray(8),Ai=class{constructor(t){this.triangleRendering=!1,this.debugRendering=!1,this.vertices=m.newFloatArray(8192),this.tempColor=new h,this.ctx=t}draw(t){this.triangleRendering?this.drawTriangles(t):this.drawImages(t)}drawImages(t){let e=this.ctx,i=this.tempColor,n=t.color,s=t.drawOrder;this.debugRendering&&(e.strokeStyle="green");for(let t=0,r=s.length;t<r;t++){let r=s[t],a=r.bone;if(!a.active)continue;let o=r.getAttachment();if(!(o instanceof se))continue;o.computeWorldVertices(r,Mi,0,2);let h=o.region,l=h.page.texture.getImage(),u=r.color,c=o.color;i.set(n.r*u.r*c.r,n.g*u.g*c.g,n.b*u.b*c.b,n.a*u.a*c.a),e.save(),e.transform(a.a,a.c,a.b,a.d,a.worldX,a.worldY),e.translate(o.offset[0],o.offset[1]),e.rotate(o.rotation*Math.PI/180);let f=o.width/h.originalWidth;e.scale(f*o.scaleX,f*o.scaleY);let d=h.width,p=h.height;if(e.translate(d/2,p/2),90==o.region.degrees){let t=d;d=p,p=t,e.rotate(-Math.PI/2)}e.scale(1,-1),e.translate(-d/2,-p/2),e.globalAlpha=i.a,e.drawImage(l,h.x,h.y,d,p,0,0,d,p),this.debugRendering&&e.strokeRect(0,0,d,p),e.restore()}}drawTriangles(t){let e=this.ctx,i=this.tempColor,n=t.color,s=t.drawOrder,r=null,a=this.vertices,o=null;for(let t=0,l=s.length;t<l;t++){let l,u,c=s[t],f=c.getAttachment();if(f instanceof se){let t=f;a=this.computeRegionVertices(c,t,!1),o=Ai.QUAD_TRIANGLES,u=t.region,l=u.page.texture.getImage()}else{if(!(f instanceof te))continue;{let t=f;a=this.computeMeshVertices(c,t,!1),o=t.triangles,l=t.region.renderObject.page.texture.getImage()}}if(l){c.data.blendMode!=r&&(r=c.data.blendMode);let t=c.color,s=f.color;i.set(n.r*t.r*s.r,n.g*t.g*s.g,n.b*t.b*s.b,n.a*t.a*s.a),e.globalAlpha=i.a;for(var h=0;h<o.length;h+=3){let t=8*o[h],i=8*o[h+1],n=8*o[h+2],s=a[t],r=a[t+1],u=a[t+6],c=a[t+7],f=a[i],d=a[i+1],p=a[i+6],m=a[i+7],g=a[n],x=a[n+1],y=a[n+6],v=a[n+7];this.drawTriangle(l,s,r,u,c,f,d,p,m,g,x,y,v),this.debugRendering&&(e.strokeStyle="green",e.beginPath(),e.moveTo(s,r),e.lineTo(f,d),e.lineTo(g,x),e.lineTo(s,r),e.stroke())}}}this.ctx.globalAlpha=1}drawTriangle(t,e,i,n,s,r,a,o,h,l,u,c,f){let d=this.ctx;n*=t.width,s*=t.height,o*=t.width,h*=t.height,c*=t.width,f*=t.height,d.beginPath(),d.moveTo(e,i),d.lineTo(r,a),d.lineTo(l,u),d.closePath();var p=1/((o-=n)*(f-=s)-(c-=n)*(h-=s)),m=(f*(r-=e)-h*(l-=e))*p,g=(f*(a-=i)-h*(u-=i))*p,x=(o*l-c*r)*p,y=(o*u-c*a)*p,v=e-m*n-x*s,w=i-g*n-y*s;d.save(),d.transform(m,g,x,y,v,w),d.clip(),d.drawImage(t,0,0),d.restore()}computeRegionVertices(t,e,i){let n=t.bone.skeleton.color,s=t.color,r=e.color,a=n.a*s.a*r.a,o=i?a:1,h=this.tempColor;h.set(n.r*s.r*r.r*o,n.g*s.g*r.g*o,n.b*s.b*r.b*o,a),e.computeWorldVertices(t,this.vertices,0,Ai.VERTEX_SIZE);let l=this.vertices,u=e.uvs;return l[se.C1R]=h.r,l[se.C1G]=h.g,l[se.C1B]=h.b,l[se.C1A]=h.a,l[se.U1]=u[0],l[se.V1]=u[1],l[se.C2R]=h.r,l[se.C2G]=h.g,l[se.C2B]=h.b,l[se.C2A]=h.a,l[se.U2]=u[2],l[se.V2]=u[3],l[se.C3R]=h.r,l[se.C3G]=h.g,l[se.C3B]=h.b,l[se.C3A]=h.a,l[se.U3]=u[4],l[se.V3]=u[5],l[se.C4R]=h.r,l[se.C4G]=h.g,l[se.C4B]=h.b,l[se.C4A]=h.a,l[se.U4]=u[6],l[se.V4]=u[7],l}computeMeshVertices(t,e,i){let n=t.bone.skeleton.color,s=t.color,r=e.color,a=n.a*s.a*r.a,o=i?a:1,h=this.tempColor;h.set(n.r*s.r*r.r*o,n.g*s.g*r.g*o,n.b*s.b*r.b*o,a);let l=e.worldVerticesLength/2,u=this.vertices;u.length<e.worldVerticesLength&&(this.vertices=u=m.newFloatArray(e.worldVerticesLength)),e.computeWorldVertices(t,0,e.worldVerticesLength,u,0,Ai.VERTEX_SIZE);let c=e.uvs;for(let t=0,e=0,i=2;t<l;t++)u[i++]=h.r,u[i++]=h.g,u[i++]=h.b,u[i++]=h.a,u[i++]=c[e++],u[i++]=c[e++],i+=2;return u}},Si=Ai;return Si.QUAD_TRIANGLES=[0,1,2,2,3,0],Si.VERTEX_SIZE=8,vi=s,((s,r,a,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let h of i(r))n.call(s,h)||h===a||t(s,h,{get:()=>r[h],enumerable:!(o=e(r,h))||o.enumerable});return s})(t({},"__esModule",{value:!0}),vi)})();t.exports=e}).call(window)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(26),s=i(46);t.exports=function(t,e){var i=void 0===t?s():n({},t);if(e)for(var r in e)void 0!==e[r]&&(i[r]=e[r]);return i}},function(t,e){t.exports=function(t,e,i,n,s,r){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=0),void 0===r&&(r=!1),{responseType:t,async:e,user:i,password:n,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}}},function(t,e){t.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};t.exports=i},function(t,e){t.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3),s=i(52),r=i(40),a=i(29),o=i(30),h=i(2),l={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t,this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return o(this._rotation*n.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=a(t)}},setPosition:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=i,this.w=n,this},copyPosition:function(t){return void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.z&&(this.z=t.z),void 0!==t.w&&(this.w=t.w),this},setRandomPosition:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),this.x=t+Math.random()*i,this.y=e+Math.random()*n,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new s),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){void 0===t&&(t=new s),void 0===e&&(e=new s);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t},getLocalPoint:function(t,e,i,n){i||(i=new h),n||(n=this.scene.sys.cameras.main);var s=n.scrollX,a=n.scrollY,o=t+s*this.scrollFactorX-s,l=e+a*this.scrollFactorY-a;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(o,l,i):r(o,l,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i),this._originComponent&&(i.x+=this._displayOriginX,i.y+=this._displayOriginY),i},getParentRotation:function(){for(var t=0,e=this.parentContainer;e;)t+=e.rotation,e=e.parentContainer;return t}};t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(3),r=i(2),a=new n({initialize:function(t,e,i,n,s,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===s&&(s=0),void 0===r&&(r=0),this.matrix=new Float32Array([t,e,i,n,s,r,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix,e=t[0],i=t[1],n=t[2],r=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):n||r?s.TAU-(r>0?Math.acos(-n/this.scaleY):-Math.acos(n/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),n=this.matrix,s=n[0],r=n[1],a=n[2],o=n[3];return n[0]=s*i+a*e,n[1]=r*i+o*e,n[2]=s*-e+a*i,n[3]=r*-e+o*i,this},multiply:function(t,e){var i=this.matrix,n=t.matrix,s=i[0],r=i[1],a=i[2],o=i[3],h=i[4],l=i[5],u=n[0],c=n[1],f=n[2],d=n[3],p=n[4],m=n[5],g=void 0===e?this:e;return g.a=u*s+c*a,g.b=u*r+c*o,g.c=f*s+d*a,g.d=f*r+d*o,g.e=p*s+m*a+h,g.f=p*r+m*o+l,g},multiplyWithOffset:function(t,e,i){var n=this.matrix,s=t.matrix,r=n[0],a=n[1],o=n[2],h=n[3],l=e*r+i*o+n[4],u=e*a+i*h+n[5],c=s[0],f=s[1],d=s[2],p=s[3],m=s[4],g=s[5];return n[0]=c*r+f*o,n[1]=c*a+f*h,n[2]=d*r+p*o,n[3]=d*a+p*h,n[4]=m*r+g*o+l,n[5]=m*a+g*h+u,this},transform:function(t,e,i,n,s,r){var a=this.matrix,o=a[0],h=a[1],l=a[2],u=a[3],c=a[4],f=a[5];return a[0]=t*o+e*l,a[1]=t*h+e*u,a[2]=i*o+n*l,a[3]=i*h+n*u,a[4]=s*o+r*l+c,a[5]=s*h+r*u+f,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var n=this.matrix,s=n[0],r=n[1],a=n[2],o=n[3],h=n[4],l=n[5];return i.x=t*s+e*a+h,i.y=t*r+e*o+l,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=e*s-i*n;return t[0]=s/o,t[1]=-i/o,t[2]=-n/o,t[3]=e/o,t[4]=(n*a-s*r)/o,t[5]=-(e*a-i*r)/o,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,n,s,r){var a=this.matrix;return a[0]=t,a[1]=e,a[2]=i,a[3]=n,a[4]=s,a[5]=r,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],n=e[1],s=e[2],r=e[3],a=i*r-n*s;if(t.translateX=e[4],t.translateY=e[5],i||n){var o=Math.sqrt(i*i+n*n);t.rotation=n>0?Math.acos(i/o):-Math.acos(i/o),t.scaleX=o,t.scaleY=a/o}else if(s||r){var h=Math.sqrt(s*s+r*r);t.rotation=.5*Math.PI-(r>0?Math.acos(-s/h):-Math.acos(s/h)),t.scaleX=a/h,t.scaleY=h}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t},applyITRS:function(t,e,i,n,s){var r=this.matrix,a=Math.sin(i),o=Math.cos(i);return r[4]=t,r[5]=e,r[0]=o*n,r[1]=a*n,r[2]=-a*s,r[3]=o*s,this},applyInverse:function(t,e,i){void 0===i&&(i=new r);var n=this.matrix,s=n[0],a=n[1],o=n[2],h=n[3],l=n[4],u=n[5],c=1/(s*h+o*-a);return i.x=h*c*t+-o*c*e+(u*o-l*h)*c,i.y=s*c*e+-a*c*t+(-u*s+l*a)*c,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getXRound:function(t,e,i){var n=this.getX(t,e);return i&&(n=Math.round(n)),n},getYRound:function(t,e,i){var n=this.getY(t,e);return i&&(n=Math.round(n)),n},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(55),r=i(221),a=i(228),o=i(56),h=i(43),l=new n({Extends:a,initialize:function(t,e){a.call(this),this.scene=t,this.displayList=null,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(t,e){return this.data||(this.data=new r(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new r(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new r(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new r(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(t){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return this.displayList?i.unshift(this.displayList.getIndex(t)):i.unshift(this.scene.sys.displayList.getIndex(t)),i},addToDisplayList:function(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),t.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;return t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),t.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(t){this.scene&&!this.ignoreDestroy&&(void 0===t&&(t=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,t),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,t.exports=l},function(t,e){t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADDED_TO_SCENE:i(229),DESTROY:i(230),REMOVED_FROM_SCENE:i(231),VIDEO_COMPLETE:i(232),VIDEO_CREATED:i(233),VIDEO_ERROR:i(234),VIDEO_LOOP:i(235),VIDEO_PLAY:i(236),VIDEO_SEEKED:i(237),VIDEO_SEEKING:i(238),VIDEO_STOP:i(239),VIDEO_TIMEOUT:i(240),VIDEO_UNLOCKED:i(241)}},function(t,e){t.exports=function(t){for(var e=t.length,i=t[0].length,n=new Array(i),s=0;s<i;s++){n[s]=new Array(e);for(var r=e-1;r>-1;r--)n[s][r]=t[r][s]}return n}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.shift(),t.push(i);return i}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.pop(),t.unshift(i);return i}},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(62),s=i(10);t.exports=function(t,e,i){if(void 0===i&&(i=new s),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var r=n(t)*e;return e>.5?(r-=t.width+t.height)<=t.width?(i.x=t.right-r,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(r-t.width)):r<=t.width?(i.x=t.x+r,i.y=t.y):(i.x=t.right,i.y=t.y+(r-t.width)),i}},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n,s=i(64),r=i(0),a=i(7),o=i(177),h=i(178),l={canvas:i(44),webgl:i(44)},u=i(202),c=i(220),f=i(251),d=i(1),p=new r({Extends:h,initialize:function(t,e,i){h.call(this,t,e,i);var n=e.game;this.isWebGL=2===n.config.renderType,this.cache=n.cache.addCustom("spine"),this.spineTextures=n.cache.addCustom("spineTextures"),this.json=n.cache.json,this.textures=n.textures,this.drawDebug=!1,this.gl,this.renderer,this.sceneRenderer,this.skeletonRenderer,this.skeletonDebugRenderer,this.plugin=l,this.temp1,this.temp2,this.isWebGL?(this.runtime=l.webgl,this.renderer=n.renderer,this.gl=n.renderer.gl,this.getAtlas=this.getAtlasWebGL):(this.runtime=l.canvas,this.renderer=n.renderer,this.getAtlas=this.getAtlasCanvas),this.renderer||(this.renderer={width:n.scale.width,height:n.scale.height,preRender:d,postRender:d,render:d,destroy:d});e.registerFileType("spine",this.spineFileCallback,t),e.registerGameObject("spine",(function(t,e,n,s,r){var a=this.scene.sys[i],o=new c(this.scene,a,t,e,n,s,r);return this.displayList.add(o),this.updateList.add(o),o}),(function(t,e){void 0===t&&(t={});var n=a(t,"key",null),r=a(t,"animationName",null),o=a(t,"loop",!1),h=this.scene.sys[i],l=new c(this.scene,h,0,0,n,r,o);void 0!==e&&(t.add=e),s(this.scene,l,t);var u=a(t,"skinName",!1);u&&l.setSkinByName(u);var f=a(t,"slotName",!1),d=a(t,"attachmentName",null);return f&&l.setAttachment(f,d),l.refresh()})),e.registerGameObject("spineContainer",(function(t,e,n){var s=this.scene.sys[i],r=new f(this.scene,s,t,e,n);return this.displayList.add(r),r}),(function(t,e){void 0===t&&(t={});var n=a(t,"x",0),r=a(t,"y",0),o=a(t,"children",null),h=this.scene.sys[i],l=new f(this.scene,h,n,r,o);return void 0!==e&&(t.add=e),s(this.scene,l,t),l}))},boot:function(){this.isWebGL?(this.bootWebGL(),this.onResize(),this.game.scale.on(o,this.onResize,this)):this.bootCanvas();var t=this.systems.events;t.once("shutdown",this.shutdown,this),t.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},bootCanvas:function(){this.skeletonRenderer=new l.canvas.SkeletonRenderer(this.scene.sys.context)},bootWebGL:function(){n||(n=new l.webgl.SceneRenderer(this.renderer.canvas,this.gl,!0)),this.sceneRenderer=n,this.skeletonRenderer=n.skeletonRenderer,this.skeletonDebugRenderer=n.skeletonDebugRenderer,this.temp1=new l.webgl.Vector3(0,0,0),this.temp2=new l.webgl.Vector3(0,0,0)},getAtlasCanvas:function(t){var e=this.cache.get(t);if(e){var i,n=this.spineTextures;if(n.has(t))i=n.get(t);else{var s=this.textures;i=new this.runtime.TextureAtlas(e.data,(function(t){return new l.canvas.CanvasTexture(s.get(e.prefix+t).getSourceImage())}))}return i}console.warn("No atlas data for: "+t)},getAtlasWebGL:function(t){var e=this.cache.get(t);if(e){var i,n=this.spineTextures;if(n.has(t))i=n.get(t);else{var s=this.textures,r=this.sceneRenderer.context.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i=new this.runtime.TextureAtlas(e.data,(function(t){return new l.webgl.GLTexture(r,s.get(e.prefix+t).getSourceImage(),!1)}))}return i}console.warn("No atlas data for: "+t)},spineFileCallback:function(t,e,i,n,s,r,a){var o;if(Array.isArray(t))for(var h=0;h<t.length;h++)(o=new u(this,t[h])).prefix=o.prefix||a.prefix||"",this.addFile(o.files);else(o=new u(this,t,e,i,n,s,r)).prefix=o.prefix||a.prefix||"",this.addFile(o.files);return this},worldToLocal:function(t,e,i,n){var s=this.temp1,r=this.temp2,a=this.sceneRenderer.camera;s.set(t+i.x,e-i.y,0);var o=a.viewportWidth,h=a.viewportHeight;return a.screenToWorld(s,o,h),n&&null!==n.parent?(n.parent.worldToLocal(r.set(s.x-i.x,s.y-i.y,0)),new this.runtime.Vector2(r.x,r.y)):n?new this.runtime.Vector2(s.x-i.x,s.y-i.y):new this.runtime.Vector2(s.x,s.y)},getVector2:function(t,e){return new this.runtime.Vector2(t,e)},getVector3:function(t,e,i){return new l.webgl.Vector3(t,e,i)},setDebugBones:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawBones=t,this},setDebugRegionAttachments:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawRegionAttachments=t,this},setDebugBoundingBoxes:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawBoundingBoxes=t,this},setDebugMeshHull:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawMeshHull=t,this},setDebugMeshTriangles:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawMeshTriangles=t,this},setDebugPaths:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawPaths=t,this},setDebugSkeletonXY:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawSkeletonXY=t,this},setDebugClipping:function(t){return void 0===t&&(t=!0),this.skeletonDebugRenderer.drawClipping=t,this},setEffect:function(t){return this.sceneRenderer.skeletonRenderer.vertexEffect=t,this},createSkeleton:function(t,e){var i=t,n=t,s=-1!==t.indexOf(".");if(s){var r=t.split(".");i=r.shift(),n=r.join(".")}var o=this.cache.get(i),h=this.getAtlas(i);if(!h)return null;var l,u,c,f=this.gl,d=o.prefix?o.prefix+i:i;if(!this.spineTextures.has(d))if(this.isWebGL)for(f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),l=0;l<h.pages.length;l++)u=h.pages[l],c=o.prefix?o.prefix+u.name:u.name,u.setTexture(new this.runtime.GLTexture(f,this.textures.get(c).getSourceImage(),!1));else for(l=0;l<h.pages.length;l++)u=h.pages[l],c=o.prefix?o.prefix+u.name:u.name,u.setTexture(new this.runtime.CanvasTexture(this.textures.get(c).getSourceImage()));this.spineTextures.has(i)||this.spineTextures.add(i,h);var p,m=o.preMultipliedAlpha,g=new this.runtime.AtlasAttachmentLoader(h),x=new this.runtime.SkeletonJson(g);if(e)p=e;else{var y=this.json.get(i);p=s?a(y,n):y}if(p){var v=x.readSkeletonData(p);return{skeletonData:v,skeleton:new this.runtime.Skeleton(v),preMultipliedAlpha:m}}return null},createAnimationState:function(t){var e=new this.runtime.AnimationStateData(t.data);return{stateData:e,state:new this.runtime.AnimationState(e)}},getBounds:function(t){var e=new this.runtime.Vector2,i=new this.runtime.Vector2;return t.getBounds(e,i,[]),{offset:e,size:i}},onResize:function(){var t=this.renderer,e=this.sceneRenderer,i=t.width,n=t.height;e.camera.position.x=i/2,e.camera.position.y=n/2,e.camera.setViewport(i,n)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this),this.isWebGL&&this.game.scale.off(o,this.onResize,this)},destroy:function(){this.shutdown(),this.game=null,this.scene=null,this.systems=null,this.cache=null,this.spineTextures=null,this.json=null,this.textures=null,this.skeletonRenderer=null,this.gl=null},gameDestroy:function(){this.pluginManager.removeGameObject("spine",!0,!0),this.pluginManager.removeGameObject("spineContainer",!0,!0),this.pluginManager=null,n&&(n.dispose(),n=null),this.sceneRenderer=null}});p.SpineGameObject=c,p.SpineContainer=f,t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(15),s=i(65);t.exports=function(t,e,i){e.x=s(i,"x",0),e.y=s(i,"y",0),e.depth=s(i,"depth",0),e.flipX=s(i,"flipX",!1),e.flipY=s(i,"flipY",!1);var r=s(i,"scale",null);"number"==typeof r?e.setScale(r):null!==r&&(e.scaleX=s(r,"x",1),e.scaleY=s(r,"y",1));var a=s(i,"scrollFactor",null);"number"==typeof a?e.setScrollFactor(a):null!==a&&(e.scrollFactorX=s(a,"x",1),e.scrollFactorY=s(a,"y",1)),e.rotation=s(i,"rotation",0);var o=s(i,"angle",null);null!==o&&(e.angle=o),e.alpha=s(i,"alpha",1);var h=s(i,"origin",null);if("number"==typeof h)e.setOrigin(h);else if(null!==h){var l=s(h,"x",.5),u=s(h,"y",.5);e.setOrigin(l,u)}return e.blendMode=s(i,"blendMode",n.NORMAL),e.visible=s(i,"visible",!0),s(i,"add",!0)&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(66),s=i(7);t.exports=function(t,e,i){var r=s(t,e,null);if(null===r)return i;if(Array.isArray(r))return n.RND.pick(r);if("object"==typeof r){if(r.hasOwnProperty("randInt"))return n.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return n.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if("function"==typeof r)return r(e);return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3),s=i(26),r={Angle:i(67),Distance:i(76),Easing:i(84),Fuzzy:i(129),Interpolation:i(134),Pow2:i(142),Snap:i(146),RandomDataGenerator:i(150),Average:i(151),Bernstein:i(32),Between:i(152),CatmullRom:i(34),CeilTo:i(153),Clamp:i(5),DegToRad:i(18),Difference:i(154),Euler:i(155),Factorial:i(33),FloatBetween:i(17),FloorTo:i(156),FromPercent:i(157),GetSpeed:i(158),IsEven:i(159),IsEvenStrict:i(160),Linear:i(35),MaxAdd:i(161),Median:i(162),MinSub:i(163),Percent:i(164),RadToDeg:i(20),RandomXY:i(165),RandomXYZ:i(166),RandomXYZW:i(167),Rotate:i(168),RotateAround:i(38),RotateAroundDistance:i(169),RotateTo:i(170),RoundAwayFromZero:i(39),RoundTo:i(171),SinCosTableGenerator:i(172),SmootherStep:i(37),SmoothStep:i(36),ToXY:i(173),TransformXY:i(40),Within:i(174),Wrap:i(11),Vector2:i(2),Vector3:i(12),Vector4:i(175),Matrix3:i(41),Matrix4:i(19),Quaternion:i(42),RotateVec3:i(176)};r=s(!1,r,n),t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Between:i(27),BetweenPoints:i(68),BetweenPointsY:i(69),BetweenY:i(70),CounterClockwise:i(16),Normalize:i(28),Random:i(71),RandomDegrees:i(72),Reverse:i(73),RotateTo:i(74),ShortestBetween:i(75),Wrap:i(29),WrapDegrees:i(30)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}},function(t,e){t.exports=function(t,e,i,n){return Math.atan2(i-t,n-e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(17);t.exports=function(){return n(-Math.PI,Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(17);t.exports=function(){return n(-180,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(28);t.exports=function(t){return n(t+Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(3);t.exports=function(t,e,i){return void 0===i&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=n.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=n.PI2:e-=n.PI2),e>t?t+=i:e<t&&(t-=i))),t}},function(t,e){t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Between:i(77),BetweenPoints:i(78),BetweenPointsSquared:i(79),Chebyshev:i(80),Power:i(81),Snake:i(82),Squared:i(83)}},function(t,e){t.exports=function(t,e,i,n){var s=t-i,r=e-n;return Math.sqrt(s*s+r*r)}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}},function(t,e){t.exports=function(t,e,i,n){return Math.max(Math.abs(t-i),Math.abs(e-n))}},function(t,e){t.exports=function(t,e,i,n,s){return void 0===s&&(s=2),Math.sqrt(Math.pow(i-t,s)+Math.pow(n-e,s))}},function(t,e){t.exports=function(t,e,i,n){return Math.abs(t-i)+Math.abs(e-n)}},function(t,e){t.exports=function(t,e,i,n){var s=t-i,r=e-n;return s*s+r*r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Back:i(85),Bounce:i(89),Circular:i(93),Cubic:i(97),Elastic:i(101),Expo:i(105),Linear:i(109),Quadratic:i(111),Quartic:i(115),Quintic:i(119),Sine:i(123),Stepped:i(127)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(86),Out:i(87),InOut:i(88)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(90),Out:i(91),InOut:i(92)}},function(t,e){t.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},function(t,e){t.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(t,e){t.exports=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(94),Out:i(95),InOut:i(96)}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(98),Out:i(99),InOut:i(100)}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){return--t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(102),Out:i(103),InOut:i(104)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(106),Out:i(107),InOut:i(108)}},function(t,e){t.exports=function(t){return Math.pow(2,10*(t-1))-.001}},function(t,e){t.exports=function(t){return 1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=i(110)},function(t,e){t.exports=function(t){return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(112),Out:i(113),InOut:i(114)}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return t*(2-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(116),Out:i(117),InOut:i(118)}},function(t,e){t.exports=function(t){return t*t*t*t}},function(t,e){t.exports=function(t){return 1- --t*t*t*t}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(120),Out:i(121),InOut:i(122)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(124),Out:i(125),InOut:i(126)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=i(128)},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Ceil:i(130),Equal:i(31),Floor:i(131),GreaterThan:i(132),LessThan:i(133)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Bezier:i(135),CatmullRom:i(136),CubicBezier:i(137),Linear:i(138),QuadraticBezier:i(139),SmoothStep:i(140),SmootherStep:i(141)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(32);t.exports=function(t,e){for(var i=0,s=t.length-1,r=0;r<=s;r++)i+=Math.pow(1-e,s-r)*Math.pow(e,r)*t[r]*n(s,r);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(34);t.exports=function(t,e){var i=t.length-1,s=i*e,r=Math.floor(s);return t[0]===t[i]?(e<0&&(r=Math.floor(s=i*(1+e))),n(s-r,t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i])):e<0?t[0]-(n(-s,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(n(s-i,t[i],t[i],t[i-1],t[i-1])-t[i]):n(s-r,t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2])}},function(t,e){t.exports=function(t,e,i,n,s){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(35);t.exports=function(t,e){var i=t.length-1,s=i*e,r=Math.floor(s);return e<0?n(t[0],t[1],s):e>1?n(t[i],t[i-1],i-s):n(t[r],t[r+1>i?i:r+1],s-r)}},function(t,e){t.exports=function(t,e,i,n){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(36);t.exports=function(t,e,i){return e+(i-e)*n(t,0,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(37);t.exports=function(t,e,i){return e+(i-e)*n(t,0,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={GetNext:i(143),IsSize:i(144),IsValue:i(145)}},function(t,e){t.exports=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}},function(t,e){t.exports=function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)}},function(t,e){t.exports=function(t){return t>0&&0==(t&t-1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Ceil:i(147),Floor:i(148),To:i(149)}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),n?(i+t)/e:i+t)}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),n?(i+t)/e:i+t)}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),n?(i+t)/e:i+t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var n=0;n<t.length;n++)e=.02519603282416938*(i+=t.charCodeAt(n)),e-=i=e>>>0,i=(e*=i)>>>0,i+=4294967296*(e-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(this.frac()*(e+1)),n=t[i];t[i]=t[e],t[e]=n}return t}});t.exports=n},function(t,e){t.exports=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length}},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.ceil(t*n)/n}},function(t,e){t.exports=function(t,e){return Math.abs(t-e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(5),s=i(0),r=i(19),a=i(1),o=new r,h=new s({initialize:function t(e,i,n,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=t.DefaultOrder),this._x=e,this._y=i,this._z=n,this._order=s,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback(this)}},set:function(t,e,i,n){return void 0===n&&(n=this._order),this._x=t,this._y=e,this._z=i,this._order=n,this.onChangeCallback(this),this},copy:function(t){return this.set(t.x,t.y,t.z,t.order)},setFromQuaternion:function(t,e,i){return void 0===e&&(e=this._order),void 0===i&&(i=!1),o.fromQuat(t),this.setFromRotationMatrix(o,e,i)},setFromRotationMatrix:function(t,e,i){void 0===e&&(e=this._order),void 0===i&&(i=!1);var s=t.val,r=s[0],a=s[4],o=s[8],h=s[1],l=s[5],u=s[9],c=s[2],f=s[6],d=s[10],p=0,m=0,g=0;switch(e){case"XYZ":m=Math.asin(n(o,-1,1)),Math.abs(o)<.99999?(p=Math.atan2(-u,d),g=Math.atan2(-a,r)):p=Math.atan2(f,l);break;case"YXZ":p=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(m=Math.atan2(o,d),g=Math.atan2(h,l)):m=Math.atan2(-c,r);break;case"ZXY":p=Math.asin(n(f,-1,1)),Math.abs(f)<.99999?(m=Math.atan2(-c,d),g=Math.atan2(-a,l)):g=Math.atan2(h,r);break;case"ZYX":m=Math.asin(-n(c,-1,1)),Math.abs(c)<.99999?(p=Math.atan2(f,d),g=Math.atan2(h,r)):g=Math.atan2(-a,l);break;case"YZX":g=Math.asin(n(h,-1,1)),Math.abs(h)<.99999?(p=Math.atan2(-u,l),m=Math.atan2(-c,r)):m=Math.atan2(o,d);break;case"XZY":g=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(p=Math.atan2(f,l),m=Math.atan2(o,r)):p=Math.atan2(-u,d)}return this._x=p,this._y=m,this._z=g,this._order=e,i&&this.onChangeCallback(this),this}});h.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],h.DefaultOrder="XYZ",t.exports=h},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.floor(t*n)/n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){return(i-e)*(t=n(t,0,1))+e}},function(t,e){t.exports=function(t,e){return t/e/1e3}},function(t,e){t.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t,e,i){return Math.min(t+e,i)}},function(t,e){t.exports=function(t){var e=t.length;if(0===e)return 0;t.sort((function(t,e){return t-e}));var i=Math.floor(e/2);return e%2==0?(t[i]+t[i-1])/2:t[i]}},function(t,e){t.exports=function(t,e,i){return Math.max(t-e,i)}},function(t,e){t.exports=function(t,e,i,n){void 0===i&&(i=e+1);var s=(t-e)/(i-e);return s>1?void 0!==n?(s=(n-t)/(n-i))<0&&(s=0):s=1:s<0&&(s=0),s}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI,n=2*Math.random()-1,s=Math.sqrt(1-n*n)*e;return t.x=Math.cos(i)*s,t.y=Math.sin(i)*s,t.z=n*e,t}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t}},function(t,e){t.exports=function(t,e){var i=t.x,n=t.y;return t.x=i*Math.cos(e)-n*Math.sin(e),t.y=i*Math.sin(e)+n*Math.cos(e),t}},function(t,e){t.exports=function(t,e,i,n,s){var r=n+Math.atan2(t.y-i,t.x-e);return t.x=e+s*Math.cos(r),t.y=i+s*Math.sin(r),t}},function(t,e){t.exports=function(t,e,i,n,s){return t.x=e+s*Math.cos(n),t.y=i+s*Math.sin(n),t}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.round(t*n)/n}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/t;for(var s=[],r=[],a=0;a<t;a++)e+=(i-=e*n)*n,s[a]=i,r[a]=e;return{sin:r,cos:s,length:t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(2);t.exports=function(t,e,i,s){void 0===s&&(s=new n);var r=0,a=0;return t>0&&t<=e*i&&(r=t>e-1?t-(a=Math.floor(t/e))*e:t),s.set(r,a)}},function(t,e){t.exports=function(t,e,i){return Math.abs(t-e)<=i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0)},clone:function(){return new n(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,n){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,s=t*t+e*e+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=e*s,this.z=i*s,this.w=n*s),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,s=this.z,r=this.w;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=s+e*(t.z-s),this.w=r+e*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,s=t.w-this.w||0;return Math.sqrt(e*e+i*i+n*n+s*s)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,s=t.w-this.w||0;return e*e+i*i+n*n+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,s=this.w,r=t.val;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12]*s,this.y=r[1]*e+r[5]*i+r[9]*n+r[13]*s,this.z=r[2]*e+r[6]*i+r[10]*n+r[14]*s,this.w=r[3]*e+r[7]*i+r[11]*n+r[15]*s,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,a=t.z,o=t.w,h=o*e+r*n-a*i,l=o*i+a*e-s*n,u=o*n+s*i-r*e,c=-s*e-r*i-a*n;return this.x=h*o+c*-s+l*-a-u*-r,this.y=l*o+c*-r+u*-s-h*-a,this.z=u*o+c*-a+h*-r-l*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});n.prototype.sub=n.prototype.subtract,n.prototype.mul=n.prototype.multiply,n.prototype.div=n.prototype.divide,n.prototype.dist=n.prototype.distance,n.prototype.distSq=n.prototype.distanceSq,n.prototype.len=n.prototype.length,n.prototype.lenSq=n.prototype.lengthSq,t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(12),s=i(19),r=i(42),a=new s,o=new r,h=new n;t.exports=function(t,e,i){return o.setAxisAngle(e,i),a.fromRotationTranslation(o,h.set(0,0,0)),t.transformMat4(a)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resize"},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var n=i(179),s=i(0),r=i(43),a=new s({Extends:n,initialize:function(t,e,i){n.call(this,e),this.scene=t,this.systems=t.sys,this.pluginKey=i,t.sys.events.once(r.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=a},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var n=new(i(0))({initialize:function(t){this.pluginManager=t,this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="addedtoscene"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="create"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postupdate"},function(t,e){
/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prerender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="preupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="ready"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="removedfromscene"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="render"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="shutdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="sleep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitioncomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitioninit"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionwake"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="wake"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),s=i(8),r=i(203),a=i(6),o=i(217),h=i(218),l=i(219),u=new n({Extends:h,initialize:function(t,e,i,n,r,u,c){var f,d,p,m=[],g=t.cacheManager.custom.spine;if(a(e)){var x=e;for(e=s(x,"key"),d=new o(t,{key:e,url:s(x,"jsonURL"),extension:s(x,"jsonExtension","json"),xhrSettings:s(x,"jsonXhrSettings")}),n=s(x,"atlasURL"),r=s(x,"preMultipliedAlpha"),Array.isArray(n)||(n=[n]),f=0;f<n.length;f++)(p=new l(t,{key:e+"!"+f,url:n[f],extension:s(x,"atlasExtension","atlas"),xhrSettings:s(x,"atlasXhrSettings")})).cache=g,m.push(p)}else for(d=new o(t,e,i,u),Array.isArray(n)||(n=[n]),f=0;f<n.length;f++)(p=new l(t,e+"!"+f,n[f],c)).cache=g,m.push(p);m.unshift(d),h.call(this,t,"spine",e,m),this.config.preMultipliedAlpha=r},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,"text"===t.type)){for(var e=t.data.split("\n"),i=[e[0]],n=0;n<e.length;n++){var a=e[n];""===a.trim()&&n<e.length-1&&(a=e[n+1],i.push(a))}var o=this.config,h=this.loader,l=h.baseURL,u=h.path,c=h.prefix,f=s(o,"baseURL",this.baseURL),d=s(o,"path",t.src.match(/^.*\//))[0],p=s(o,"prefix",this.prefix),m=s(o,"textureXhrSettings");h.setBaseURL(f),h.setPath(d),h.setPrefix(p);for(var g=0;g<i.length;g++){var x=i[g],y=new r(h,x,x,m);h.keyExists(y)||(this.addToMultiFile(y),h.addFile(y))}h.setBaseURL(l),h.setPath(u),h.setPrefix(c)}},addToCache:function(){if(this.isReadyToProcess()){var t;this.files[0].addToCache();for(var e="",i="",n=!!this.config.preMultipliedAlpha,s=this.loader.textureManager,r=1;r<this.files.length;r++){var a=this.files[r];if("text"===a.type)e=a.key.replace(/![\d]$/,""),t=a.cache,i=i.concat(a.data);else{var o=a.key.trim(),h=o.indexOf("!"),l=o.substr(h+1);s.exists(l)||s.addImage(l,a.data)}a.pendingDestroy()}t.add(e,{preMultipliedAlpha:n,data:i,prefix:this.prefix}),this.complete=!0}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(13),r=i(21),a=i(22),o=i(8),h=i(6),l=new n({Extends:r,initialize:function t(e,i,n,s,a){var l,u="png";if(h(i)){var c=i;i=o(c,"key"),n=o(c,"url"),l=o(c,"normalMap"),s=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"frameConfig")}Array.isArray(n)&&(l=n[1],n=n[0]);var f={type:"image",cache:e.textureManager,extension:u,responseType:"blob",key:i,url:n,xhrSettings:s,config:a};if(r.call(this,e,f),l){var d=new t(e,this.key,l,s,a);d.type="normalMap",this.setLink(d),e.addFile(d)}},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){r.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(t.data),t.onProcessError()},r.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===s.FILE_COMPLETE?(t="image"===this.type?this.cache.addImage(this.key,this.data,e.data):this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});a.register("image",(function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i));return this})),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADD:i(205),COMPLETE:i(206),FILE_COMPLETE:i(207),FILE_KEY_COMPLETE:i(208),FILE_LOAD_ERROR:i(209),FILE_LOAD:i(210),FILE_PROGRESS:i(211),POST_PROCESS:i(212),PROGRESS:i(213),START:i(214)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="addfile"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="filecomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="filecomplete-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loaderror"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="load"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="fileprogress"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postprocess"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="progress"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){t.exports=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(45);t.exports=function(t,e){var i=n(e,t.xhrSettings),s=new XMLHttpRequest;if(s.open("GET",t.src,i.async,i.user,i.password),s.responseType=t.xhrSettings.responseType,s.timeout=i.timeout,i.headers)for(var r in i.headers)s.setRequestHeader(r,i.headers[r]);return i.header&&i.headerValue&&s.setRequestHeader(i.header,i.headerValue),i.requestedWith&&s.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&s.overrideMimeType(i.overrideMimeType),i.withCredentials&&(s.withCredentials=!0),s.onload=t.onLoad.bind(t,s),s.onerror=t.onError.bind(t,s),s.onprogress=t.onProgress.bind(t),s.send(),s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(13),r=i(21),a=i(22),o=i(8),h=i(7),l=i(6),u=new n({Extends:r,initialize:function(t,e,i,n,a){var u="json";if(l(e)){var c=e;e=o(c,"key"),i=o(c,"url"),n=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"dataKey",a)}var f={type:"json",cache:t.cacheManager.json,extension:u,responseType:"text",key:e,url:i,xhrSettings:n,config:a};r.call(this,t,f),l(i)&&(this.data=a?h(i,a):i,this.state=s.FILE_POPULATED)},onProcess:function(){if(this.state!==s.FILE_POPULATED){this.state=s.FILE_PROCESSING;try{var t=JSON.parse(this.xhrLoader.responseText)}catch(t){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),t}var e=this.config;this.data="string"==typeof e?h(t,e,t):t}this.onProcessComplete()}});a.register("json",(function(t,e,i,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,n,i));return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n){var s=[];n.forEach((function(t){t&&s.push(t)})),this.loader=t,this.type=e,this.key=i,this.multiKeyIndex=t.multiKeyIndex++,this.files=s,this.complete=!1,this.pending=s.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var r=0;r<s.length;r++)s[r].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(13),r=i(21),a=i(22),o=i(8),h=i(6),l=new n({Extends:r,initialize:function(t,e,i,n){var s="text",a="txt",l=t.cacheManager.text;if(h(e)){var u=e;e=o(u,"key"),i=o(u,"url"),n=o(u,"xhrSettings"),a=o(u,"extension",a),s=o(u,"type",s),l=o(u,"cache",l)}var c={type:s,cache:l,extension:a,responseType:"text",key:e,url:i,xhrSettings:n};r.call(this,t,c)},onProcess:function(){this.state=s.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",(function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i));return this})),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27),s=i(5),r=i(0),a=i(47),o=i(48),h=i(49),l=i(50),u=i(51),c=i(53),f=i(16),d=i(18),p=i(54),m=i(20),g=i(242),x=i(249),y=new r({Extends:p,Mixins:[a,o,h,l,u,c,x],initialize:function(t,e,i,n,s,r,a){p.call(this,t,"Spine"),this.plugin=e,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null,this.root=null,this.bounds=null,this.drawDebug=!1,this.timeScale=1,this.displayOriginX=0,this.displayOriginY=0,this.preMultipliedAlpha=!1,this.blendMode=-1,this.setPosition(i,n),s&&this.setSkeleton(s,r,a)},willRender:function(t,e){var i=!this.skeleton||!(15!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id);if(!e&&!i&&this.parentContainer){var n=this.plugin,s=n.sceneRenderer;n.gl&&s.batcher.isDrawing&&(s.end(),n.renderer.pipelines.rebind())}return i},setAlpha:function(t,e){if(void 0===t&&(t=1),e){var i=this.findSlot(e);i&&(i.color.a=s(t,0,1))}else this.alpha=t;return this},alpha:{get:function(){return this.skeleton.color.a},set:function(t){var e=s(t,0,1);this.skeleton&&(this.skeleton.color.a=e),0===e?this.renderFlags&=-3:this.renderFlags|=2}},red:{get:function(){return this.skeleton.color.r},set:function(t){var e=s(t,0,1);this.skeleton&&(this.skeleton.color.r=e)}},green:{get:function(){return this.skeleton.color.g},set:function(t){var e=s(t,0,1);this.skeleton&&(this.skeleton.color.g=e)}},blue:{get:function(){return this.skeleton.color.b},set:function(t){var e=s(t,0,1);this.skeleton&&(this.skeleton.color.b=e)}},setColor:function(t,e){void 0===t&&(t=16777215);var i=(t>>16&255)/255,n=(t>>8&255)/255,s=(255&t)/255,r=t>16777215?(t>>>24)/255:null,a=this.skeleton;if(e){var o=this.findSlot(e);o&&(a=o)}return a.color.r=i,a.color.g=n,a.color.b=s,null!==r&&(a.color.a=r),this},setSkeletonFromJSON:function(t,e,i,n){return this.setSkeleton(t,e,i,n)},setSkeleton:function(t,e,i,n){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications());var s=this.plugin.createSkeleton(t,n);this.skeletonData=s.skeletonData,this.preMultipliedAlpha=s.preMultipliedAlpha;var r=s.skeleton;return r.setSkin(),r.setToSetupPose(),this.skeleton=r,s=this.plugin.createAnimationState(r),this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.state=s.state,this.stateData=s.stateData,this.state.addListener({event:this.onEvent.bind(this),complete:this.onComplete.bind(this),start:this.onStart.bind(this),end:this.onEnd.bind(this),dispose:this.onDispose.bind(this),interrupted:this.onInterrupted.bind(this)}),e&&this.setAnimation(0,e,i),this.root=this.getRootBone(),this.root&&(this.root.rotation=m(f(this.rotation))+90),this.state.apply(r),r.updateCache(),this.updateSize()},onComplete:function(t){this.emit(g.COMPLETE,t)},onDispose:function(t){this.emit(g.DISPOSE,t)},onEnd:function(t){this.emit(g.END,t)},onEvent:function(t,e){this.emit(g.EVENT,t,e)},onInterrupted:function(t){this.emit(g.INTERRUPTED,t)},onStart:function(t){this.emit(g.START,t)},refresh:function(){return this.root&&(this.root.rotation=m(f(this.rotation))+90),this.updateSize(),this.skeleton.updateCache(),this},setSize:function(t,e,i,n){var s=this.skeleton;return void 0===t&&(t=s.data.width),void 0===e&&(e=s.data.height),void 0===i&&(i=0),void 0===n&&(n=0),this.width=t,this.height=e,this.displayOriginX=s.x-i,this.displayOriginY=s.y-n,this},setOffset:function(t,e){var i=this.skeleton;return void 0===t&&(t=0),void 0===e&&(e=0),this.displayOriginX=i.x-t,this.displayOriginY=i.y-e,this},updateSize:function(){var t=this.skeleton,e=this.plugin.renderer.height,i=this.scaleX,n=this.scaleY;t.x=this.x,t.y=e-this.y,t.scaleX=1,t.scaleY=1,t.updateWorldTransform();var s=this.getBounds();return this.width=s.size.x,this.height=s.size.y,this.displayOriginX=this.x-s.offset.x,this.displayOriginY=this.y-(e-(this.height+s.offset.y)),t.scaleX=i,t.scaleY=n,t.updateWorldTransform(),this},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,this.refresh()}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,this.refresh()}},getBoneList:function(){var t=[],e=this.skeletonData;if(e)for(var i=0;i<e.bones.length;i++)t.push(e.bones[i].name);return t},getSkinList:function(){var t=[],e=this.skeletonData;if(e)for(var i=0;i<e.skins.length;i++)t.push(e.skins[i].name);return t},getSlotList:function(){for(var t=[],e=this.skeleton,i=0;i<e.slots.length;i++)t.push(e.slots[i].data.name);return t},getAnimationList:function(){var t=[],e=this.skeletonData;if(e)for(var i=0;i<e.animations.length;i++)t.push(e.animations[i].name);return t},getCurrentAnimation:function(t){void 0===t&&(t=0);var e=this.state.getCurrent(t);if(e)return e.animation},play:function(t,e,i){return this.setAnimation(0,t,e,i),this},setAnimation:function(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),n&&this.state){var s=this.state.getCurrent(t);if(s&&s.animation.name===e&&!s.isComplete())return}if(this.findAnimation(e))return this.state.setAnimation(t,e,i)},addAnimation:function(t,e,i,n){return void 0===i&&(i=!1),void 0===n&&(n=0),this.state.addAnimation(t,e,i,n)},setEmptyAnimation:function(t,e){return this.state.setEmptyAnimation(t,e)},clearTrack:function(t){return this.state.clearTrack(t),this},clearTracks:function(){return this.state.clearTracks(),this},setSkinByName:function(t){var e=this.skeleton;return e.setSkinByName(t),e.setSlotsToSetupPose(),this.state.apply(e),this},setSkin:function(t){var e=this.skeleton;return e.setSkin(t),e.setSlotsToSetupPose(),this.state.apply(e),this},setMix:function(t,e,i){return this.stateData.setMix(t,e,i),this},getAttachment:function(t,e){return this.skeleton.getAttachment(t,e)},getAttachmentByName:function(t,e){return this.skeleton.getAttachmentByName(t,e)},setAttachment:function(t,e){if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length)for(var i=0;i<t.length;i++)this.skeleton.setAttachment(t[i],e[i]);else this.skeleton.setAttachment(t,e);return this},setToSetupPose:function(){return this.skeleton.setToSetupPose(),this},setSlotsToSetupPose:function(){return this.skeleton.setSlotsToSetupPose(),this},setBonesToSetupPose:function(){return this.skeleton.setBonesToSetupPose(),this},getRootBone:function(){return this.skeleton.getRootBone()},angleBoneToXY:function(t,e,i,r,a,o){void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=360);var h=this.plugin.renderer.height,l=f(n(t.worldX,h-t.worldY,e,i)+d(r));return t.rotation=s(m(l),a,o),this},findBone:function(t){return this.skeleton.findBone(t)},findBoneIndex:function(t){return this.skeleton.findBoneIndex(t)},findSlot:function(t){return this.skeleton.findSlot(t)},findSlotIndex:function(t){return this.skeleton.findSlotIndex(t)},findSkin:function(t){return this.skeletonData.findSkin(t)},findEvent:function(t){return this.skeletonData.findEvent(t)},findAnimation:function(t){return this.skeletonData.findAnimation(t)},findIkConstraint:function(t){return this.skeletonData.findIkConstraint(t)},findTransformConstraint:function(t){return this.skeletonData.findTransformConstraint(t)},findPathConstraint:function(t){return this.skeletonData.findPathConstraint(t)},findPathConstraintIndex:function(t){return this.skeletonData.findPathConstraintIndex(t)},getBounds:function(){return this.plugin.getBounds(this.skeleton)},preUpdate:function(t,e){var i=this.skeleton;this.state.update(e/1e3*this.timeScale),this.state.apply(i)},preDestroy:function(){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.plugin=null,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null}});t.exports=y},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(222),r=new n({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once(s.DESTROY,this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],n=0;n<t.length;n++)i.push(e[t[n]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},inc:function(t,e){if(this._frozen)return this;void 0===e&&(e=1);var i=this.get(t);return void 0===i&&(i=0),this.set(t,i+e),this},toggle:function(t){return this._frozen||this.set(t,!this.get(t)),this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,n=this.list,r=this.events,a=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return n[t]},set:function(e){if(!i._frozen){var o=n[t];n[t]=e,r.emit(s.CHANGE_DATA,a,t,e,o),r.emit(s.CHANGE_DATA_KEY+t,a,e,o)}}}),n[t]=e,r.emit(s.SET_DATA,a,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var s in this.list)i[1]=s,i[2]=this.list[s],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(s.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(s.REMOVE_DATA,this.parent,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(s.CHANGE_DATA),this.events.off(s.SET_DATA),this.events.off(s.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CHANGE_DATA:i(223),CHANGE_DATA_KEY:i(224),DESTROY:i(225),REMOVE_DATA:i(226),SET_DATA:i(227)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="changedata"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="changedata-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="removedata"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="setdata"},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,s="~";function r(){}function a(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,i,n,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new a(i,n||t,r),h=s?s+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],o]:t._events[h].push(o):(t._events[h]=o,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),l.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},l.prototype.listeners=function(t){var e=s?s+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,r=i.length,a=new Array(r);n<r;n++)a[n]=i[n].fn;return a},l.prototype.listenerCount=function(t){var e=s?s+t:t,i=this._events[e];return i?i.fn?1:i.length:0},l.prototype.emit=function(t,e,i,n,r,a){var o=s?s+t:t;if(!this._events[o])return!1;var h,l,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,r),!0;case 6:return u.fn.call(u.context,e,i,n,r,a),!0}for(l=1,h=new Array(c-1);l<c;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var f,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,n);break;default:if(!h)for(f=1,h=new Array(c-1);f<c;f++)h[f-1]=arguments[f];u[l].fn.apply(u[l].context,h)}}return!0},l.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},l.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},l.prototype.removeListener=function(t,e,i,n){var r=s?s+t:t;if(!this._events[r])return this;if(!e)return h(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||h(this,r);else{for(var o=0,l=[],u=a.length;o<u;o++)(a[o].fn!==e||n&&!a[o].once||i&&a[o].context!==i)&&l.push(a[o]);l.length?this._events[r]=1===l.length?l[0]:l:h(this,r)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&h(this,e)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="addedtoscene"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="removedfromscene"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="created"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="error"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="play"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="seeked"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="seeking"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="stop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="timeout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="unlocked"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={COMPLETE:i(243),DISPOSE:i(244),END:i(245),EVENT:i(246),INTERRUPTED:i(247),START:i(248)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dispose"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="end"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="event"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="interrupted"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1),s=i(1),r=i(1);s=i(250),t.exports={renderWebGL:n,renderCanvas:s,renderDirect:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(16),s=i(20),r=i(11);t.exports=function(t,e,i,a){var o=t.currentContext,h=e.plugin,l=e.skeleton,u=h.skeletonRenderer,c=t._tempMatrix1,f=t._tempMatrix2,d=t._tempMatrix3;i.addToRenderList(e),f.applyITRS(e.x,e.y,e.rotation,Math.abs(e.scaleX),Math.abs(e.scaleY)),c.copyFrom(i.matrix),a?(c.multiplyWithOffset(a,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y,c.multiply(f,d)):(f.e-=i.scrollX*e.scrollFactorX,f.f-=i.scrollY*e.scrollFactorY,c.multiply(f,d)),l.x=d.tx,l.y=d.ty,l.scaleX=d.scaleX,l.scaleY=-1*d.scaleY,e.scaleX<0?(l.scaleX*=-1,e.root.rotation=s(d.rotationNormalized)):e.root.rotation=r(s(n(d.rotationNormalized))+90,0,360),e.scaleY<0&&(l.scaleY*=-1,e.scaleX<0?e.root.rotation-=2*s(d.rotationNormalized):e.root.rotation+=2*s(d.rotationNormalized)),i.renderToTexture&&(l.y=d.ty,l.scaleY*=-1),l.updateWorldTransform(),u.ctx=o,u.debugRendering=h.drawDebug||e.drawDebug,o.save(),u.draw(l),o.restore()}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),s=i(252),r=i(345),a=new n({Extends:s,Mixins:[r],initialize:function(t,e,i,n,r){s.call(this,t,i,n,r),this.type="Spine",this.plugin=e},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null,this.plugin=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(253),s=i(15),r=i(0),a=i(292),o=i(56),h=i(54),l=i(24),u=i(342),c=i(344),f=i(2),d=new r({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,u],initialize:function(t,e,i,n){h.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(e,i),this.clearAlpha(),this.setBlendMode(s.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new l),t.setTo(this.x,this.y,0,0),this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);t.setTo(e.x,e.y,0,0)}if(this.list.length>0){var i=this.list,n=new l,s=!1;t.setEmpty();for(var r=0;r<i.length;r++){var a=i[r];a.getBounds&&(a.getBounds(n),s?c(n,t,t):(t.setTo(n.x,n.y,n.width,n.height),s=!0))}}return t},addHandler:function(t){t.once(o.DESTROY,this.remove,this),this.exclusive&&(t.parentContainer&&t.parentContainer.remove(t),t.removeFromDisplayList(),t.parentContainer=this)},removeHandler:function(t){t.off(o.DESTROY,this.remove),this.exclusive&&(t.parentContainer=null,t.addToDisplayList())},pointToContainer:function(t,e){void 0===e&&(e=new f),this.parentContainer?this.parentContainer.pointToContainer(t,e):e=new f(t.x,t.y);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return n.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return n.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),n.StableSort(this.list,e),this):this},getByName:function(t){return n.GetFirst(this.list,"name",t)},getRandom:function(t,e){return n.GetRandom(this.list,t,e)},getFirst:function(t,e,i,s){return n.GetFirst(this.list,t,e,i,s)},getAll:function(t,e,i,s){return n.GetAll(this.list,t,e,i,s)},count:function(t,e,i,s){return n.CountAllMatching(this.list,t,e,i,s)},swap:function(t,e){return n.Swap(this.list,t,e),this},moveTo:function(t,e){return n.MoveTo(this.list,t,e),this},moveAbove:function(t,e){return n.MoveAbove(this.list,t,e),this},moveBelow:function(t,e){return n.MoveBelow(this.list,t,e),this},remove:function(t,e){var i=n.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var s=0;s<i.length;s++)i[s].destroy()}return this},removeAt:function(t,e){var i=n.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var s=n.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var r=0;r<s.length;r++)s[r].destroy();return this},removeAll:function(t){var e=n.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(var i=0;i<e.length;i++)e[i].destroy();return this},bringToTop:function(t){return n.BringToTop(this.list,t),this},sendToBack:function(t){return n.SendToBack(this.list,t),this},moveUp:function(t){return n.MoveUp(this.list,t),this},moveDown:function(t){return n.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(t,e,i){return n.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,s){return n.SetAll(this.list,t,e,i,s),this},each:function(t,e){var i,n=[null],s=this.list.slice(),r=s.length;for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<r;i++)n[0]=s[i],t.apply(e,n);return this},iterate:function(t,e){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],t.apply(e,n);return this},setScrollFactor:function(t,e,i){return void 0===e&&(e=t),void 0===i&&(i=!1),this.scrollFactorX=t,this.scrollFactorY=e,i&&(n.SetAll(this.list,"scrollFactorX",t),n.SetAll(this.list,"scrollFactorY",e)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Matrix:i(254),Add:i(263),AddAt:i(264),BringToTop:i(265),CountAllMatching:i(266),Each:i(267),EachInRange:i(268),FindClosestInSorted:i(269),GetAll:i(270),GetFirst:i(271),GetRandom:i(272),MoveDown:i(273),MoveTo:i(274),MoveUp:i(275),MoveAbove:i(276),MoveBelow:i(277),NumberArray:i(278),NumberArrayStep:i(279),QuickSelect:i(280),Range:i(281),Remove:i(282),RemoveAt:i(283),RemoveBetween:i(284),RemoveRandomElement:i(285),Replace:i(286),RotateLeft:i(58),RotateRight:i(59),SafeRange:i(4),SendToBack:i(287),SetAll:i(288),Shuffle:i(60),SortByDigits:i(289),SpliceOne:i(9),StableSort:i(290),Swap:i(291)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CheckMatrix:i(23),MatrixToString:i(255),ReverseColumns:i(257),ReverseRows:i(258),Rotate180:i(259),RotateLeft:i(260),RotateMatrix:i(14),RotateRight:i(261),Translate:i(262),TransposeMatrix:i(57)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(256),s=i(23);t.exports=function(t){var e="";if(!s(t))return e;for(var i=0;i<t.length;i++){for(var r=0;r<t[i].length;r++){var a=t[i][r].toString();e+="undefined"!==a?n(a,2):"?",r<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+="\n";for(var o=0;o<t[i].length;o++)e+="---",o<t[i].length-1&&(e+="+");e+="\n"}}return e}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===n&&(n=3);var s=0;if(e+1>=(t=t.toString()).length)switch(n){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var r=Math.ceil((s=e-t.length)/2);t=new Array(s-r+1).join(i)+t+new Array(r+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t}},function(t,e){t.exports=function(t){return t.reverse()}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(14);t.exports=function(t){return n(t,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(14);t.exports=function(t){return n(t,90)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(14);t.exports=function(t){return n(t,-90)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(58),s=i(59);t.exports=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),0!==i&&(i<0?n(t,Math.abs(i)):s(t,i)),0!==e)for(var r=0;r<t.length;r++){var a=t[r];e<0?n(a,Math.abs(e)):s(a,e)}return t}},function(t,e){t.exports=function(t,e,i,n,s){if(void 0===s&&(s=t),i>0){var r=i-t.length;if(r<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),n&&n.call(s,e),e):null;for(var a=e.length-1;a>=0;)-1!==t.indexOf(e[a])&&e.splice(a,1),a--;if(0===(a=e.length))return null;i>0&&a>r&&(e.splice(r),a=r);for(var o=0;o<a;o++){var h=e[o];t.push(h),n&&n.call(s,h)}return e}},function(t,e){t.exports=function(t,e,i,n,s,r){if(void 0===i&&(i=0),void 0===r&&(r=t),n>0){var a=n-t.length;if(a<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),s&&s.call(r,e),e):null;for(var o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.pop(),o--;if(0===(o=e.length))return null;n>0&&o>a&&(e.splice(a),o=a);for(var h=o-1;h>=0;h--){var l=e[h];t.splice(i,0,l),s&&s.call(r,l)}return e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){void 0===s&&(s=0),void 0===r&&(r=t.length);var a=0;if(n(t,s,r))for(var o=s;o<r;o++){t[o][e]===i&&a++}return a}},function(t,e){t.exports=function(t,e,i){var n,s=[null];for(n=3;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<t.length;n++)s[0]=t[n],e.apply(i,s);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){if(void 0===s&&(s=0),void 0===r&&(r=t.length),n(t,s,r)){var a,o=[null];for(a=5;a<arguments.length;a++)o.push(arguments[a]);for(a=s;a<r;a++)o[0]=t[a],e.apply(i,o)}return t}},function(t,e){t.exports=function(t,e,i){if(!e.length)return NaN;if(1===e.length)return e[0];var n,s,r=1;if(i){if(t<e[0][i])return e[0];for(;e[r][i]<t;)r++}else for(;e[r]<t;)r++;return r>e.length&&(r=e.length),i?(n=e[r-1][i],(s=e[r][i])-t<=t-n?e[r]:e[r-1]):(n=e[r-1],(s=e[r])-t<=t-n?s:n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){void 0===s&&(s=0),void 0===r&&(r=t.length);var a=[];if(n(t,s,r))for(var o=s;o<r;o++){var h=t[o];(!e||e&&void 0===i&&h.hasOwnProperty(e)||e&&void 0!==i&&h[e]===i)&&a.push(h)}return a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){if(void 0===s&&(s=0),void 0===r&&(r=t.length),n(t,s,r))for(var a=s;a<r;a++){var o=t[a];if(!e||e&&void 0===i&&o.hasOwnProperty(e)||e&&void 0!==i&&o[e]===i)return o}return null}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return void 0===t[n]?null:t[n]}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(i>0){var n=t[i-1],s=t.indexOf(n);t[i]=n,t[s]=e}return t}},function(t,e){t.exports=function(t,e,i){var n=t.indexOf(e);if(-1===n||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return n!==i&&(t.splice(n,1),t.splice(i,0,e)),e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(-1!==i&&i<t.length-1){var n=t[i+1],s=t.indexOf(n);t[i]=n,t[s]=e}return t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var n=t.indexOf(e),s=t.indexOf(i);if(n<0||s<0)throw new Error("Supplied items must be elements of the same array");return n>s||(t.splice(n,1),s===t.length-1?t.push(e):t.splice(s,0,e)),t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var n=t.indexOf(e),s=t.indexOf(i);if(n<0||s<0)throw new Error("Supplied items must be elements of the same array");return n<s||(t.splice(n,1),0===s?t.unshift(e):t.splice(s,0,e)),t}},function(t,e){t.exports=function(t,e,i,n){var s,r=[],a=!1;if((i||n)&&(a=!0,i||(i=""),n||(n="")),e<t)for(s=t;s>=e;s--)a?r.push(i+s.toString()+n):r.push(s);else for(s=t;s<=e;s++)a?r.push(i+s.toString()+n):r.push(s);return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(39);t.exports=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var s=[],r=Math.max(n((e-t)/(i||1)),0),a=0;a<r;a++)s.push(t),t+=i;return s}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}var s=function(t,e,r,a,o){for(void 0===r&&(r=0),void 0===a&&(a=t.length-1),void 0===o&&(o=n);a>r;){if(a-r>600){var h=a-r+1,l=e-r+1,u=Math.log(h),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(h-c)/h)*(l-h/2<0?-1:1),d=Math.max(r,Math.floor(e-l*c/h+f)),p=Math.min(a,Math.floor(e+(h-l)*c/h+f));s(t,e,d,p,o)}var m=t[e],g=r,x=a;for(i(t,r,e),o(t[a],m)>0&&i(t,r,a);g<x;){for(i(t,g,x),g++,x--;o(t[g],m)<0;)g++;for(;o(t[x],m)>0;)x--}0===o(t[r],m)?i(t,r,x):i(t,++x,a),x<=e&&(r=x+1),e<=x&&(a=x-1)}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(7),s=i(60),r=function(t,e,i){for(var n=[],s=0;s<t.length;s++)for(var r=0;r<e.length;r++)for(var a=0;a<i;a++)n.push({a:t[s],b:e[r]});return n};t.exports=function(t,e,i){var a=n(i,"max",0),o=n(i,"qty",1),h=n(i,"random",!1),l=n(i,"randomB",!1),u=n(i,"repeat",0),c=n(i,"yoyo",!1),f=[];if(l&&s(e),-1===u)if(0===a)u=0;else{var d=t.length*e.length*o;c&&(d*=2),u=Math.ceil(a/d)}for(var p=0;p<=u;p++){var m=r(t,e,o);h&&s(m),f=f.concat(m),c&&(m.reverse(),f=f.concat(m))}return a&&f.splice(a),f}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(9);t.exports=function(t,e,i,s){var r;if(void 0===s&&(s=t),!Array.isArray(e))return-1!==(r=t.indexOf(e))?(n(t,r),i&&i.call(s,e),e):null;for(var a=e.length-1,o=[];a>=0;){var h=e[a];-1!==(r=t.indexOf(h))&&(n(t,r),o.push(h),i&&i.call(s,h)),a--}return o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(9);t.exports=function(t,e,i,s){if(void 0===s&&(s=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var r=n(t,e);return i&&i.call(s,r),r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){if(void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===r&&(r=t),n(t,e,i)){var a=i-e,o=t.splice(e,a);if(s)for(var h=0;h<o.length;h++){var l=o[h];s.call(r,l)}return o}return[]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(9);t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);return n(t,s)}},function(t,e){t.exports=function(t,e,i){var n=t.indexOf(e),s=t.indexOf(i);return-1!==n&&-1===s&&(t[n]=i,!0)}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(4);t.exports=function(t,e,i,s,r){if(void 0===s&&(s=0),void 0===r&&(r=t.length),n(t,s,r))for(var a=s;a<r;a++){var o=t[a];o.hasOwnProperty(e)&&(o[e]=i)}return t}},function(t,e){t.exports=function(t){var e=/\D/g;return t.sort((function(t,i){return parseInt(t.replace(e,""),10)-parseInt(i.replace(e,""),10)})),t}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function i(t,e){return String(t).localeCompare(e)}function n(t,e,i,n){var s,r,a,o,h,l=t.length,u=0,c=2*i;for(s=0;s<l;s+=c)for(a=(r=s+i)+i,r>l&&(r=l),a>l&&(a=l),o=s,h=r;;)if(o<r&&h<a)e(t[o],t[h])<=0?n[u++]=t[o++]:n[u++]=t[h++];else if(o<r)n[u++]=t[o++];else{if(!(h<a))break;n[u++]=t[h++]}}t.exports=function(t,e){void 0===e&&(e=i);var s=function(t,e){var i=t.length;if(i<=1)return t;for(var s=new Array(i),r=1;r<i;r*=2){n(t,e,r,s);var a=t;t=s,s=a}return t}(t,e);return s!==t&&n(s,null,t.length,t),t}},function(t,e){t.exports=function(t,e,i){if(e===i)return t;var n=t.indexOf(e),s=t.indexOf(i);if(n<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[n]=i,t[s]=e,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Alpha:i(293),AlphaSingle:i(294),BlendMode:i(295),ComputedSize:i(47),Crop:i(296),Depth:i(48),Flip:i(49),GetBounds:i(297),Mask:i(306),Origin:i(331),PathFollower:i(332),Pipeline:i(335),ScrollFactor:i(50),Size:i(338),Texture:i(339),TextureCrop:i(340),Tint:i(341),ToJSON:i(55),Transform:i(51),TransformMatrix:i(52),Visible:i(53)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(5),s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,s){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=n(t,0,1),this._alphaTR=n(e,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=n(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=n(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=n(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=n(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=n(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(5),s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t){return void 0===t&&(t=1),this.alpha=t,this},alpha:{get:function(){return this._alpha},set:function(t){var e=n(t,0,1);this._alpha=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(15),s={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"==typeof t&&(t=n[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=s},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(24),s=i(38),r=i(2),a={prepareBoundsOutput:function(t,e){(void 0===e&&(e=!1),0!==this.rotation&&s(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getCenter:function(t){return void 0===t&&(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopRight:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getLeftCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getRightCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getBottomLeft:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomRight:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBounds:function(t){var e,i,s,r,a,o,h,l;if(void 0===t&&(t=new n),this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),u.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),u.transformPoint(t.x,t.y,t),s=t.x,r=t.y,this.getBottomLeft(t),u.transformPoint(t.x,t.y,t),a=t.x,o=t.y,this.getBottomRight(t),u.transformPoint(t.x,t.y,t),h=t.x,l=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),s=t.x,r=t.y,this.getBottomLeft(t),a=t.x,o=t.y,this.getBottomRight(t),h=t.x,l=t.y;return t.x=Math.min(e,s,a,h),t.y=Math.min(i,r,o,l),t.width=Math.max(e,s,a,h)-t.x,t.height=Math.max(i,r,o,l)-t.y,t}};t.exports=a},function(t,e){t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&(t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(61),s=i(62);t.exports=function(t,e,i,r){void 0===r&&(r=[]),!e&&i>0&&(e=s(t)/i);for(var a=0;a<e;a++){var o=a/e;r.push(n(t,o))}return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(301),r=i(302),a=i(25),o=i(304),h=i(2),l=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=a.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=n},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},getPointA:function(t){return void 0===t&&(t=new h),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new h),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(10);t.exports=function(t,e,i){return void 0===i&&(i=new n),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(303),s=i(10);t.exports=function(t,e,i,r){void 0===r&&(r=[]),!e&&i>0&&(e=n(t)/i);for(var a=t.x1,o=t.y1,h=t.x2,l=t.y2,u=0;u<e;u++){var c=u/e,f=a+(h-a)*c,d=o+(l-o)*c;r.push(new s(f,d))}return r}},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(10);t.exports=function(t,e){void 0===e&&(e=new n);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(10);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(307),s=i(330),r={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&(this.texture||this.shader)&&(t=this),new n(this.scene,t)},createGeometryMask:function(t){return void 0===t&&"Graphics"===this.type&&(t=this),new s(this.scene,t)}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(0),s=i(308),r=i(325),a=new n({initialize:function(t,e){var i=t.sys.renderer;this.renderer=i,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),t.sys.game.events.on(s.CONTEXT_RESTORED,this.createMask,this),i&&i.on(r.RESIZE,this.createMask,this)},createMask:function(){var t=this.renderer;if(t&&t.gl){this.mainTexture&&this.clearMask();var e=t.width,i=t.height,n=0==(e&e-1)&&0==(i&i-1),s=t.gl,r=n?s.REPEAT:s.CLAMP_TO_EDGE,a=s.LINEAR;this.mainTexture=t.createTexture2D(0,a,a,r,r,s.RGBA,null,e,i),this.maskTexture=t.createTexture2D(0,a,a,r,r,s.RGBA,null,e,i),this.mainFramebuffer=t.createFramebuffer(e,i,this.mainTexture,!0),this.maskFramebuffer=t.createFramebuffer(e,i,this.maskTexture,!0)}},clearMask:function(){var t=this.renderer;t&&t.gl&&this.mainTexture&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.beginMask(this,e,i)},postRenderWebGL:function(t,e){t.pipelines.BITMAPMASK_PIPELINE.endMask(this,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(r.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BLUR:i(309),BOOT:i(310),CONTEXT_LOST:i(311),CONTEXT_RESTORED:i(312),DESTROY:i(313),FOCUS:i(314),HIDDEN:i(315),PAUSE:i(316),POST_RENDER:i(317),POST_STEP:i(318),PRE_RENDER:i(319),PRE_STEP:i(320),READY:i(321),RESUME:i(322),STEP:i(323),VISIBLE:i(324)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="blur"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="contextlost"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="contextrestored"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="focus"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="hidden"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postrender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="poststep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prerender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prestep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="ready"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="step"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="visible"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={POST_RENDER:i(326),PRE_RENDER:i(327),RENDER:i(328),RESIZE:i(329)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postrender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prerender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="render"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resize"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.geometryMask=e,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(t){return this.geometryMask=t,this},setInvertAlpha:function(t){return void 0===t&&(t=!0),this.invertAlpha=t,this},preRenderWebGL:function(t,e,i){var n=t.gl;t.flush(),0===t.maskStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),t.maskCount=0),t.currentCameraMask.mask!==this&&(t.currentMask.mask=this),t.maskStack.push({mask:this,camera:i}),this.applyStencil(t,i,!0),t.maskCount++},applyStencil:function(t,e,i){var n=t.gl,s=this.geometryMask,r=t.maskCount;n.colorMask(!1,!1,!1,!1),i?(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),s.renderWebGL(t,s,e),t.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),i?this.invertAlpha?n.stencilFunc(n.NOTEQUAL,r+1,255):n.stencilFunc(n.EQUAL,r+1,255):this.invertAlpha?n.stencilFunc(n.NOTEQUAL,r,255):n.stencilFunc(n.EQUAL,r,255)},postRenderWebGL:function(t){var e=t.gl;t.maskStack.pop(),t.maskCount--,t.flush();var i=t.currentMask;if(0===t.maskStack.length)i.mask=null,e.disable(e.STENCIL_TEST);else{var n=t.maskStack[t.maskStack.length-1];n.mask.applyStencil(t,n.camera,!1),t.currentCameraMask.mask!==n.mask?(i.mask=n.mask,i.camera=n.camera):i.mask=null}},preRenderCanvas:function(t,e,i){var n=this.geometryMask;t.currentContext.save(),n.renderCanvas(t,n,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(18),s=i(333),r=i(7),a=i(334),o=i(2),h={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return void 0===e&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){void 0===t&&(t={}),void 0===e&&(e=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof t&&(t={duration:t}),t.from=r(t,"from",0),t.to=r(t,"to",1);var h=s(t,"positionOnPath",!1);this.rotateToPath=s(t,"rotateToPath",!1),this.pathRotationOffset=r(t,"rotationOffset",0);var l=r(t,"startAt",e);if(l&&(t.onStart=function(t){var e=t.data[0];e.progress=l,e.elapsed=e.duration*l;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i,e.target[e.key]=e.current}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+n(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},pathUpdate:function(){var t=this.pathTween;if(t){var e=t.data[0],i=this.pathDelta,s=this.pathVector;if(i.copy(s).negate(),e.state===a.COMPLETE)return this.path.getPoint(1,s),i.add(s),s.add(this.pathOffset),void this.setPosition(s.x,s.y);if(e.state!==a.PLAYING_FORWARD&&e.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(t.getValue(),s),i.add(s),s.add(this.pathOffset);var r=this.x,o=this.y;this.setPosition(s.x,s.y);var h=this.x-r,l=this.y-o;if(0===h&&0===l)return;if(e.state!==this._prevDirection)return void(this._prevDirection=e.state);this.rotateToPath&&(this.rotation=Math.atan2(l,h)+n(this.pathRotationOffset))}}};t.exports=h},function(t,e){t.exports=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}},function(t,e){t.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(336),s=i(337),r=i(9),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(t){void 0===t&&(t=s.MULTI_PIPELINE);var e=this.scene.sys.renderer;if(!e)return!1;var i=e.pipelines;if(this.postPipelines=[],this.pipelineData={},i){var n=i.get(t);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(t,e,i){var s=this.scene.sys.renderer;if(!s)return this;var r=s.pipelines;if(r){var a=r.get(t);a&&(this.pipeline=a),e&&(this.pipelineData=i?n(e):e)}return this},setPostPipeline:function(t,e,i){var s=this.scene.sys.renderer;if(!s)return this;var r=s.pipelines;if(r){Array.isArray(t)||(t=[t]);for(var a=0;a<t.length;a++){var o=r.getPostPipeline(t[a],this);o&&this.postPipelines.push(o)}e&&(this.pipelineData=i?n(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(t,e){var i=this.pipelineData;return void 0===e?delete i[t]:i[t]=e,this},getPostPipeline:function(t){for(var e=this.postPipelines,i=[],n=0;n<e.length;n++){var s=e[n];("string"==typeof t&&s.name===t||s instanceof t)&&i.push(s)}return 1===i.length?i[0]:i},resetPipeline:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.pipeline=this.defaultPipeline,t&&(this.postPipelines=[],this.hasPostPipeline=!1),e&&(this.pipelineData={}),null!==this.pipeline},resetPostPipeline:function(t){void 0===t&&(t=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,t&&(this.pipelineData={})},removePostPipeline:function(t){for(var e=this.postPipelines,i=e.length-1;i>=0;i--){var n=e[i];("string"==typeof t&&n.name===t||"string"!=typeof t&&n instanceof t)&&(n.destroy(),r(e,i))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i=function(t){var e,n,s;if("object"!=typeof t||null===t)return t;for(s in e=Array.isArray(t)?[]:{},t)n=t[s],e[s]=i(n);return e};t.exports=i},function(t,e){t.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,e,i,n){return void 0===t&&(t=16777215),void 0===e&&(e=t,i=t,n=t),this.tintTopLeft=t,this.tintTopRight=e,this.tintBottomLeft=i,this.tintBottomRight=n,this.tintFill=!1,this},setTintFill:function(t,e,i,n){return this.setTint(t,e,i,n),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this.tintFill||16777215!==this.tintTopLeft||16777215!==this.tintTopRight||16777215!==this.tintBottomLeft||16777215!==this.tintBottomRight}}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(1),s=i(1);s=i(343),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){t.exports=function(t,e,i,n){i.addToRenderList(e);var s=e.list;if(0!==s.length){var r=e.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var a=-1!==e.blendMode;a||t.setBlendMode(0);var o=e._alpha,h=e.scrollFactorX,l=e.scrollFactorY;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var u=0;u<s.length;u++){var c=s[u];if(c.willRender(i)){var f=c.alpha,d=c.scrollFactorX,p=c.scrollFactorY;a||c.blendMode===t.currentBlendMode||t.setBlendMode(c.blendMode),c.setScrollFactor(d*h,p*l),c.setAlpha(f*o),c.renderCanvas(t,c,i,r),c.setAlpha(f),c.setScrollFactor(d,p)}}e.mask&&e.mask.postRenderCanvas(t)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(24);t.exports=function(t,e,i){void 0===i&&(i=new n);var s=Math.min(t.x,e.x),r=Math.min(t.y,e.y),a=Math.max(t.right,e.right)-s,o=Math.max(t.bottom,e.bottom)-r;return i.setTo(s,r,a,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var n=i(1),s=i(1);s=i(346),t.exports={renderWebGL:n,renderCanvas:s}},function(t,e){t.exports=function(t,e,i,n){var s=e.list;if(0!==s.length){i.addToRenderList(e);var r=e.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var a=-1!==e.blendMode;a||t.setBlendMode(0);var o=e._alpha,h=e.scrollFactorX,l=e.scrollFactorY;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var u=0;u<s.length;u++){var c=s[u];if(c.willRender(i)){var f=c.alpha,d=c.scrollFactorX,p=c.scrollFactorY;a||c.blendMode===t.currentBlendMode||t.setBlendMode(c.blendMode),c.setScrollFactor(d*h,p*l),c.setAlpha(f*o),c.renderCanvas(t,c,i,r),c.setAlpha(f),c.setScrollFactor(d,p)}}e.mask&&e.mask.postRenderCanvas(t)}}}]);